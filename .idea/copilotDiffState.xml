<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/signuploginrealtime/Activity_adjusting_workout.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/signuploginrealtime/Activity_adjusting_workout.java" />
              <option name="originalContent" value="package com.example.signuploginrealtime;&#10;&#10;import android.animation.ObjectAnimator;&#10;import android.content.Intent;&#10;import android.content.SharedPreferences;&#10;import android.os.Bundle;&#10;import android.os.Handler;&#10;import android.util.Log;&#10;import android.view.View;&#10;import android.view.animation.LinearInterpolator;&#10;import android.widget.ImageView;&#10;import android.widget.LinearLayout;&#10;import android.widget.ProgressBar;&#10;import android.widget.TextView;&#10;&#10;import androidx.activity.EdgeToEdge;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.appcompat.widget.AppCompatButton;&#10;import androidx.core.graphics.Insets;&#10;import androidx.core.view.ViewCompat;&#10;import androidx.core.view.WindowInsetsCompat;&#10;&#10;import com.google.firebase.auth.FirebaseAuth;&#10;import com.google.firebase.firestore.FirebaseFirestore;&#10;&#10;import java.util.HashMap;&#10;import java.util.Map;&#10;&#10;public class Activity_adjusting_workout extends AppCompatActivity {&#10;&#10;    private static final String TAG = &quot;AdjustingWorkout&quot;;&#10;&#10;    private ProgressBar progressBar;&#10;    private TextView tvPercentage, tvLoadingText;&#10;    private ImageView imgLoading;&#10;    private LinearLayout successContainer;&#10;    private AppCompatButton btnDone;&#10;&#10;    private Handler handler = new Handler();&#10;    private int progress = 0;&#10;&#10;    private String adjustmentType;&#10;    private String originalFeedback;&#10;&#10;    private FirebaseAuth mAuth;&#10;    private FirebaseFirestore db;&#10;    private SharedPreferences workoutPrefs;&#10;&#10;    @Override&#10;    protected void onCreate(Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        EdgeToEdge.enable(this);&#10;        setContentView(R.layout.activity_adjusting_workout);&#10;        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -&gt; {&#10;            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());&#10;            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);&#10;            return insets;&#10;        });&#10;&#10;        // Get adjustment details&#10;        adjustmentType = getIntent().getStringExtra(&quot;adjustment_type&quot;);&#10;        originalFeedback = getIntent().getStringExtra(&quot;original_feedback&quot;);&#10;&#10;        mAuth = FirebaseAuth.getInstance();&#10;        db = FirebaseFirestore.getInstance();&#10;&#10;        if (mAuth.getCurrentUser() != null) {&#10;            String userId = mAuth.getCurrentUser().getUid();&#10;            workoutPrefs = getSharedPreferences(&quot;workout_prefs_&quot; + userId, MODE_PRIVATE);&#10;        } else {&#10;            workoutPrefs = getSharedPreferences(&quot;workout_prefs_default&quot;, MODE_PRIVATE);&#10;        }&#10;&#10;        initializeViews();&#10;        startLoadingAnimation();&#10;        startProgress();&#10;    }&#10;&#10;    private void initializeViews() {&#10;        progressBar = findViewById(R.id.progressBar);&#10;        tvPercentage = findViewById(R.id.tvPercentage);&#10;        tvLoadingText = findViewById(R.id.tvLoadingText);&#10;        imgLoading = findViewById(R.id.imgLoading);&#10;        successContainer = findViewById(R.id.successContainer);&#10;        btnDone = findViewById(R.id.btnDone);&#10;&#10;        btnDone.setOnClickListener(v -&gt; {&#10;            Intent intent = new Intent(this, MainActivity.class);&#10;            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);&#10;            startActivity(intent);&#10;            finish();&#10;        });&#10;    }&#10;&#10;    private void startLoadingAnimation() {&#10;        // Rotate the loading icon continuously&#10;        ObjectAnimator rotateAnimation = ObjectAnimator.ofFloat(imgLoading, &quot;rotation&quot;, 0f, 360f);&#10;        rotateAnimation.setDuration(1500);&#10;        rotateAnimation.setRepeatCount(ObjectAnimator.INFINITE);&#10;        rotateAnimation.setInterpolator(new LinearInterpolator());&#10;        rotateAnimation.start();&#10;    }&#10;&#10;    private void startProgress() {&#10;        // Simulate progress from 0 to 100%&#10;        handler.postDelayed(new Runnable() {&#10;            @Override&#10;            public void run() {&#10;                if (progress &lt;= 100) {&#10;                    progressBar.setProgress(progress);&#10;                    tvPercentage.setText(progress + &quot;%&quot;);&#10;&#10;                    // When we reach 50%, start the actual adjustment&#10;                    if (progress == 50) {&#10;                        applyWorkoutAdjustment();&#10;                    }&#10;&#10;                    progress += 2; // Increment by 2% each time&#10;                    handler.postDelayed(this, 50); // Update every 50ms&#10;                } else {&#10;                    showSuccessScreen();&#10;                }&#10;            }&#10;        }, 100);&#10;    }&#10;&#10;    private void applyWorkoutAdjustment() {&#10;        if (mAuth.getCurrentUser() == null) return;&#10;&#10;        String userId = mAuth.getCurrentUser().getUid();&#10;&#10;        // Calculate adjustment multipliers based on feedback&#10;        double adjustmentMultiplier = calculateAdjustmentMultiplier();&#10;&#10;        // Save adjustment to Firestore&#10;        Map&lt;String, Object&gt; adjustmentData = new HashMap&lt;&gt;();&#10;        adjustmentData.put(&quot;adjustmentType&quot;, adjustmentType);&#10;        adjustmentData.put(&quot;originalFeedback&quot;, originalFeedback);&#10;        adjustmentData.put(&quot;adjustmentMultiplier&quot;, adjustmentMultiplier);&#10;        adjustmentData.put(&quot;timestamp&quot;, System.currentTimeMillis());&#10;&#10;        db.collection(&quot;users&quot;)&#10;                .document(userId)&#10;                .collection(&quot;workoutAdjustments&quot;)&#10;                .add(adjustmentData)&#10;                .addOnSuccessListener(documentReference -&gt; {&#10;                    Log.d(TAG, &quot;Workout adjustment saved&quot;);&#10;&#10;                    // Update user's workout difficulty preference&#10;                    updateUserDifficultyPreference(userId, adjustmentMultiplier);&#10;                })&#10;                .addOnFailureListener(e -&gt; {&#10;                    Log.e(TAG, &quot;Error saving adjustment&quot;, e);&#10;                });&#10;&#10;        // Save to SharedPreferences for immediate use&#10;        workoutPrefs.edit()&#10;                .putFloat(&quot;workout_difficulty_multiplier&quot;, (float) adjustmentMultiplier)&#10;                .putLong(&quot;last_adjustment_timestamp&quot;, System.currentTimeMillis())&#10;                .apply();&#10;    }&#10;&#10;    private double calculateAdjustmentMultiplier() {&#10;        // Base multiplier is 1.0 (no change)&#10;        double multiplier = 1.0;&#10;&#10;        boolean isTooHard = originalFeedback != null &amp;&amp; originalFeedback.contains(&quot;hard&quot;);&#10;&#10;        if (adjustmentType != null) {&#10;            if (adjustmentType.contains(&quot;Way&quot;)) {&#10;                // Way easier/harder: 20-25% change&#10;                multiplier = isTooHard ? 0.75 : 1.25;&#10;            } else if (adjustmentType.contains(&quot;little&quot;)) {&#10;                // A little easier/harder: 10-15% change&#10;                multiplier = isTooHard ? 0.85 : 1.15;&#10;            }&#10;        }&#10;&#10;        return multiplier;&#10;    }&#10;&#10;    private void updateUserDifficultyPreference(String userId, double multiplier) {&#10;        Map&lt;String, Object&gt; updates = new HashMap&lt;&gt;();&#10;        updates.put(&quot;workoutDifficultyMultiplier&quot;, multiplier);&#10;        updates.put(&quot;lastDifficultyAdjustment&quot;, System.currentTimeMillis());&#10;&#10;        db.collection(&quot;users&quot;)&#10;                .document(userId)&#10;                .update(updates)&#10;                .addOnSuccessListener(aVoid -&gt; {&#10;                    Log.d(TAG, &quot;User difficulty preference updated&quot;);&#10;                })&#10;                .addOnFailureListener(e -&gt; {&#10;                    Log.e(TAG, &quot;Error updating difficulty preference&quot;, e);&#10;                });&#10;    }&#10;&#10;    private void showSuccessScreen() {&#10;        // Hide loading views&#10;        progressBar.setVisibility(View.GONE);&#10;        tvPercentage.setVisibility(View.GONE);&#10;        tvLoadingText.setVisibility(View.GONE);&#10;        imgLoading.setVisibility(View.GONE);&#10;&#10;        // Show success container&#10;        successContainer.setVisibility(View.VISIBLE);&#10;    }&#10;&#10;    @Override&#10;    protected void onDestroy() {&#10;        super.onDestroy();&#10;        handler.removeCallbacksAndMessages(null); // Clean up handler&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.example.signuploginrealtime;&#10;&#10;import android.animation.ObjectAnimator;&#10;import android.content.Intent;&#10;import android.content.SharedPreferences;&#10;import android.os.Bundle;&#10;import android.os.Handler;&#10;import android.util.Log;&#10;import android.view.View;&#10;import android.view.animation.LinearInterpolator;&#10;import android.widget.ImageView;&#10;import android.widget.LinearLayout;&#10;import android.widget.ProgressBar;&#10;import android.widget.TextView;&#10;&#10;import androidx.activity.EdgeToEdge;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.appcompat.widget.AppCompatButton;&#10;import androidx.core.graphics.Insets;&#10;import androidx.core.view.ViewCompat;&#10;import androidx.core.view.WindowInsetsCompat;&#10;&#10;import com.google.firebase.auth.FirebaseAuth;&#10;import com.google.firebase.firestore.FirebaseFirestore;&#10;&#10;import java.util.HashMap;&#10;import java.util.Map;&#10;&#10;public class Activity_adjusting_workout extends AppCompatActivity {&#10;&#10;    private static final String TAG = &quot;AdjustingWorkout&quot;;&#10;&#10;    private ProgressBar progressBar;&#10;    private TextView tvPercentage, tvLoadingText;&#10;    private ImageView imgLoading;&#10;    private LinearLayout successContainer;&#10;    private AppCompatButton btnDone;&#10;&#10;    private Handler handler = new Handler();&#10;    private int progress = 0;&#10;&#10;    private String adjustmentType;&#10;    private String originalFeedback;&#10;&#10;    private FirebaseAuth mAuth;&#10;    private FirebaseFirestore db;&#10;    private SharedPreferences workoutPrefs;&#10;&#10;    @Override&#10;    protected void onCreate(Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        EdgeToEdge.enable(this);&#10;        setContentView(R.layout.activity_adjusting_workout);&#10;        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -&gt; {&#10;            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());&#10;            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);&#10;            return insets;&#10;        });&#10;&#10;        // Get adjustment details&#10;        adjustmentType = getIntent().getStringExtra(&quot;adjustment_type&quot;);&#10;        originalFeedback = getIntent().getStringExtra(&quot;original_feedback&quot;);&#10;&#10;        mAuth = FirebaseAuth.getInstance();&#10;        db = FirebaseFirestore.getInstance();&#10;&#10;        if (mAuth.getCurrentUser() != null) {&#10;            String userId = mAuth.getCurrentUser().getUid();&#10;            workoutPrefs = getSharedPreferences(&quot;workout_prefs_&quot; + userId, MODE_PRIVATE);&#10;        } else {&#10;            workoutPrefs = getSharedPreferences(&quot;workout_prefs_default&quot;, MODE_PRIVATE);&#10;        }&#10;&#10;        initializeViews();&#10;        startLoadingAnimation();&#10;        startProgress();&#10;    }&#10;&#10;    private void initializeViews() {&#10;        progressBar = findViewById(R.id.progressBar);&#10;        tvPercentage = findViewById(R.id.tvPercentage);&#10;        tvLoadingText = findViewById(R.id.tvLoadingText);&#10;        imgLoading = findViewById(R.id.imgLoading);&#10;        successContainer = findViewById(R.id.successContainer);&#10;        btnDone = findViewById(R.id.btnDone);&#10;&#10;        btnDone.setOnClickListener(v -&gt; {&#10;            // Go to workout summary first to celebrate the completed workout&#10;            Intent intent = new Intent(this, WorkoutSummaryActivity.class);&#10;            &#10;            // Try to pass any available workout data&#10;            Intent previousIntent = getIntent();&#10;            if (previousIntent.hasExtra(&quot;workoutDuration&quot;)) {&#10;                intent.putExtra(&quot;workoutDuration&quot;, previousIntent.getIntExtra(&quot;workoutDuration&quot;, 0));&#10;            }&#10;            if (previousIntent.hasExtra(&quot;performanceData&quot;)) {&#10;                intent.putExtra(&quot;performanceData&quot;, previousIntent.getSerializableExtra(&quot;performanceData&quot;));&#10;            }&#10;            &#10;            startActivity(intent);&#10;            finish();&#10;        });&#10;    }&#10;&#10;    private void startLoadingAnimation() {&#10;        // Rotate the loading icon continuously&#10;        ObjectAnimator rotateAnimation = ObjectAnimator.ofFloat(imgLoading, &quot;rotation&quot;, 0f, 360f);&#10;        rotateAnimation.setDuration(1500);&#10;        rotateAnimation.setRepeatCount(ObjectAnimator.INFINITE);&#10;        rotateAnimation.setInterpolator(new LinearInterpolator());&#10;        rotateAnimation.start();&#10;    }&#10;&#10;    private void startProgress() {&#10;        // Simulate progress from 0 to 100%&#10;        handler.postDelayed(new Runnable() {&#10;            @Override&#10;            public void run() {&#10;                if (progress &lt;= 100) {&#10;                    progressBar.setProgress(progress);&#10;                    tvPercentage.setText(progress + &quot;%&quot;);&#10;&#10;                    // When we reach 50%, start the actual adjustment&#10;                    if (progress == 50) {&#10;                        applyWorkoutAdjustment();&#10;                    }&#10;&#10;                    progress += 2; // Increment by 2% each time&#10;                    handler.postDelayed(this, 50); // Update every 50ms&#10;                } else {&#10;                    showSuccessScreen();&#10;                }&#10;            }&#10;        }, 100);&#10;    }&#10;&#10;    private void applyWorkoutAdjustment() {&#10;        if (mAuth.getCurrentUser() == null) return;&#10;&#10;        String userId = mAuth.getCurrentUser().getUid();&#10;&#10;        // Calculate adjustment multipliers based on feedback&#10;        double adjustmentMultiplier = calculateAdjustmentMultiplier();&#10;&#10;        // Save adjustment to Firestore&#10;        Map&lt;String, Object&gt; adjustmentData = new HashMap&lt;&gt;();&#10;        adjustmentData.put(&quot;adjustmentType&quot;, adjustmentType);&#10;        adjustmentData.put(&quot;originalFeedback&quot;, originalFeedback);&#10;        adjustmentData.put(&quot;adjustmentMultiplier&quot;, adjustmentMultiplier);&#10;        adjustmentData.put(&quot;timestamp&quot;, System.currentTimeMillis());&#10;&#10;        db.collection(&quot;users&quot;)&#10;                .document(userId)&#10;                .collection(&quot;workoutAdjustments&quot;)&#10;                .add(adjustmentData)&#10;                .addOnSuccessListener(documentReference -&gt; {&#10;                    Log.d(TAG, &quot;Workout adjustment saved&quot;);&#10;&#10;                    // Update user's workout difficulty preference&#10;                    updateUserDifficultyPreference(userId, adjustmentMultiplier);&#10;                })&#10;                .addOnFailureListener(e -&gt; {&#10;                    Log.e(TAG, &quot;Error saving adjustment&quot;, e);&#10;                });&#10;&#10;        // Save to SharedPreferences for immediate use&#10;        workoutPrefs.edit()&#10;                .putFloat(&quot;workout_difficulty_multiplier&quot;, (float) adjustmentMultiplier)&#10;                .putLong(&quot;last_adjustment_timestamp&quot;, System.currentTimeMillis())&#10;                .apply();&#10;    }&#10;&#10;    private double calculateAdjustmentMultiplier() {&#10;        // Base multiplier is 1.0 (no change)&#10;        double multiplier = 1.0;&#10;&#10;        boolean isTooHard = originalFeedback != null &amp;&amp; originalFeedback.contains(&quot;hard&quot;);&#10;&#10;        if (adjustmentType != null) {&#10;            if (adjustmentType.contains(&quot;Way&quot;)) {&#10;                // Way easier/harder: 20-25% change&#10;                multiplier = isTooHard ? 0.75 : 1.25;&#10;            } else if (adjustmentType.contains(&quot;little&quot;)) {&#10;                // A little easier/harder: 10-15% change&#10;                multiplier = isTooHard ? 0.85 : 1.15;&#10;            }&#10;        }&#10;&#10;        return multiplier;&#10;    }&#10;&#10;    private void updateUserDifficultyPreference(String userId, double multiplier) {&#10;        Map&lt;String, Object&gt; updates = new HashMap&lt;&gt;();&#10;        updates.put(&quot;workoutDifficultyMultiplier&quot;, multiplier);&#10;        updates.put(&quot;lastDifficultyAdjustment&quot;, System.currentTimeMillis());&#10;&#10;        db.collection(&quot;users&quot;)&#10;                .document(userId)&#10;                .update(updates)&#10;                .addOnSuccessListener(aVoid -&gt; {&#10;                    Log.d(TAG, &quot;User difficulty preference updated&quot;);&#10;                })&#10;                .addOnFailureListener(e -&gt; {&#10;                    Log.e(TAG, &quot;Error updating difficulty preference&quot;, e);&#10;                });&#10;    }&#10;&#10;    private void showSuccessScreen() {&#10;        // Hide loading views&#10;        progressBar.setVisibility(View.GONE);&#10;        tvPercentage.setVisibility(View.GONE);&#10;        tvLoadingText.setVisibility(View.GONE);&#10;        imgLoading.setVisibility(View.GONE);&#10;&#10;        // Show success container&#10;        successContainer.setVisibility(View.VISIBLE);&#10;    }&#10;&#10;    @Override&#10;    protected void onDestroy() {&#10;        super.onDestroy();&#10;        handler.removeCallbacksAndMessages(null); // Clean up handler&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/signuploginrealtime/Activity_prepare_easier_plan.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/signuploginrealtime/Activity_prepare_easier_plan.java" />
              <option name="originalContent" value="package com.example.signuploginrealtime;&#10;&#10;import android.content.Intent;&#10;import android.graphics.Color;&#10;import android.os.Bundle;&#10;import android.view.View;&#10;import android.widget.ImageView;&#10;import android.widget.TextView;&#10;&#10;import androidx.activity.EdgeToEdge;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.appcompat.widget.AppCompatButton;&#10;import androidx.core.graphics.Insets;&#10;import androidx.core.view.ViewCompat;&#10;import androidx.core.view.WindowInsetsCompat;&#10;&#10;public class Activity_prepare_easier_plan extends AppCompatActivity {&#10;&#10;    private AppCompatButton btnKeepSame, btnLittleEasier, btnWayEasier, btnDone;&#10;    private ImageView btnBack;&#10;    private TextView tvFeedbackText, tvTitle;&#10;    private AppCompatButton selectedButton;&#10;    private String selectedOption = &quot;Way easier&quot;; // Default selection&#10;    private String originalFeedback;&#10;&#10;    @Override&#10;    protected void onCreate(Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        EdgeToEdge.enable(this);&#10;        setContentView(R.layout.activity_prepare_easier_plan);&#10;        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -&gt; {&#10;            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());&#10;            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);&#10;            return insets;&#10;        });&#10;&#10;        // Get original feedback&#10;        originalFeedback = getIntent().getStringExtra(&quot;feedback&quot;);&#10;&#10;        initializeViews();&#10;        updateUIBasedOnFeedback();&#10;        setupClickListeners();&#10;&#10;        // Set default selection&#10;        selectedButton = btnWayEasier;&#10;    }&#10;&#10;    private void initializeViews() {&#10;        btnKeepSame = findViewById(R.id.btnKeepSame);&#10;        btnLittleEasier = findViewById(R.id.btnLittleEasier);&#10;        btnWayEasier = findViewById(R.id.btnWayEasier);&#10;        btnDone = findViewById(R.id.btnDone);&#10;        btnBack = findViewById(R.id.btnBack);&#10;        tvFeedbackText = findViewById(R.id.tvFeedbackText);&#10;        tvTitle = findViewById(R.id.tvTitle);&#10;    }&#10;&#10;    private void updateUIBasedOnFeedback() {&#10;        if (originalFeedback == null) return;&#10;&#10;        if (originalFeedback.contains(&quot;hard&quot;)) {&#10;            tvFeedbackText.setText(&quot;Too hard? I see...&quot;);&#10;            tvTitle.setText(&quot;Shall I prepare an easier plan\nfor you?&quot;);&#10;            btnLittleEasier.setText(&quot;Just a little easier&quot;);&#10;            btnWayEasier.setText(&quot;Way easier&quot;);&#10;        } else if (originalFeedback.contains(&quot;easy&quot;)) {&#10;            tvFeedbackText.setText(&quot;Too easy? I see...&quot;);&#10;            tvTitle.setText(&quot;Shall I prepare a harder plan\nfor you?&quot;);&#10;            btnLittleEasier.setText(&quot;Just a little harder&quot;);&#10;            btnWayEasier.setText(&quot;Way harder&quot;);&#10;            selectedOption = &quot;Way harder&quot;;&#10;        }&#10;    }&#10;&#10;    private void setupClickListeners() {&#10;        // Back button&#10;        btnBack.setOnClickListener(v -&gt; finish());&#10;&#10;        // Option buttons&#10;        View.OnClickListener selectionListener = v -&gt; {&#10;            AppCompatButton clickedButton = (AppCompatButton) v;&#10;            selectButton(clickedButton);&#10;        };&#10;&#10;        btnKeepSame.setOnClickListener(selectionListener);&#10;        btnLittleEasier.setOnClickListener(selectionListener);&#10;        btnWayEasier.setOnClickListener(selectionListener);&#10;&#10;        // Done button&#10;        btnDone.setOnClickListener(v -&gt; {&#10;            if (selectedOption.equals(&quot;No, just keep everything the same&quot;)) {&#10;                // No adjustment needed&#10;                Intent intent = new Intent(this, MainActivity.class);&#10;                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);&#10;                startActivity(intent);&#10;                finish();&#10;            } else {&#10;                // Proceed to adjustment&#10;                Intent intent = new Intent(this, Activity_adjusting_workout.class);&#10;                intent.putExtra(&quot;adjustment_type&quot;, selectedOption);&#10;                intent.putExtra(&quot;original_feedback&quot;, originalFeedback);&#10;                startActivity(intent);&#10;                finish();&#10;            }&#10;        });&#10;    }&#10;&#10;    private void selectButton(AppCompatButton button) {&#10;        // Reset all buttons to unselected state&#10;        resetButton(btnKeepSame);&#10;        resetButton(btnLittleEasier);&#10;        resetButton(btnWayEasier);&#10;&#10;        // Select the clicked button&#10;        button.setBackgroundResource(R.drawable.option_button_selected);&#10;        button.setTextColor(Color.WHITE);&#10;&#10;        // Update selected button and option&#10;        selectedButton = button;&#10;        selectedOption = button.getText().toString();&#10;    }&#10;&#10;    private void resetButton(AppCompatButton button) {&#10;        button.setBackgroundResource(R.drawable.option_button_unselected);&#10;        button.setTextColor(Color.BLACK);&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.example.signuploginrealtime;&#10;&#10;import android.content.Intent;&#10;import android.graphics.Color;&#10;import android.os.Bundle;&#10;import android.view.View;&#10;import android.widget.ImageView;&#10;import android.widget.TextView;&#10;&#10;import androidx.activity.EdgeToEdge;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.appcompat.widget.AppCompatButton;&#10;import androidx.core.graphics.Insets;&#10;import androidx.core.view.ViewCompat;&#10;import androidx.core.view.WindowInsetsCompat;&#10;&#10;public class Activity_prepare_easier_plan extends AppCompatActivity {&#10;&#10;    private AppCompatButton btnKeepSame, btnLittleEasier, btnWayEasier, btnDone;&#10;    private ImageView btnBack;&#10;    private TextView tvFeedbackText, tvTitle;&#10;    private AppCompatButton selectedButton;&#10;    private String selectedOption = &quot;Way easier&quot;; // Default selection&#10;    private String originalFeedback;&#10;&#10;    @Override&#10;    protected void onCreate(Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        EdgeToEdge.enable(this);&#10;        setContentView(R.layout.activity_prepare_easier_plan);&#10;        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -&gt; {&#10;            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());&#10;            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);&#10;            return insets;&#10;        });&#10;&#10;        // Get original feedback&#10;        originalFeedback = getIntent().getStringExtra(&quot;feedback&quot;);&#10;&#10;        initializeViews();&#10;        updateUIBasedOnFeedback();&#10;        setupClickListeners();&#10;&#10;        // Set default selection&#10;        selectedButton = btnWayEasier;&#10;    }&#10;&#10;    private void initializeViews() {&#10;        btnKeepSame = findViewById(R.id.btnKeepSame);&#10;        btnLittleEasier = findViewById(R.id.btnLittleEasier);&#10;        btnWayEasier = findViewById(R.id.btnWayEasier);&#10;        btnDone = findViewById(R.id.btnDone);&#10;        btnBack = findViewById(R.id.btnBack);&#10;        tvFeedbackText = findViewById(R.id.tvFeedbackText);&#10;        tvTitle = findViewById(R.id.tvTitle);&#10;    }&#10;&#10;    private void updateUIBasedOnFeedback() {&#10;        if (originalFeedback == null) return;&#10;&#10;        if (originalFeedback.contains(&quot;hard&quot;)) {&#10;            tvFeedbackText.setText(&quot;Too hard? I see...&quot;);&#10;            tvTitle.setText(&quot;Shall I prepare an easier plan\nfor you?&quot;);&#10;            btnLittleEasier.setText(&quot;Just a little easier&quot;);&#10;            btnWayEasier.setText(&quot;Way easier&quot;);&#10;        } else if (originalFeedback.contains(&quot;easy&quot;)) {&#10;            tvFeedbackText.setText(&quot;Too easy? I see...&quot;);&#10;            tvTitle.setText(&quot;Shall I prepare a harder plan\nfor you?&quot;);&#10;            btnLittleEasier.setText(&quot;Just a little harder&quot;);&#10;            btnWayEasier.setText(&quot;Way harder&quot;);&#10;            selectedOption = &quot;Way harder&quot;;&#10;        }&#10;    }&#10;&#10;    private void setupClickListeners() {&#10;        // Back button&#10;        btnBack.setOnClickListener(v -&gt; finish());&#10;&#10;        // Option buttons&#10;        View.OnClickListener selectionListener = v -&gt; {&#10;            AppCompatButton clickedButton = (AppCompatButton) v;&#10;            selectButton(clickedButton);&#10;        };&#10;&#10;        btnKeepSame.setOnClickListener(selectionListener);&#10;        btnLittleEasier.setOnClickListener(selectionListener);&#10;        btnWayEasier.setOnClickListener(selectionListener);&#10;&#10;        // Done button&#10;        btnDone.setOnClickListener(v -&gt; {&#10;            if (selectedOption.equals(&quot;No, just keep everything the same&quot;)) {&#10;                // No adjustment needed - show workout summary&#10;                Intent intent = new Intent(this, WorkoutSummaryActivity.class);&#10;                &#10;                // Try to get workout data from the chain if available&#10;                Intent previousIntent = getIntent();&#10;                if (previousIntent.hasExtra(&quot;workoutDuration&quot;)) {&#10;                    intent.putExtra(&quot;workoutDuration&quot;, previousIntent.getIntExtra(&quot;workoutDuration&quot;, 0));&#10;                }&#10;                if (previousIntent.hasExtra(&quot;performanceData&quot;)) {&#10;                    intent.putExtra(&quot;performanceData&quot;, previousIntent.getSerializableExtra(&quot;performanceData&quot;));&#10;                }&#10;                &#10;                startActivity(intent);&#10;                finish();&#10;            } else {&#10;                // Proceed to adjustment&#10;                Intent intent = new Intent(this, Activity_adjusting_workout.class);&#10;                intent.putExtra(&quot;adjustment_type&quot;, selectedOption);&#10;                intent.putExtra(&quot;original_feedback&quot;, originalFeedback);&#10;                &#10;                // Pass workout data through&#10;                Intent previousIntent = getIntent();&#10;                if (previousIntent.hasExtra(&quot;workoutDuration&quot;)) {&#10;                    intent.putExtra(&quot;workoutDuration&quot;, previousIntent.getIntExtra(&quot;workoutDuration&quot;, 0));&#10;                }&#10;                if (previousIntent.hasExtra(&quot;performanceData&quot;)) {&#10;                    intent.putExtra(&quot;performanceData&quot;, previousIntent.getSerializableExtra(&quot;performanceData&quot;));&#10;                }&#10;                if (previousIntent.hasExtra(&quot;workout_name&quot;)) {&#10;                    intent.putExtra(&quot;workout_name&quot;, previousIntent.getStringExtra(&quot;workout_name&quot;));&#10;                }&#10;                if (previousIntent.hasExtra(&quot;total_exercises&quot;)) {&#10;                    intent.putExtra(&quot;total_exercises&quot;, previousIntent.getIntExtra(&quot;total_exercises&quot;, 0));&#10;                }&#10;                &#10;                startActivity(intent);&#10;                finish();&#10;            }&#10;        });&#10;    }&#10;&#10;    private void selectButton(AppCompatButton button) {&#10;        // Reset all buttons to unselected state&#10;        resetButton(btnKeepSame);&#10;        resetButton(btnLittleEasier);&#10;        resetButton(btnWayEasier);&#10;&#10;        // Select the clicked button&#10;        button.setBackgroundResource(R.drawable.option_button_selected);&#10;        button.setTextColor(Color.WHITE);&#10;&#10;        // Update selected button and option&#10;        selectedButton = button;&#10;        selectedOption = button.getText().toString();&#10;    }&#10;&#10;    private void resetButton(AppCompatButton button) {&#10;        button.setBackgroundResource(R.drawable.option_button_unselected);&#10;        button.setTextColor(Color.BLACK);&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/signuploginrealtime/Activity_workout_feedback.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/signuploginrealtime/Activity_workout_feedback.java" />
              <option name="originalContent" value="package com.example.signuploginrealtime;&#10;&#10;import android.content.Intent;&#10;import android.graphics.Color;&#10;import android.os.Bundle;&#10;import android.view.View;&#10;import android.widget.ImageView;&#10;import android.widget.Toast;&#10;&#10;import androidx.activity.EdgeToEdge;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.appcompat.widget.AppCompatButton;&#10;import androidx.core.graphics.Insets;&#10;import androidx.core.view.ViewCompat;&#10;import androidx.core.view.WindowInsetsCompat;&#10;&#10;public class Activity_workout_feedback extends AppCompatActivity {&#10;&#10;    private AppCompatButton btnTooEasy, btnLittleEasy, btnJustRight, btnLittleHard, btnTooHard, btnDone;&#10;    private ImageView btnClose;&#10;    private AppCompatButton selectedButton;&#10;    private String selectedFeedback = &quot;Just right&quot;; // Default selection&#10;&#10;    @Override&#10;    protected void onCreate(Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        EdgeToEdge.enable(this);&#10;        setContentView(R.layout.activity_workout_feedback);&#10;        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -&gt; {&#10;            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());&#10;            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);&#10;            return insets;&#10;        });&#10;&#10;        initializeViews();&#10;        setupClickListeners();&#10;&#10;        // Set default selection to &quot;Just right&quot;&#10;        selectedButton = btnJustRight;&#10;    }&#10;&#10;    private void initializeViews() {&#10;        btnTooEasy = findViewById(R.id.btnTooEasy);&#10;        btnLittleEasy = findViewById(R.id.btnLittleEasy);&#10;        btnJustRight = findViewById(R.id.btnJustRight);&#10;        btnLittleHard = findViewById(R.id.btnLittleHard);&#10;        btnTooHard = findViewById(R.id.btnTooHard);&#10;        btnDone = findViewById(R.id.btnDone);&#10;        btnClose = findViewById(R.id.btnClose);&#10;    }&#10;&#10;    private void setupClickListeners() {&#10;        // Close button&#10;        btnClose.setOnClickListener(v -&gt; finish());&#10;&#10;        // Feedback option buttons&#10;        View.OnClickListener selectionListener = v -&gt; {&#10;            AppCompatButton clickedButton = (AppCompatButton) v;&#10;            selectButton(clickedButton);&#10;        };&#10;&#10;        btnTooEasy.setOnClickListener(selectionListener);&#10;        btnLittleEasy.setOnClickListener(selectionListener);&#10;        btnJustRight.setOnClickListener(selectionListener);&#10;        btnLittleHard.setOnClickListener(selectionListener);&#10;        btnTooHard.setOnClickListener(selectionListener);&#10;&#10;        // Done button&#10;        btnDone.setOnClickListener(v -&gt; {&#10;            handleFeedback();&#10;        });&#10;    }&#10;&#10;    private void selectButton(AppCompatButton button) {&#10;        // Reset all buttons to unselected state&#10;        resetButton(btnTooEasy);&#10;        resetButton(btnLittleEasy);&#10;        resetButton(btnJustRight);&#10;        resetButton(btnLittleHard);&#10;        resetButton(btnTooHard);&#10;&#10;        // Select the clicked button&#10;        button.setBackgroundResource(R.drawable.option_button_selected);&#10;        button.setTextColor(Color.WHITE);&#10;&#10;        // Update selected button and feedback&#10;        selectedButton = button;&#10;        selectedFeedback = button.getText().toString();&#10;    }&#10;&#10;    private void resetButton(AppCompatButton button) {&#10;        button.setBackgroundResource(R.drawable.option_button_unselected);&#10;        button.setTextColor(Color.BLACK);&#10;    }&#10;&#10;    private void handleFeedback() {&#10;        // Check if adjustment is needed&#10;        if (selectedFeedback.equals(&quot;Too hard&quot;) ||&#10;                selectedFeedback.equals(&quot;A little hard&quot;) ||&#10;                selectedFeedback.equals(&quot;Too easy&quot;) ||&#10;                selectedFeedback.equals(&quot;A little easy&quot;)) {&#10;&#10;            // Go to adjustment options screen&#10;            Intent intent = new Intent(this, Activity_prepare_easier_plan.class);&#10;            intent.putExtra(&quot;feedback&quot;, selectedFeedback);&#10;            startActivity(intent);&#10;            finish();&#10;        } else {&#10;            // Just right - go to main&#10;            Toast.makeText(this, &quot;Thank you for your feedback!&quot;, Toast.LENGTH_SHORT).show();&#10;            Intent intent = new Intent(this, MainActivity.class);&#10;            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);&#10;            startActivity(intent);&#10;            finish();&#10;        }&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.example.signuploginrealtime;&#10;&#10;import android.content.Intent;&#10;import android.graphics.Color;&#10;import android.os.Bundle;&#10;import android.view.View;&#10;import android.widget.ImageView;&#10;import android.widget.Toast;&#10;&#10;import androidx.activity.EdgeToEdge;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.appcompat.widget.AppCompatButton;&#10;import androidx.core.graphics.Insets;&#10;import androidx.core.view.ViewCompat;&#10;import androidx.core.view.WindowInsetsCompat;&#10;&#10;public class Activity_workout_feedback extends AppCompatActivity {&#10;&#10;    private AppCompatButton btnTooEasy, btnLittleEasy, btnJustRight, btnLittleHard, btnTooHard, btnDone;&#10;    private ImageView btnClose;&#10;    private AppCompatButton selectedButton;&#10;    private String selectedFeedback = &quot;Just right&quot;; // Default selection&#10;&#10;    @Override&#10;    protected void onCreate(Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        EdgeToEdge.enable(this);&#10;        setContentView(R.layout.activity_workout_feedback);&#10;        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -&gt; {&#10;            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());&#10;            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);&#10;            return insets;&#10;        });&#10;&#10;        initializeViews();&#10;        setupClickListeners();&#10;&#10;        // Set default selection to &quot;Just right&quot;&#10;        selectedButton = btnJustRight;&#10;    }&#10;&#10;    private void initializeViews() {&#10;        btnTooEasy = findViewById(R.id.btnTooEasy);&#10;        btnLittleEasy = findViewById(R.id.btnLittleEasy);&#10;        btnJustRight = findViewById(R.id.btnJustRight);&#10;        btnLittleHard = findViewById(R.id.btnLittleHard);&#10;        btnTooHard = findViewById(R.id.btnTooHard);&#10;        btnDone = findViewById(R.id.btnDone);&#10;        btnClose = findViewById(R.id.btnClose);&#10;    }&#10;&#10;    private void setupClickListeners() {&#10;        // Close button&#10;        btnClose.setOnClickListener(v -&gt; finish());&#10;&#10;        // Feedback option buttons&#10;        View.OnClickListener selectionListener = v -&gt; {&#10;            AppCompatButton clickedButton = (AppCompatButton) v;&#10;            selectButton(clickedButton);&#10;        };&#10;&#10;        btnTooEasy.setOnClickListener(selectionListener);&#10;        btnLittleEasy.setOnClickListener(selectionListener);&#10;        btnJustRight.setOnClickListener(selectionListener);&#10;        btnLittleHard.setOnClickListener(selectionListener);&#10;        btnTooHard.setOnClickListener(selectionListener);&#10;&#10;        // Done button&#10;        btnDone.setOnClickListener(v -&gt; {&#10;            handleFeedback();&#10;        });&#10;    }&#10;&#10;    private void selectButton(AppCompatButton button) {&#10;        // Reset all buttons to unselected state&#10;        resetButton(btnTooEasy);&#10;        resetButton(btnLittleEasy);&#10;        resetButton(btnJustRight);&#10;        resetButton(btnLittleHard);&#10;        resetButton(btnTooHard);&#10;&#10;        // Select the clicked button&#10;        button.setBackgroundResource(R.drawable.option_button_selected);&#10;        button.setTextColor(Color.WHITE);&#10;&#10;        // Update selected button and feedback&#10;        selectedButton = button;&#10;        selectedFeedback = button.getText().toString();&#10;    }&#10;&#10;    private void resetButton(AppCompatButton button) {&#10;        button.setBackgroundResource(R.drawable.option_button_unselected);&#10;        button.setTextColor(Color.BLACK);&#10;    }&#10;&#10;    private void handleFeedback() {&#10;        // Check if adjustment is needed&#10;        if (selectedFeedback.equals(&quot;Too hard&quot;) ||&#10;                selectedFeedback.equals(&quot;A little hard&quot;) ||&#10;                selectedFeedback.equals(&quot;Too easy&quot;) ||&#10;                selectedFeedback.equals(&quot;A little easy&quot;)) {&#10;&#10;            // Go to adjustment options screen&#10;            Intent intent = new Intent(this, Activity_prepare_easier_plan.class);&#10;            intent.putExtra(&quot;feedback&quot;, selectedFeedback);&#10;            &#10;            // Pass workout data through the chain&#10;            if (getIntent().hasExtra(&quot;workoutDuration&quot;)) {&#10;                intent.putExtra(&quot;workoutDuration&quot;, getIntent().getIntExtra(&quot;workoutDuration&quot;, 0));&#10;            }&#10;            if (getIntent().hasExtra(&quot;performanceData&quot;)) {&#10;                intent.putExtra(&quot;performanceData&quot;, getIntent().getSerializableExtra(&quot;performanceData&quot;));&#10;            }&#10;            if (getIntent().hasExtra(&quot;workout_name&quot;)) {&#10;                intent.putExtra(&quot;workout_name&quot;, getIntent().getStringExtra(&quot;workout_name&quot;));&#10;            }&#10;            if (getIntent().hasExtra(&quot;total_exercises&quot;)) {&#10;                intent.putExtra(&quot;total_exercises&quot;, getIntent().getIntExtra(&quot;total_exercises&quot;, 0));&#10;            }&#10;            &#10;            startActivity(intent);&#10;            finish();&#10;        } else {&#10;            // Just right - go to workout summary to celebrate!&#10;            Toast.makeText(this, &quot;Thank you for your feedback!&quot;, Toast.LENGTH_SHORT).show();&#10;            Intent intent = new Intent(this, WorkoutSummaryActivity.class);&#10;            &#10;            // Pass workout data if available&#10;            if (getIntent().hasExtra(&quot;workoutDuration&quot;)) {&#10;                intent.putExtra(&quot;workoutDuration&quot;, getIntent().getIntExtra(&quot;workoutDuration&quot;, 0));&#10;            }&#10;            if (getIntent().hasExtra(&quot;performanceData&quot;)) {&#10;                intent.putExtra(&quot;performanceData&quot;, getIntent().getSerializableExtra(&quot;performanceData&quot;));&#10;            }&#10;            if (getIntent().hasExtra(&quot;workout_name&quot;)) {&#10;                intent.putExtra(&quot;workout_name&quot;, getIntent().getStringExtra(&quot;workout_name&quot;));&#10;            }&#10;            if (getIntent().hasExtra(&quot;total_exercises&quot;)) {&#10;                intent.putExtra(&quot;total_exercises&quot;, getIntent().getIntExtra(&quot;total_exercises&quot;, 0));&#10;            }&#10;            &#10;            startActivity(intent);&#10;            finish();&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/signuploginrealtime/ExercisePerformanceData.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/signuploginrealtime/ExercisePerformanceData.java" />
              <option name="originalContent" value="package com.example.signuploginrealtime;&#10;&#10;import java.io.Serializable;&#10;&#10;public class ExercisePerformanceData implements Serializable {&#10;    private String exerciseName;&#10;    private int targetReps;&#10;    private int actualReps;&#10;    private int targetDurationSeconds;&#10;    private int actualDurationSeconds;&#10;    private String status; // &lt;&lt;&lt; NEW FIELD&#10;    // private double weight; // We can add this later&#10;&#10;    public ExercisePerformanceData(String exerciseName, int targetReps, int actualReps, int targetDurationSeconds, int actualDurationSeconds, String status) {&#10;        this.exerciseName = exerciseName;&#10;        this.targetReps = targetReps;&#10;        this.actualReps = actualReps;&#10;        this.targetDurationSeconds = targetDurationSeconds;&#10;        this.actualDurationSeconds = actualDurationSeconds;&#10;        this.status = status; // &lt;&lt;&lt; ASSIGN STATUS&#10;    }&#10;&#10;    // Getters&#10;    public String getExerciseName() {&#10;        return exerciseName;&#10;    }&#10;&#10;    public int getTargetReps() {&#10;        return targetReps;&#10;    }&#10;&#10;    public int getActualReps() {&#10;        return actualReps;&#10;    }&#10;&#10;    public int getTargetDurationSeconds() {&#10;        return targetDurationSeconds;&#10;    }&#10;&#10;    public int getActualDurationSeconds() {&#10;        return actualDurationSeconds;&#10;    }&#10;&#10;    public String getStatus() { // &lt;&lt;&lt; NEW GETTER&#10;        return status;&#10;    }&#10;&#10;    // Setters (optional, but can be useful)&#10;    public void setExerciseName(String exerciseName) {&#10;        this.exerciseName = exerciseName;&#10;    }&#10;&#10;    public void setTargetReps(int targetReps) {&#10;        this.targetReps = targetReps;&#10;    }&#10;&#10;    public void setActualReps(int actualReps) {&#10;        this.actualReps = actualReps;&#10;    }&#10;&#10;    public void setTargetDurationSeconds(int targetDurationSeconds) {&#10;        this.targetDurationSeconds = targetDurationSeconds;&#10;    }&#10;&#10;    public void setActualDurationSeconds(int actualDurationSeconds) {&#10;        this.actualDurationSeconds = actualDurationSeconds;&#10;    }&#10;&#10;    public void setStatus(String status) { // &lt;&lt;&lt; NEW SETTER (optional but good to have)&#10;        this.status = status;&#10;    }&#10;&#10;    @Override&#10;    public String toString() {&#10;        return &quot;ExercisePerformanceData{&quot; +&#10;                &quot;exerciseName='&quot; + exerciseName + '\'' +&#10;                &quot;, targetReps=&quot; + targetReps +&#10;                &quot;, actualReps=&quot; + actualReps +&#10;                &quot;, targetDurationSeconds=&quot; + targetDurationSeconds +&#10;                &quot;, actualDurationSeconds=&quot; + actualDurationSeconds +&#10;                &quot;, status='&quot; + status + '\'' + // &lt;&lt;&lt; ADD STATUS TO TOSTRING&#10;                '}';&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.signuploginrealtime;&#10;&#10;import java.io.Serializable;&#10;&#10;public class ExercisePerformanceData implements Serializable {&#10;    private String exerciseName;&#10;    private int targetReps;&#10;    private int actualReps;&#10;    private int targetDurationSeconds;&#10;    private int actualDurationSeconds;&#10;    private String status; // completed, skipped, partial&#10;    private double weight; // weight used in kg (for weighted exercises)&#10;    private String exerciseType; // cardio, strength, flexibility&#10;    private int caloriesEstimate; // estimated calories for this exercise&#10;&#10;    public ExercisePerformanceData(String exerciseName, int targetReps, int actualReps, int targetDurationSeconds, int actualDurationSeconds, String status) {&#10;        this.exerciseName = exerciseName;&#10;        this.targetReps = targetReps;&#10;        this.actualReps = actualReps;&#10;        this.targetDurationSeconds = targetDurationSeconds;&#10;        this.actualDurationSeconds = actualDurationSeconds;&#10;        this.status = status;&#10;        this.weight = 0.0; // Default bodyweight&#10;        this.exerciseType = &quot;strength&quot;; // Default&#10;        this.caloriesEstimate = 0;&#10;    }&#10;&#10;    // Enhanced constructor&#10;    public ExercisePerformanceData(String exerciseName, int targetReps, int actualReps, &#10;                                 int targetDurationSeconds, int actualDurationSeconds, &#10;                                 String status, double weight, String exerciseType) {&#10;        this(exerciseName, targetReps, actualReps, targetDurationSeconds, actualDurationSeconds, status);&#10;        this.weight = weight;&#10;        this.exerciseType = exerciseType;&#10;    }&#10;&#10;    // Getters&#10;    public String getExerciseName() {&#10;        return exerciseName;&#10;    }&#10;&#10;    public int getTargetReps() {&#10;        return targetReps;&#10;    }&#10;&#10;    public int getActualReps() {&#10;        return actualReps;&#10;    }&#10;&#10;    public int getTargetDurationSeconds() {&#10;        return targetDurationSeconds;&#10;    }&#10;&#10;    public int getActualDurationSeconds() {&#10;        return actualDurationSeconds;&#10;    }&#10;&#10;    public String getStatus() {&#10;        return status;&#10;    }&#10;&#10;    public double getWeight() {&#10;        return weight;&#10;    }&#10;&#10;    public String getExerciseType() {&#10;        return exerciseType;&#10;    }&#10;&#10;    public int getCaloriesEstimate() {&#10;        return caloriesEstimate;&#10;    }&#10;&#10;    // Setters (optional, but can be useful)&#10;    public void setExerciseName(String exerciseName) {&#10;        this.exerciseName = exerciseName;&#10;    }&#10;&#10;    public void setTargetReps(int targetReps) {&#10;        this.targetReps = targetReps;&#10;    }&#10;&#10;    public void setActualReps(int actualReps) {&#10;        this.actualReps = actualReps;&#10;    }&#10;&#10;    public void setTargetDurationSeconds(int targetDurationSeconds) {&#10;        this.targetDurationSeconds = targetDurationSeconds;&#10;    }&#10;&#10;    public void setActualDurationSeconds(int actualDurationSeconds) {&#10;        this.actualDurationSeconds = actualDurationSeconds;&#10;    }&#10;&#10;    public void setStatus(String status) {&#10;        this.status = status;&#10;    }&#10;&#10;    public void setWeight(double weight) {&#10;        this.weight = weight;&#10;    }&#10;&#10;    public void setExerciseType(String exerciseType) {&#10;        this.exerciseType = exerciseType;&#10;    }&#10;&#10;    public void setCaloriesEstimate(int caloriesEstimate) {&#10;        this.caloriesEstimate = caloriesEstimate;&#10;    }&#10;&#10;    @Override&#10;    public String toString() {&#10;        return &quot;ExercisePerformanceData{&quot; +&#10;                &quot;exerciseName='&quot; + exerciseName + '\'' +&#10;                &quot;, targetReps=&quot; + targetReps +&#10;                &quot;, actualReps=&quot; + actualReps +&#10;                &quot;, targetDurationSeconds=&quot; + targetDurationSeconds +&#10;                &quot;, actualDurationSeconds=&quot; + actualDurationSeconds +&#10;                &quot;, status='&quot; + status + '\'' +&#10;                &quot;, weight=&quot; + weight +&#10;                &quot;, exerciseType='&quot; + exerciseType + '\'' +&#10;                &quot;, caloriesEstimate=&quot; + caloriesEstimate +&#10;                '}';&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/signuploginrealtime/Profile.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/signuploginrealtime/Profile.java" />
              <option name="originalContent" value="package com.example.signuploginrealtime;&#10;&#10;import android.app.DatePickerDialog;&#10;import android.content.Intent;&#10;import android.content.SharedPreferences;&#10;import android.os.Bundle;&#10;import android.text.InputType;&#10;import android.util.Log;&#10;import android.view.View;&#10;import android.widget.DatePicker;&#10;import android.widget.EditText;&#10;import android.widget.ImageView;&#10;import android.widget.LinearLayout;&#10;import android.widget.TextView;&#10;import android.widget.Toast;&#10;import android.widget.CheckBox;&#10;import android.widget.ScrollView;&#10;import androidx.activity.OnBackPressedCallback;&#10;import androidx.appcompat.app.AlertDialog;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.annotation.NonNull;&#10;&#10;import com.google.android.gms.tasks.OnCompleteListener;&#10;import com.google.android.gms.tasks.Task;&#10;import com.google.android.material.bottomnavigation.BottomNavigationView;&#10;import com.google.firebase.Timestamp;&#10;import com.google.firebase.auth.FirebaseAuth;&#10;import com.google.firebase.auth.FirebaseUser;&#10;import com.google.firebase.auth.AuthCredential;&#10;import com.google.firebase.auth.EmailAuthProvider;&#10;import com.google.firebase.firestore.DocumentReference;&#10;import com.google.firebase.firestore.DocumentSnapshot;&#10;import com.google.firebase.firestore.FirebaseFirestore;&#10;import com.google.firebase.firestore.ListenerRegistration;&#10;&#10;import java.text.SimpleDateFormat;&#10;import java.util.Calendar;&#10;import java.util.Date;&#10;import java.util.Locale;&#10;import java.util.regex.Pattern;&#10;&#10;import android.app.ProgressDialog;&#10;import android.net.Uri;&#10;import android.graphics.Bitmap;&#10;import android.graphics.BitmapFactory;&#10;import androidx.activity.result.ActivityResultLauncher;&#10;import androidx.activity.result.contract.ActivityResultContracts;&#10;import com.bumptech.glide.Glide;&#10;import com.google.firebase.firestore.QuerySnapshot;&#10;import com.google.firebase.storage.FirebaseStorage;&#10;import com.google.firebase.storage.StorageReference;&#10;import java.io.ByteArrayOutputStream;&#10;import java.io.IOException;&#10;import java.io.InputStream;&#10;&#10;import androidx.recyclerview.widget.LinearLayoutManager;&#10;import androidx.recyclerview.widget.RecyclerView;&#10;import android.view.LayoutInflater;&#10;import android.view.ViewGroup;&#10;import androidx.cardview.widget.CardView;&#10;import java.text.NumberFormat;&#10;import java.util.ArrayList;&#10;import java.util.Collections;&#10;import java.util.List;&#10;import java.util.Comparator;&#10;import androidx.recyclerview.widget.RecyclerView;&#10;import androidx.recyclerview.widget.LinearLayoutManager;&#10;&#10;import com.cloudinary.android.MediaManager;&#10;import com.cloudinary.android.callback.ErrorInfo;&#10;import com.cloudinary.android.callback.UploadCallback;&#10;import java.util.HashMap;&#10;import java.util.Map;&#10;&#10;&#10;public class Profile extends AppCompatActivity {&#10;&#10;    private BottomNavigationView bottomNavigationView;&#10;    private FirebaseAuth mAuth;&#10;    private TextView profileName, profileEmail, tvPhone, tvDob, tvStatus;&#10;    private LinearLayout layoutDob, layoutEmail, layoutPhone;&#10;&#10;    // Fitness profile fields&#10;    private TextView tvFitnessLevel, tvFitnessGoal, tvWorkoutFrequency, tvAge, tvWeight, tvHeight, tvHealthIssues, tvBodyFocus;&#10;    private TextView tvPreferredDays; // NEW&#10;    private LinearLayout layoutFitnessLevel, layoutFitnessGoal, layoutWorkoutFrequency, layoutAge, layoutWeight, layoutHeight, layoutHealthIssues, layoutBodyFocus;&#10;    private LinearLayout layoutPreferredDays; // NEW&#10;&#10;    // Firestore references&#10;    private FirebaseFirestore firestore;&#10;    private DocumentReference userDocRef;&#10;    private ListenerRegistration userDataListener;&#10;&#10;    // Date picker components&#10;    private Calendar selectedDate;&#10;    private SimpleDateFormat dateFormat;&#10;    private ImageView profilePicture;&#10;    private ActivityResultLauncher&lt;String&gt; imagePickerLauncher;&#10;    private ProgressDialog uploadProgressDialog;&#10;&#10;    private ActivityResultLauncher&lt;Intent&gt; cropImageLauncher;&#10;    private static final int REQUEST_CROP_IMAGE = 200;&#10;&#10;    private static final int MIN_PASSWORD_LENGTH = 8;&#10;    // Email and phone validation patterns&#10;    private static final Pattern EMAIL_PATTERN = Pattern.compile(&#10;            &quot;^[A-Za-z0-9+_.-]+@([A-Za-z0-9.-]+\\.[A-ZaZ]{2,})$&quot;&#10;    );&#10;    private static final Pattern PHONE_PATTERN = Pattern.compile(&#10;            &quot;^0\\d{10}$&quot; // Philippine format: 0 followed by 10 digits (e.g., 09123456789)&#10;    );&#10;    private LinearLayout layoutPaymentHistory;&#10;    private static String cachedMembershipStatus = null;&#10;    private static Integer cachedStatusColor = null;&#10;    private static String cachedUserName = null; //  ADD THIS&#10;&#10;&#10;    // Callback interface for phone check&#10;    interface PhoneCheckCallback {&#10;        void onResult(boolean exists);&#10;    }&#10;&#10;    @Override&#10;    protected void onCreate(Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        setContentView(R.layout.activity_profile);&#10;&#10;        // ===== Firebase Setup =====&#10;        mAuth = FirebaseAuth.getInstance();&#10;        FirebaseUser currentUser = mAuth.getCurrentUser();&#10;        firestore = FirebaseFirestore.getInstance();&#10;&#10;        // Initialize Firestore reference (but don't setup listener yet)&#10;        if (currentUser != null) {&#10;            userDocRef = firestore.collection(&quot;users&quot;).document(currentUser.getUid());&#10;        }&#10;&#10;        // ===== Initialize UI Components =====&#10;        profileName = findViewById(R.id.profileName);&#10;        profileEmail = findViewById(R.id.profileEmail);&#10;        tvPhone = findViewById(R.id.tv_phone);&#10;        tvDob = findViewById(R.id.tv_dob);&#10;        tvStatus = findViewById(R.id.tv_status);&#10;        layoutDob = findViewById(R.id.layout_dob);&#10;        layoutEmail = findViewById(R.id.layout_email);&#10;        layoutPhone = findViewById(R.id.layout_phone);&#10;&#10;        //  Display cached membership status and name immediately (NO FLICKER)&#10;        SharedPreferences cache = getSharedPreferences(&quot;Profile_cache&quot;, MODE_PRIVATE);&#10;        String savedStatus = cache.getString(&quot;cached_status&quot;, null);&#10;        int savedColor = cache.getInt(&quot;cached_color&quot;, -1);&#10;        String savedName = cache.getString(&quot;cached_name&quot;, null);&#10;&#10;        if (savedStatus != null &amp;&amp; tvStatus != null) {&#10;            cachedMembershipStatus = savedStatus;&#10;            tvStatus.setText(savedStatus);&#10;&#10;            if (savedColor != -1) {&#10;                cachedStatusColor = savedColor;&#10;                tvStatus.setTextColor(savedColor);&#10;            }&#10;        }&#10;&#10;        //  Display cached name&#10;        if (savedName != null &amp;&amp; profileName != null) {&#10;            cachedUserName = savedName;&#10;            profileName.setText(savedName);&#10;        }&#10;&#10;        // Fitness profile views&#10;        tvFitnessLevel = findViewById(R.id.tv_fitness_level);&#10;        tvFitnessGoal = findViewById(R.id.tv_fitness_goal);&#10;        tvWorkoutFrequency = findViewById(R.id.tv_workout_frequency);&#10;        layoutFitnessLevel = findViewById(R.id.layout_fitness_level);&#10;        layoutFitnessGoal = findViewById(R.id.layout_fitness_goal);&#10;        layoutWorkoutFrequency = findViewById(R.id.layout_workout_frequency);&#10;        profilePicture = findViewById(R.id.iv_profile_picture);&#10;        tvAge = findViewById(R.id.tv_age);&#10;        tvWeight = findViewById(R.id.tv_weight);&#10;        tvHeight = findViewById(R.id.tv_height);&#10;        tvHealthIssues = findViewById(R.id.tv_health_issues);&#10;        tvBodyFocus = findViewById(R.id.tv_body_focus);&#10;        layoutAge = findViewById(R.id.layout_age);&#10;        layoutWeight = findViewById(R.id.layout_weight);&#10;        layoutHeight = findViewById(R.id.layout_height);&#10;        layoutHealthIssues = findViewById(R.id.layout_health_issues);&#10;        layoutBodyFocus = findViewById(R.id.layout_body_focus);&#10;        tvPreferredDays = findViewById(R.id.tv_preferred_days);           // NEW&#10;        layoutPreferredDays = findViewById(R.id.layout_preferred_days);   // NEW&#10;&#10;        // ===== Progress Dialog =====&#10;        uploadProgressDialog = new ProgressDialog(this);&#10;        uploadProgressDialog.setTitle(&quot;Uploading Image&quot;);&#10;        uploadProgressDialog.setMessage(&quot;Please wait...&quot;);&#10;        uploadProgressDialog.setCancelable(false);&#10;&#10;        // ===== Payment History  =====&#10;        layoutPaymentHistory = findViewById(R.id.layout_payment_history);&#10;&#10;        // ===== Image Picker =====&#10;        imagePickerLauncher = registerForActivityResult(&#10;                new ActivityResultContracts.GetContent(),&#10;                uri -&gt; {&#10;                    if (uri != null) {&#10;                        Intent cropIntent = new Intent(Profile.this, ImageCropActivity.class);&#10;                        cropIntent.putExtra(&quot;imageUri&quot;, uri.toString());&#10;                        startActivityForResult(cropIntent, REQUEST_CROP_IMAGE);&#10;                    }&#10;                }&#10;        );&#10;&#10;        profilePicture.setOnClickListener(v -&gt; imagePickerLauncher.launch(&quot;image/*&quot;));&#10;        findViewById(R.id.cv_edit_button).setOnClickListener(v -&gt; imagePickerLauncher.launch(&quot;image/*&quot;));&#10;&#10;        // Payment History&#10;        findViewById(R.id.layout_payment_history).setOnClickListener(v -&gt; {&#10;            Intent intent = new Intent(Profile.this, PaymentHistoryActivity.class);&#10;            startActivity(intent);&#10;        });&#10;&#10;&#10;        // ===== Navigation: Feedback &amp; Contact =====&#10;        LinearLayout layoutFeedback = findViewById(R.id.layout_feedback);&#10;        layoutFeedback.setOnClickListener(v -&gt; {&#10;            startActivity(new Intent(Profile.this, FeedbackActivity.class));&#10;            overridePendingTransition(0, 0);&#10;        });&#10;&#10;&#10;        LinearLayout layoutAboutUs = findViewById(R.id.layout_contact);&#10;        layoutAboutUs.setOnClickListener(v -&gt; {&#10;            startActivity(new Intent(Profile.this, AboutusActivity.class));&#10;            overridePendingTransition(0, 0);&#10;        });&#10;&#10;        // ===== Date Setup =====&#10;        selectedDate = Calendar.getInstance();&#10;        dateFormat = new SimpleDateFormat(&quot;MMMM dd, yyyy&quot;, Locale.getDefault());&#10;&#10;        // ===== Setup Functionality =====&#10;        setupDatePicker();&#10;        setupEditableFields();&#10;        setupFitnessProfileEditing();&#10;        setupSecurityClickListeners();&#10;        initCloudinary();&#10;&#10;        // ===== Back Press Handler =====&#10;        getOnBackPressedDispatcher().addCallback(this, new OnBackPressedCallback(true) {&#10;            @Override&#10;            public void handleOnBackPressed() {&#10;                //  Check if MainActivity is in the back stack&#10;                if (isTaskRoot()) {&#10;                    // No MainActivity in back stack, create new one&#10;                    Intent intent = new Intent(Profile.this, MainActivity.class);&#10;                    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);&#10;                    startActivity(intent);&#10;                }&#10;                finish();  // Finish Profile activity&#10;                overridePendingTransition(0, 0);&#10;            }&#10;        });&#10;&#10;        bottomNavigationView = findViewById(R.id.bottomNavigation);&#10;        bottomNavigationView.setSelectedItemId(R.id.item_2);&#10;        bottomNavigationView.setOnItemSelectedListener(item -&gt; {&#10;            int itemId = item.getItemId();&#10;            if (itemId == R.id.item_1) {&#10;                // Going back to MainActivity&#10;                if (isTaskRoot()) {&#10;                    // No MainActivity in back stack, create new one&#10;                    Intent intent = new Intent(getApplicationContext(), MainActivity.class);&#10;                    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);&#10;                    startActivity(intent);&#10;                }&#10;                finish();&#10;                overridePendingTransition(0, 0);&#10;                return true;&#10;            } else if (itemId == R.id.item_2) {&#10;                // Already on Profile&#10;                return true;&#10;            } else if (itemId == R.id.item_3) {&#10;                // Going to WorkoutList - finish Profile first&#10;                startActivity(new Intent(getApplicationContext(), WorkoutList.class));&#10;                overridePendingTransition(0, 0);&#10;                finish();&#10;                return true;&#10;            } else if (itemId == R.id.item_4) {&#10;                // Going to Achievement - finish Profile first&#10;                startActivity(new Intent(getApplicationContext(), Achievement.class));&#10;                overridePendingTransition(0, 0);&#10;                finish();&#10;                return true;&#10;            }&#10;            return false;&#10;        });&#10;&#10;        // ===== Logout Button =====&#10;        findViewById(R.id.btn_logout).setOnClickListener(v -&gt; showLogoutDialog());&#10;&#10;        // ===== TEMPORARY: Seed Foods Button =====&#10;        findViewById(R.id.btn_seed_foods).setOnClickListener(v -&gt; {&#10;            Intent intent = new Intent(Profile.this, FoodSeederActivity.class);&#10;            startActivity(intent);&#10;        });&#10;&#10;        // ===== Setup Firestore Listener (AFTER all views are initialized) =====&#10;        if (currentUser != null &amp;&amp; userDocRef != null) {&#10;            setupUserDataListener();&#10;        }&#10;    }&#10;&#10;&#10;    private void setupFitnessProfileEditing() {&#10;        // Fitness Level click listener&#10;        if (layoutFitnessLevel != null) {&#10;            layoutFitnessLevel.setOnClickListener(v -&gt; showFitnessLevelDialog());&#10;        }&#10;&#10;        // Fitness Goal click listener&#10;        if (layoutFitnessGoal != null) {&#10;            layoutFitnessGoal.setOnClickListener(v -&gt; showFitnessGoalDialog());&#10;        }&#10;&#10;        // Workout Frequency click listener&#10;        if (layoutWorkoutFrequency != null) {&#10;            layoutWorkoutFrequency.setOnClickListener(v -&gt; showWorkoutFrequencyDialog());&#10;        }&#10;&#10;        if (layoutAge != null) {&#10;            layoutAge.setOnClickListener(v -&gt; showAgeDialog());&#10;        }&#10;        if (layoutWeight != null) {&#10;            layoutWeight.setOnClickListener(v -&gt; showWeightDialog());&#10;        }&#10;        if (layoutHeight != null) {&#10;            layoutHeight.setOnClickListener(v -&gt; showHeightDialog());&#10;        }&#10;        if (layoutHealthIssues != null) {&#10;            layoutHealthIssues.setOnClickListener(v -&gt; showHealthIssuesDialog());&#10;        }&#10;        if (layoutBodyFocus != null) {&#10;            layoutBodyFocus.setOnClickListener(v -&gt; showBodyFocusDialog());&#10;        }&#10;        if (layoutPreferredDays != null) {&#10;            layoutPreferredDays.setOnClickListener(v -&gt; showPreferredDaysDialog()); // NEW&#10;        }&#10;    }&#10;&#10;    private void showFitnessLevelDialog() {&#10;        String[] levels = {&quot;Sedentary&quot;, &quot;Lightly Active&quot;, &quot;Moderately Active&quot;, &quot;Very Active&quot;};&#10;        String[] levelValues = {&quot;sedentary&quot;, &quot;lightly active&quot;, &quot;moderately active&quot;, &quot;very active&quot;};&#10;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#10;        builder.setTitle(&quot;Select Fitness Level&quot;);&#10;&#10;        builder.setItems(levels, (dialog, which) -&gt; {&#10;            String selectedLevel = levels[which];&#10;            String selectedValue = levelValues[which];&#10;&#10;            // Show confirmation before updating&#10;            showConfirmationDialog(&#10;                    &quot;Confirm Fitness Level&quot;,&#10;                    &quot;Set fitness level to:\n&quot; + selectedLevel + &quot;?&quot;,&#10;                    () -&gt; updateFitnessLevel(selectedValue, selectedLevel)&#10;            );&#10;        });&#10;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.dismiss());&#10;&#10;        AlertDialog dialog = builder.create();&#10;&#10;        if (dialog.getWindow() != null) {&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#10;        }&#10;&#10;        dialog.show();&#10;&#10;        // Style buttons AFTER showing dialog&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#10;        }&#10;    }&#10;&#10;&#10;    private void showFitnessGoalDialog() {&#10;        String[] goals = {&quot;Lose Weight&quot;, &quot;Gain Muscle&quot;, &quot;Increase Endurance&quot;, &quot;General Fitness&quot;};&#10;        String[] goalValues = {&quot;lose weight&quot;, &quot;gain muscle&quot;, &quot;increase endurance&quot;, &quot;general fitness&quot;};&#10;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#10;        builder.setTitle(&quot;Select Fitness Goal&quot;);&#10;&#10;        builder.setItems(goals, (dialog, which) -&gt; {&#10;            String selectedGoal = goals[which];&#10;            String selectedValue = goalValues[which];&#10;&#10;            // Show confirmation before updating&#10;            showConfirmationDialog(&#10;                    &quot;Confirm Fitness Goal&quot;,&#10;                    &quot;Set fitness goal to:\n&quot; + selectedGoal + &quot;?&quot;,&#10;                    () -&gt; updateFitnessGoal(selectedValue, selectedGoal)&#10;            );&#10;        });&#10;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.dismiss());&#10;&#10;        AlertDialog dialog = builder.create();&#10;&#10;        if (dialog.getWindow() != null) {&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#10;        }&#10;&#10;        dialog.show();&#10;&#10;        // Style buttons AFTER showing dialog&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#10;        }&#10;    }&#10;&#10;&#10;    private void showWorkoutFrequencyDialog() {&#10;        String[] frequencies = {&quot;1 day per week&quot;, &quot;2 days per week&quot;, &quot;3 days per week&quot;,&#10;                &quot;4 days per week&quot;, &quot;5 days per week&quot;, &quot;6 days per week&quot;,&#10;                &quot;7 days per week&quot;};&#10;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#10;        builder.setTitle(&quot;Select Workout Frequency&quot;);&#10;&#10;        builder.setItems(frequencies, (dialog, which) -&gt; {&#10;            int daysPerWeek = which + 1;&#10;            String displayText = frequencies[which];&#10;&#10;            // Show confirmation before updating&#10;            showConfirmationDialog(&#10;                    &quot;Confirm Workout Frequency&quot;,&#10;                    &quot;Set workout frequency to:\n&quot; + displayText + &quot;?&quot;,&#10;                    () -&gt; updateWorkoutFrequency(daysPerWeek, displayText)&#10;            );&#10;        });&#10;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.dismiss());&#10;&#10;        AlertDialog dialog = builder.create();&#10;&#10;        if (dialog.getWindow() != null) {&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#10;        }&#10;&#10;        dialog.show();&#10;&#10;        // Style buttons AFTER showing dialog&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#10;        }&#10;    }&#10;&#10;    private void updateFitnessLevel(String value, String displayText) {&#10;        if (userDocRef != null) {&#10;            userDocRef.update(&quot;fitnessLevel&quot;, value)&#10;                    .addOnSuccessListener(aVoid -&gt; {&#10;                        tvFitnessLevel.setText(displayText);&#10;                        markProfileAsChanged();&#10;                        Toast.makeText(this, &quot;Fitness level updated&quot;, Toast.LENGTH_SHORT).show();&#10;                    })&#10;                    .addOnFailureListener(e -&gt; {&#10;                        Toast.makeText(this, &quot;Failed to update: &quot; + e.getMessage(),&#10;                                Toast.LENGTH_SHORT).show();&#10;                    });&#10;        }&#10;    }&#10;&#10;    private void updateFitnessGoal(String value, String displayText) {&#10;        if (userDocRef != null) {&#10;            userDocRef.update(&quot;fitnessGoal&quot;, value)&#10;                    .addOnSuccessListener(aVoid -&gt; {&#10;                        tvFitnessGoal.setText(displayText);&#10;                        markProfileAsChanged();&#10;                        Toast.makeText(this, &quot;Fitness goal updated&quot;, Toast.LENGTH_SHORT).show();&#10;                    })&#10;                    .addOnFailureListener(e -&gt; {&#10;                        Toast.makeText(this, &quot;Failed to update: &quot; + e.getMessage(),&#10;                                Toast.LENGTH_SHORT).show();&#10;                    });&#10;        }&#10;    }&#10;&#10;    private void updateWorkoutFrequency(int days, String displayText) {&#10;        if (userDocRef != null) {&#10;            userDocRef.update(&quot;workoutDaysPerWeek&quot;, days)&#10;                    .addOnSuccessListener(aVoid -&gt; {&#10;                        tvWorkoutFrequency.setText(displayText);&#10;                        markProfileAsChanged();&#10;                        Toast.makeText(this, &quot;Workout frequency updated&quot;, Toast.LENGTH_SHORT).show();&#10;                    })&#10;                    .addOnFailureListener(e -&gt; {&#10;                        Toast.makeText(this, &quot;Failed to update: &quot; + e.getMessage(),&#10;                                Toast.LENGTH_SHORT).show();&#10;                    });&#10;        }&#10;    }&#10;    private void loadFitnessProfileData() {&#10;        if (userDocRef != null) {&#10;            userDocRef.get().addOnSuccessListener(snapshot -&gt; {&#10;                if (snapshot != null &amp;&amp; snapshot.exists()) {&#10;                    // Load Fitness Level&#10;                    String fitnessLevel = snapshot.getString(&quot;fitnessLevel&quot;);&#10;                    if (fitnessLevel != null &amp;&amp; !fitnessLevel.isEmpty()) {&#10;                        tvFitnessLevel.setText(formatFitnessLevel(fitnessLevel));&#10;                    } else {&#10;                        tvFitnessLevel.setText(&quot;Not set&quot;);&#10;                    }&#10;&#10;                    // Load Fitness Goal&#10;                    String fitnessGoal = snapshot.getString(&quot;fitnessGoal&quot;);&#10;                    if (fitnessGoal != null &amp;&amp; !fitnessGoal.isEmpty()) {&#10;                        tvFitnessGoal.setText(formatFitnessGoal(fitnessGoal));&#10;                    } else {&#10;                        tvFitnessGoal.setText(&quot;Not set&quot;);&#10;                    }&#10;&#10;                    // Load Workout Frequency&#10;                    Long workoutDays = snapshot.getLong(&quot;workoutDaysPerWeek&quot;);&#10;                    if (workoutDays != null) {&#10;                        int days = workoutDays.intValue();&#10;                        String frequencyText = days + (days == 1 ? &quot; day per week&quot; : &quot; days per week&quot;);&#10;                        tvWorkoutFrequency.setText(frequencyText);&#10;                    } else {&#10;                        tvWorkoutFrequency.setText(&quot;Not set&quot;);&#10;                    }&#10;&#10;                    Long age = snapshot.getLong(&quot;age&quot;);&#10;                    if (age != null) {&#10;                        tvAge.setText(age + &quot; years old&quot;);&#10;                    } else {&#10;                        tvAge.setText(&quot;Not set&quot;);&#10;                    }&#10;&#10;                    Double weight = snapshot.getDouble(&quot;weight&quot;);&#10;                    if (weight != null) {&#10;                        tvWeight.setText(weight + &quot; kg&quot;);&#10;                    } else {&#10;                        tvWeight.setText(&quot;Not set&quot;);&#10;                    }&#10;&#10;                    Double height = snapshot.getDouble(&quot;height&quot;);&#10;                    if (height != null) {&#10;                        tvHeight.setText(height + &quot; cm&quot;);&#10;                    } else {&#10;                        tvHeight.setText(&quot;Not set&quot;);&#10;                    }&#10;&#10;                    // Load Health Issues - with safe type handling&#10;                    if (tvHealthIssues != null) {&#10;                        try {&#10;                            Object healthIssuesObj = snapshot.get(&quot;healthIssues&quot;);&#10;                            String healthIssues = null;&#10;&#10;                            if (healthIssuesObj instanceof String) {&#10;                                healthIssues = (String) healthIssuesObj;&#10;                            } else if (healthIssuesObj != null) {&#10;                                healthIssues = healthIssuesObj.toString();&#10;                            }&#10;&#10;                            if (healthIssues != null &amp;&amp; !healthIssues.trim().isEmpty()) {&#10;                                tvHealthIssues.setText(healthIssues);&#10;                            } else {&#10;                                tvHealthIssues.setText(&quot;None&quot;);&#10;                            }&#10;                        } catch (Exception e) {&#10;                            Log.e(&quot;Profile&quot;, &quot;Error loading health issues&quot;, e);&#10;                            tvHealthIssues.setText(&quot;None&quot;);&#10;                        }&#10;                    }&#10;&#10;                    // Load Body Focus&#10;                    if (tvBodyFocus != null) {&#10;                        try {&#10;                            Object bodyFocusObj = snapshot.get(&quot;bodyFocus&quot;);&#10;                            if (bodyFocusObj instanceof List) {&#10;                                List&lt;String&gt; bodyFocusList = (List&lt;String&gt;) bodyFocusObj;&#10;                                if (!bodyFocusList.isEmpty()) {&#10;                                    tvBodyFocus.setText(String.join(&quot;, &quot;, bodyFocusList));&#10;                                } else {&#10;                                    tvBodyFocus.setText(&quot;Not set&quot;);&#10;                                }&#10;                            } else {&#10;                                tvBodyFocus.setText(&quot;Not set&quot;);&#10;                            }&#10;                        } catch (Exception e) {&#10;                            Log.e(&quot;Profile&quot;, &quot;Error loading body focus&quot;, e);&#10;                            tvBodyFocus.setText(&quot;Not set&quot;);&#10;                        }&#10;                    }&#10;&#10;                    // NEW: Load preferred workout days&#10;                    if (tvPreferredDays != null) {&#10;                        try {&#10;                            Object field = snapshot.get(&quot;preferredWorkoutDays&quot;);&#10;                            List&lt;String&gt; codes = new ArrayList&lt;&gt;();&#10;                            if (field instanceof List) {&#10;                                for (Object o : (List&lt;?&gt;) field) {&#10;                                    if (o != null) codes.add(o.toString());&#10;                                }&#10;                            } else if (field instanceof String) {&#10;                                String[] parts = ((String) field).split(&quot;,&quot;);&#10;                                for (String p : parts) {&#10;                                    String s = p.trim();&#10;                                    if (!s.isEmpty()) codes.add(s);&#10;                                }&#10;                            }&#10;                            tvPreferredDays.setText(formatPreferredDaysForDisplay(codes));&#10;                        } catch (Exception e) {&#10;                            Log.e(&quot;Profile&quot;, &quot;Error loading preferredWorkoutDays&quot;, e);&#10;                            tvPreferredDays.setText(&quot;Not set&quot;);&#10;                        }&#10;                    }&#10;                }&#10;&#10;            });&#10;        }&#10;&#10;    }&#10;&#10;    private String formatFitnessLevel(String level) {&#10;        // Convert database format to display format&#10;        switch (level.toLowerCase()) {&#10;            case &quot;sedentary&quot;:&#10;                return &quot;Sedentary&quot;;&#10;            case &quot;lightly active&quot;:&#10;                return &quot;Lightly Active&quot;;&#10;            case &quot;moderately active&quot;:&#10;                return &quot;Moderately Active&quot;;&#10;            case &quot;very active&quot;:&#10;                return &quot;Very Active&quot;;&#10;            default:&#10;                return level;&#10;        }&#10;    }&#10;&#10;    private String formatFitnessGoal(String goal) {&#10;        // Convert database format to display format&#10;        switch (goal.toLowerCase()) {&#10;            case &quot;lose weight&quot;:&#10;            case &quot;weight loss&quot;:&#10;                return &quot;Lose Weight&quot;;&#10;            case &quot;gain muscle&quot;:&#10;            case &quot;muscle gain&quot;:&#10;                return &quot;Gain Muscle&quot;;&#10;            case &quot;increase endurance&quot;:&#10;            case &quot;endurance&quot;:&#10;                return &quot;Increase Endurance&quot;;&#10;            case &quot;general fitness&quot;:&#10;                return &quot;General Fitness&quot;;&#10;            default:&#10;                return goal;&#10;        }&#10;    }&#10;&#10;    // NEW: helper to format preferred days list into a nice string&#10;    private String formatPreferredDaysForDisplay(List&lt;String&gt; codes) {&#10;        if (codes == null || codes.isEmpty()) return &quot;Not set&quot;;&#10;        // order: Mon..Sun&#10;        String[] order = {&quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;, &quot;Sun&quot;};&#10;        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();&#10;        map.put(&quot;Mon&quot;, &quot;Mon&quot;);&#10;        map.put(&quot;Tue&quot;, &quot;Tue&quot;);&#10;        map.put(&quot;Wed&quot;, &quot;Wed&quot;);&#10;        map.put(&quot;Thu&quot;, &quot;Thu&quot;);&#10;        map.put(&quot;Fri&quot;, &quot;Fri&quot;);&#10;        map.put(&quot;Sat&quot;, &quot;Sat&quot;);&#10;        map.put(&quot;Sun&quot;, &quot;Sun&quot;);&#10;        List&lt;String&gt; ordered = new ArrayList&lt;&gt;();&#10;        for (String o : order) {&#10;            if (codes.contains(o)) ordered.add(map.get(o));&#10;        }&#10;        if (ordered.isEmpty()) return &quot;Not set&quot;;&#10;        return android.text.TextUtils.join(&quot;, &quot;, ordered);&#10;    }&#10;&#10;    private void setupSecurityClickListeners() {&#10;        // Change Password click listener&#10;        LinearLayout layoutChangePassword = findViewById(R.id.layout_change_password);&#10;        layoutChangePassword.setOnClickListener(v -&gt; showChangePasswordDialog());&#10;    }&#10;&#10;    private void showChangePasswordDialog() {&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#10;        builder.setTitle(&quot;Change Password&quot;);&#10;        builder.setMessage(&quot;To change your password, you'll need to verify your current password first.&quot;);&#10;&#10;        LinearLayout layout = new LinearLayout(this);&#10;        layout.setOrientation(LinearLayout.VERTICAL);&#10;        int padding = (int) (16 * getResources().getDisplayMetrics().density);&#10;        layout.setPadding(padding, padding, padding, padding);&#10;&#10;        final EditText currentPasswordInput = new EditText(this);&#10;        currentPasswordInput.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);&#10;        currentPasswordInput.setHint(&quot;Current Password&quot;);&#10;        layout.addView(currentPasswordInput);&#10;&#10;        final EditText newPasswordInput = new EditText(this);&#10;        newPasswordInput.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);&#10;        newPasswordInput.setHint(&quot;New Password (min 8 characters)&quot;);&#10;        layout.addView(newPasswordInput);&#10;&#10;        // Add password strength indicator&#10;        final TextView strengthIndicator = new TextView(this);&#10;        strengthIndicator.setPadding(0, 8, 0, 0);&#10;        strengthIndicator.setTextSize(12);&#10;        strengthIndicator.setVisibility(View.GONE);&#10;        layout.addView(strengthIndicator);&#10;&#10;        // Add password requirements&#10;        final TextView requirementsText = new TextView(this);&#10;        requirementsText.setPadding(0, 8, 0, 0);&#10;        requirementsText.setTextSize(11);&#10;        requirementsText.setVisibility(View.GONE);&#10;        layout.addView(requirementsText);&#10;&#10;        final EditText confirmPasswordInput = new EditText(this);&#10;        confirmPasswordInput.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);&#10;        confirmPasswordInput.setHint(&quot;Confirm New Password&quot;);&#10;        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(&#10;                LinearLayout.LayoutParams.MATCH_PARENT,&#10;                LinearLayout.LayoutParams.WRAP_CONTENT&#10;        );&#10;        params.setMargins(0, (int) (8 * getResources().getDisplayMetrics().density), 0, 0);&#10;        confirmPasswordInput.setLayoutParams(params);&#10;        layout.addView(confirmPasswordInput);&#10;&#10;        // Add TextWatcher for real-time validation&#10;        newPasswordInput.addTextChangedListener(new android.text.TextWatcher() {&#10;            @Override&#10;            public void beforeTextChanged(CharSequence s, int start, int count, int after) {}&#10;&#10;            @Override&#10;            public void onTextChanged(CharSequence s, int start, int before, int count) {&#10;                String password = s.toString();&#10;                if (password.isEmpty()) {&#10;                    strengthIndicator.setVisibility(View.GONE);&#10;                    requirementsText.setVisibility(View.GONE);&#10;                } else {&#10;                    strengthIndicator.setVisibility(View.VISIBLE);&#10;                    requirementsText.setVisibility(View.VISIBLE);&#10;&#10;                    int strength = calculatePasswordStrength(password);&#10;                    String strengthText = &quot;Password Strength: &quot; + getPasswordStrengthText(strength);&#10;                    int color = getPasswordStrengthColor(strength);&#10;&#10;                    strengthIndicator.setText(strengthText);&#10;                    strengthIndicator.setTextColor(color);&#10;&#10;                    requirementsText.setText(getPasswordRequirementsText(password));&#10;                }&#10;            }&#10;&#10;            @Override&#10;            public void afterTextChanged(android.text.Editable s) {}&#10;        });&#10;&#10;        builder.setView(layout);&#10;&#10;        builder.setPositiveButton(&quot;Change Password&quot;, (dialog, which) -&gt; {&#10;            String currentPassword = currentPasswordInput.getText().toString().trim();&#10;            String newPassword = newPasswordInput.getText().toString().trim();&#10;            String confirmPassword = confirmPasswordInput.getText().toString().trim();&#10;&#10;            if (validatePasswordChange(currentPassword, newPassword, confirmPassword)) {&#10;                showConfirmationDialog(&#10;                        &quot;Confirm Password Change&quot;,&#10;                        &quot;Are you sure you want to change your password?\n\nYou will need to use the new password for future logins.&quot;,&#10;                        () -&gt; changeUserPassword(currentPassword, newPassword)&#10;                );&#10;            }&#10;        });&#10;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.cancel());&#10;&#10;        AlertDialog dialog = builder.create();&#10;&#10;        if (dialog.getWindow() != null) {&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#10;        }&#10;&#10;        dialog.show();&#10;&#10;        // Style buttons AFTER showing dialog&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#10;        }&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#10;        }&#10;    }&#10;    private boolean validatePasswordChange(String currentPassword, String newPassword, String confirmPassword) {&#10;        if (currentPassword.isEmpty()) {&#10;            Toast.makeText(this, &quot;Please enter your current password&quot;, Toast.LENGTH_SHORT).show();&#10;            return false;&#10;        }&#10;&#10;        if (newPassword.isEmpty()) {&#10;            Toast.makeText(this, &quot;Please enter a new password&quot;, Toast.LENGTH_SHORT).show();&#10;            return false;&#10;        }&#10;&#10;        if (newPassword.length() &lt; MIN_PASSWORD_LENGTH) {&#10;            Toast.makeText(this, &quot;New password must be at least &quot; + MIN_PASSWORD_LENGTH + &quot; characters&quot;, Toast.LENGTH_SHORT).show();&#10;            return false;&#10;        }&#10;&#10;        // Check for uppercase letter&#10;        if (!newPassword.matches(&quot;.*[A-Z].*&quot;)) {&#10;            Toast.makeText(this, &quot;Password must contain at least one uppercase letter&quot;, Toast.LENGTH_LONG).show();&#10;            return false;&#10;        }&#10;&#10;        // Check for lowercase letter&#10;        if (!newPassword.matches(&quot;.*[a-z].*&quot;)) {&#10;            Toast.makeText(this, &quot;Password must contain at least one lowercase letter&quot;, Toast.LENGTH_LONG).show();&#10;            return false;&#10;        }&#10;&#10;        // Check for digit&#10;        if (!newPassword.matches(&quot;.*\\d.*&quot;)) {&#10;            Toast.makeText(this, &quot;Password must contain at least one number&quot;, Toast.LENGTH_LONG).show();&#10;            return false;&#10;        }&#10;&#10;        // Check for special character&#10;        if (!newPassword.matches(&quot;.*[!@#$%^&amp;*(),.?\&quot;:{}|&lt;&gt;].*&quot;)) {&#10;            Toast.makeText(this, &quot;Password must contain at least one special character (!@#$%^&amp;*...)&quot;, Toast.LENGTH_LONG).show();&#10;            return false;&#10;        }&#10;&#10;        if (!newPassword.equals(confirmPassword)) {&#10;            Toast.makeText(this, &quot;Passwords don't match&quot;, Toast.LENGTH_SHORT).show();&#10;            return false;&#10;        }&#10;&#10;        if (currentPassword.equals(newPassword)) {&#10;            Toast.makeText(this, &quot;New password must be different from current password&quot;, Toast.LENGTH_SHORT).show();&#10;            return false;&#10;        }&#10;&#10;        return true;&#10;    }&#10;&#10;&#10;    private void changeUserPassword(String currentPassword, String newPassword) {&#10;        FirebaseUser user = mAuth.getCurrentUser();&#10;        if (user == null || user.getEmail() == null) {&#10;            Toast.makeText(this, &quot;User not authenticated&quot;, Toast.LENGTH_SHORT).show();&#10;            return;&#10;        }&#10;&#10;        Toast.makeText(this, &quot;Changing password...&quot;, Toast.LENGTH_SHORT).show();&#10;&#10;        AuthCredential credential = EmailAuthProvider.getCredential(user.getEmail(), currentPassword);&#10;&#10;        user.reauthenticate(credential).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {&#10;            @Override&#10;            public void onComplete(@NonNull Task&lt;Void&gt; task) {&#10;                if (task.isSuccessful()) {&#10;                    user.updatePassword(newPassword).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {&#10;                        @Override&#10;                        public void onComplete(@NonNull Task&lt;Void&gt; passwordTask) {&#10;                            if (passwordTask.isSuccessful()) {&#10;                                Toast.makeText(Profile.this, &quot;Password changed successfully!&quot;, Toast.LENGTH_LONG).show();&#10;&#10;                                if (userDocRef != null) {&#10;                                    userDocRef.update(&quot;lastPasswordChange&quot;, System.currentTimeMillis());&#10;                                }&#10;                            } else {&#10;                                String errorMessage = passwordTask.getException() != null ?&#10;                                        passwordTask.getException().getMessage() : &quot;Failed to change password&quot;;&#10;                                Toast.makeText(Profile.this, &quot;Error: &quot; + errorMessage, Toast.LENGTH_LONG).show();&#10;                            }&#10;                        }&#10;                    });&#10;                } else {&#10;                    Toast.makeText(Profile.this, &quot;Current password is incorrect&quot;, Toast.LENGTH_LONG).show();&#10;                }&#10;            }&#10;        });&#10;    }&#10;&#10;    private void setupEditableFields() {&#10;        layoutEmail.setOnClickListener(v -&gt; showEditEmailDialog());&#10;        layoutPhone.setOnClickListener(v -&gt; showEditPhoneDialog());&#10;    }&#10;&#10;    private void showEditEmailDialog() {&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#10;        builder.setTitle(&quot;Edit Email Address&quot;);&#10;        builder.setMessage(&quot;To change your email, you'll need to verify your current password first.&quot;);&#10;&#10;        LinearLayout layout = new LinearLayout(this);&#10;        layout.setOrientation(LinearLayout.VERTICAL);&#10;        int padding = (int) (16 * getResources().getDisplayMetrics().density);&#10;        layout.setPadding(padding, padding, padding, padding);&#10;&#10;        final EditText newEmailInput = new EditText(this);&#10;        newEmailInput.setInputType(InputType.TYPE_TEXT_VARIATION_EMAIL_ADDRESS);&#10;        newEmailInput.setText(profileEmail.getText().toString());&#10;        newEmailInput.setSelection(newEmailInput.getText().length());&#10;        newEmailInput.setHint(&quot;New Email Address&quot;);&#10;        layout.addView(newEmailInput);&#10;&#10;        final EditText passwordInput = new EditText(this);&#10;        passwordInput.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);&#10;        passwordInput.setHint(&quot;Current Password&quot;);&#10;        layout.addView(passwordInput);&#10;&#10;        builder.setView(layout);&#10;&#10;        builder.setPositiveButton(&quot;Save&quot;, (dialog, which) -&gt; {&#10;            String newEmail = newEmailInput.getText().toString().trim();&#10;            String password = passwordInput.getText().toString().trim();&#10;&#10;            if (password.isEmpty()) {&#10;                Toast.makeText(this, &quot;Password is required to change email&quot;, Toast.LENGTH_SHORT).show();&#10;                return;&#10;            }&#10;&#10;            if (validateEmail(newEmail)) {&#10;                showConfirmationDialog(&#10;                        &quot;Confirm Email Change&quot;,&#10;                        &quot;Change email to:\n&quot; + newEmail + &quot;?\n\nYou will need to use this email for future logins.&quot;,&#10;                        () -&gt; updateEmailWithAuth(newEmail, password)  //  NOW CALLING THE RIGHT METHOD&#10;                );&#10;            } else {&#10;                Toast.makeText(this, &quot;Please enter a valid email address&quot;, Toast.LENGTH_SHORT).show();&#10;            }&#10;        });&#10;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.cancel());&#10;&#10;        AlertDialog dialog = builder.create();&#10;&#10;        if (dialog.getWindow() != null) {&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#10;        }&#10;&#10;        dialog.show();&#10;&#10;        // Style buttons AFTER showing dialog&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#10;        }&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#10;        }&#10;&#10;        newEmailInput.requestFocus();&#10;    }&#10;&#10;    private void showEditPhoneDialog() {&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#10;        builder.setTitle(&quot;Edit Phone Number&quot;);&#10;&#10;        LinearLayout container = new LinearLayout(this);&#10;        container.setOrientation(LinearLayout.VERTICAL);&#10;        int padding = (int) (20 * getResources().getDisplayMetrics().density);&#10;        container.setPadding(padding, padding / 2, padding, padding);&#10;&#10;        final EditText input = new EditText(this);&#10;        input.setInputType(InputType.TYPE_CLASS_PHONE);&#10;&#10;        String currentPhone = tvPhone.getText().toString();&#10;        if (!currentPhone.equals(&quot;Phone not set&quot;)) {&#10;            input.setText(currentPhone);&#10;            input.setSelection(input.getText().length());&#10;        }&#10;&#10;        input.setHint(&quot;Enter your phone number&quot;);&#10;&#10;        container.addView(input);&#10;        builder.setView(container);&#10;&#10;        builder.setPositiveButton(&quot;Save&quot;, (dialog, which) -&gt; {&#10;            String newPhone = input.getText().toString().trim();&#10;            if (newPhone.isEmpty()) {&#10;                Toast.makeText(this, &quot;Phone number cannot be empty&quot;, Toast.LENGTH_SHORT).show();&#10;            } else if (validatePhone(newPhone)) {&#10;                showConfirmationDialog(&#10;                        &quot;Confirm Phone Change&quot;,&#10;                        &quot;Change phone number to:\n&quot; + newPhone + &quot;?&quot;,&#10;                        () -&gt; updatePhone(newPhone)&#10;                );&#10;            } else {&#10;                Toast.makeText(this, &quot;Please enter a valid phone number&quot;, Toast.LENGTH_SHORT).show();&#10;            }&#10;        });&#10;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.cancel());&#10;&#10;        AlertDialog dialog = builder.create();&#10;&#10;        if (dialog.getWindow() != null) {&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#10;        }&#10;&#10;        dialog.show();&#10;&#10;        // CRITICAL: Style buttons AFTER showing dialog&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#10;        }&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#10;        }&#10;&#10;        input.requestFocus();&#10;    }&#10;&#10;&#10;    private boolean validateEmail(String email) {&#10;        return email != null &amp;&amp; EMAIL_PATTERN.matcher(email).matches();&#10;    }&#10;&#10;    private boolean validatePhone(String phone) {&#10;        if (phone == null || phone.trim().isEmpty()) {&#10;            return false;&#10;        }&#10;&#10;        // Remove spaces, dashes, and parentheses&#10;        String cleanPhone = phone.replaceAll(&quot;[\\s\\-\\(\\)]&quot;, &quot;&quot;);&#10;&#10;        // Check if it matches Philippine format using the constant&#10;        return PHONE_PATTERN.matcher(cleanPhone).matches();  //  Uses the constant&#10;    }&#10;&#10;&#10;    private void updateEmailWithAuth(String newEmail, String password) {&#10;        FirebaseUser user = mAuth.getCurrentUser();&#10;        if (user == null || user.getEmail() == null) {&#10;            Toast.makeText(this, &quot;User not authenticated&quot;, Toast.LENGTH_SHORT).show();&#10;            return;&#10;        }&#10;&#10;        Toast.makeText(this, &quot;Updating email...&quot;, Toast.LENGTH_SHORT).show();&#10;&#10;        // Step 1: Re-authenticate the user&#10;        AuthCredential credential = EmailAuthProvider.getCredential(user.getEmail(), password);&#10;&#10;        user.reauthenticate(credential).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {&#10;            @Override&#10;            public void onComplete(@NonNull Task&lt;Void&gt; task) {&#10;                if (task.isSuccessful()) {&#10;                    // Step 2: Update Firebase Authentication email&#10;                    user.verifyBeforeUpdateEmail(newEmail).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {&#10;                        @Override&#10;                        public void onComplete(@NonNull Task&lt;Void&gt; emailTask) {&#10;                            if (emailTask.isSuccessful()) {&#10;                                // Step 3: Update Firestore email&#10;                                if (userDocRef != null) {&#10;                                    userDocRef.update(&quot;email&quot;, newEmail)&#10;                                            .addOnSuccessListener(aVoid -&gt; {&#10;                                                profileEmail.setText(newEmail);&#10;                                                markProfileAsChanged();&#10;&#10;                                                //  FIXED: Added proper styling to the verification dialog&#10;                                                AlertDialog.Builder builder = new AlertDialog.Builder(Profile.this, R.style.RoundedDialogStyle);&#10;                                                builder.setTitle(&quot; Email Verification Required&quot;);&#10;                                                builder.setMessage(&#10;                                                        &quot; A verification email has been sent to:\n&quot; +&#10;                                                                newEmail +&#10;                                                                &quot;\n\n&quot; +&#10;                                                                &quot; IMPORTANT STEPS:\n&quot; +&#10;                                                                &quot;1. Check your email inbox/spam\n&quot; +&#10;                                                                &quot;2. Click the verification link\n&quot; +&#10;                                                                &quot;3. After verification, you can login with your new email\n\n&quot; +&#10;                                                                &quot; NOTE: You cannot login your old and new email until you verify it.&quot;&#10;                                                );&#10;                                                builder.setPositiveButton(&quot;I Understand&quot;, null);&#10;                                                builder.setCancelable(false);&#10;&#10;                                                AlertDialog dialog = builder.create();&#10;&#10;                                                //  Apply rounded background&#10;                                                if (dialog.getWindow() != null) {&#10;                                                    dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#10;                                                }&#10;&#10;                                                dialog.show();&#10;&#10;                                                //  Style the button AFTER showing&#10;                                                if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#10;                                                    dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(&#10;                                                            getResources().getColor(android.R.color.holo_green_dark)&#10;                                                    );&#10;                                                }&#10;                                            })&#10;                                            .addOnFailureListener(e -&gt; {&#10;                                                Toast.makeText(Profile.this,&#10;                                                        &quot;Failed to update email in database: &quot; + e.getMessage(),&#10;                                                        Toast.LENGTH_SHORT).show();&#10;                                            });&#10;                                }&#10;                            } else {&#10;                                String errorMessage = emailTask.getException() != null ?&#10;                                        emailTask.getException().getMessage() : &quot;Failed to update email&quot;;&#10;&#10;                                if (errorMessage.contains(&quot;already in use&quot;)) {&#10;                                    Toast.makeText(Profile.this,&#10;                                            &quot;This email is already in use by another account&quot;,&#10;                                            Toast.LENGTH_LONG).show();&#10;                                } else {&#10;                                    Toast.makeText(Profile.this, &quot;Error: &quot; + errorMessage,&#10;                                            Toast.LENGTH_LONG).show();&#10;                                }&#10;                            }&#10;                        }&#10;                    });&#10;                } else {&#10;                    Toast.makeText(Profile.this, &quot;Incorrect password. Please try again.&quot;,&#10;                            Toast.LENGTH_LONG).show();&#10;                }&#10;            }&#10;        });&#10;    }&#10;&#10;&#10;    private void updatePhone(String newPhone) {&#10;        FirebaseUser currentUser = mAuth.getCurrentUser();&#10;        if (currentUser == null) {&#10;            Log.e(&quot;Profile&quot;, &quot; User not authenticated&quot;);&#10;            Toast.makeText(this, &quot;User not authenticated&quot;, Toast.LENGTH_SHORT).show();&#10;            return;&#10;        }&#10;&#10;        // Normalize phone number&#10;        String normalizedPhone = newPhone.replaceAll(&quot;[\\s\\-\\(\\)]&quot;, &quot;&quot;);&#10;&#10;        // Debug logs&#10;        Log.d(&quot;Profile&quot;, &quot;Original phone input: &quot; + newPhone);&#10;        Log.d(&quot;Profile&quot;, &quot;Normalized phone: &quot; + normalizedPhone);&#10;        Log.d(&quot;Profile&quot;, &quot;Pattern matches: &quot; + PHONE_PATTERN.matcher(normalizedPhone).matches());&#10;&#10;        // Validate format&#10;        if (!PHONE_PATTERN.matcher(normalizedPhone).matches()) {&#10;            Log.e(&quot;Profile&quot;, &quot; Invalid phone format&quot;);&#10;            Toast.makeText(this, &quot;Invalid phone format. Use: 09123456789&quot;, Toast.LENGTH_SHORT).show();&#10;            return;&#10;        }&#10;        Log.d(&quot;Profile&quot;, &quot; Phone format valid&quot;);&#10;&#10;        // Check if this is the same as current phone&#10;        String currentPhone = tvPhone.getText().toString();&#10;        Log.d(&quot;Profile&quot;, &quot;Current phone display: &quot; + currentPhone);&#10;&#10;        if (!currentPhone.equals(&quot;Phone not set&quot;)) {&#10;            String currentNormalized = currentPhone.replaceAll(&quot;[\\s\\-\\(\\)]&quot;, &quot;&quot;);&#10;            Log.d(&quot;Profile&quot;, &quot;Current normalized: &quot; + currentNormalized);&#10;&#10;            if (normalizedPhone.equals(currentNormalized)) {&#10;                Log.e(&quot;Profile&quot;, &quot; Same as current phone&quot;);&#10;                Toast.makeText(this, &quot;This is already your current phone number&quot;, Toast.LENGTH_SHORT).show();&#10;                return;&#10;            }&#10;        }&#10;        Log.d(&quot;Profile&quot;, &quot; Phone is different from current&quot;);&#10;&#10;        // Show progress&#10;        Log.d(&quot;Profile&quot;, &quot; Checking if phone exists...&quot;);&#10;        Toast.makeText(this, &quot;Updating phone number...&quot;, Toast.LENGTH_SHORT).show();&#10;&#10;        // Check if phone number already exists (excluding current user)&#10;        checkPhoneNumberExists(normalizedPhone, currentUser.getUid(), exists -&gt; {&#10;            Log.d(&quot;Profile&quot;, &quot;Phone exists check result: &quot; + exists);&#10;&#10;            if (exists) {&#10;                Log.e(&quot;Profile&quot;, &quot; Phone already registered&quot;);&#10;                Toast.makeText(Profile.this,&#10;                        &quot;This phone number is already registered to another account.&quot;,&#10;                        Toast.LENGTH_LONG).show();&#10;            } else {&#10;                Log.d(&quot;Profile&quot;, &quot; Phone is unique, proceeding with update&quot;);&#10;&#10;                // Phone number is unique, proceed with update&#10;                if (userDocRef != null) {&#10;                    userDocRef.update(&quot;phone&quot;, normalizedPhone)&#10;                            .addOnSuccessListener(aVoid -&gt; {&#10;                                Log.d(&quot;Profile&quot;, &quot; Phone updated successfully&quot;);&#10;                                tvPhone.setText(normalizedPhone);&#10;                                markProfileAsChanged();&#10;                                Toast.makeText(Profile.this,&#10;                                        &quot;Phone number updated successfully&quot;,&#10;                                        Toast.LENGTH_SHORT).show();&#10;                            })&#10;                            .addOnFailureListener(e -&gt; {&#10;                                Log.e(&quot;Profile&quot;, &quot; Phone update error&quot;, e);&#10;                                Toast.makeText(Profile.this,&#10;                                        &quot;Failed to update: &quot; + e.getMessage(),&#10;                                        Toast.LENGTH_LONG).show();&#10;                            });&#10;                } else {&#10;                    Log.e(&quot;Profile&quot;, &quot; userDocRef is null&quot;);&#10;                }&#10;            }&#10;        });&#10;    }&#10;    private void checkPhoneNumberExists(String phone, String currentUserId, PhoneCheckCallback callback) {&#10;        Log.d(&quot;Profile&quot;, &quot;&quot;);&#10;        Log.d(&quot;Profile&quot;, &quot; CHECKING PHONE EXISTENCE&quot;);&#10;        Log.d(&quot;Profile&quot;, &quot;Phone to check: [&quot; + phone + &quot;]&quot;);&#10;        Log.d(&quot;Profile&quot;, &quot;Phone length: &quot; + phone.length());&#10;        Log.d(&quot;Profile&quot;, &quot;Current user ID: &quot; + currentUserId);&#10;        Log.d(&quot;Profile&quot;, &quot;&quot;);&#10;&#10;        firestore.collection(&quot;users&quot;)&#10;                .whereEqualTo(&quot;phone&quot;, phone)&#10;                .get()&#10;                .addOnCompleteListener(task -&gt; {&#10;                    if (task.isSuccessful()) {&#10;                        QuerySnapshot querySnapshot = task.getResult();&#10;&#10;                        Log.d(&quot;Profile&quot;, &quot; Query successful!&quot;);&#10;                        Log.d(&quot;Profile&quot;, &quot;Query result is null? &quot; + (querySnapshot == null));&#10;&#10;                        if (querySnapshot != null) {&#10;                            Log.d(&quot;Profile&quot;, &quot;Is empty? &quot; + querySnapshot.isEmpty());&#10;                            Log.d(&quot;Profile&quot;, &quot;Document count: &quot; + querySnapshot.size());&#10;&#10;                            if (!querySnapshot.isEmpty()) {&#10;                                Log.d(&quot;Profile&quot;, &quot; Found documents with this phone:&quot;);&#10;&#10;                                int index = 0;&#10;                                for (DocumentSnapshot doc : querySnapshot.getDocuments()) {&#10;                                    index++;&#10;                                    String docId = doc.getId();&#10;                                    String docPhone = doc.getString(&quot;phone&quot;);&#10;                                    String docEmail = doc.getString(&quot;email&quot;);&#10;                                    String docName = doc.getString(&quot;fullname&quot;);&#10;&#10;                                    Log.d(&quot;Profile&quot;, &quot;--- Document #&quot; + index + &quot; ---&quot;);&#10;                                    Log.d(&quot;Profile&quot;, &quot;  User ID: &quot; + docId);&#10;                                    Log.d(&quot;Profile&quot;, &quot;  Phone: [&quot; + docPhone + &quot;]&quot;);&#10;                                    Log.d(&quot;Profile&quot;, &quot;  Phone length: &quot; + (docPhone != null ? docPhone.length() : &quot;null&quot;));&#10;                                    Log.d(&quot;Profile&quot;, &quot;  Email: &quot; + docEmail);&#10;                                    Log.d(&quot;Profile&quot;, &quot;  Name: &quot; + docName);&#10;                                    Log.d(&quot;Profile&quot;, &quot;  Is current user? &quot; + docId.equals(currentUserId));&#10;                                    Log.d(&quot;Profile&quot;, &quot;  Phone matches exactly? &quot; + phone.equals(docPhone));&#10;                                }&#10;&#10;                                // Check if phone belongs to another user&#10;                                boolean belongsToOtherUser = false;&#10;                                for (DocumentSnapshot doc : querySnapshot.getDocuments()) {&#10;                                    if (!doc.getId().equals(currentUserId)) {&#10;                                        belongsToOtherUser = true;&#10;                                        Log.e(&quot;Profile&quot;, &quot; PHONE BELONGS TO ANOTHER USER!&quot;);&#10;                                        break;&#10;                                    }&#10;                                }&#10;&#10;                                if (!belongsToOtherUser) {&#10;                                    Log.d(&quot;Profile&quot;, &quot; Phone belongs to current user only&quot;);&#10;                                }&#10;&#10;                                Log.d(&quot;Profile&quot;, &quot;Final result: belongsToOtherUser = &quot; + belongsToOtherUser);&#10;                                callback.onResult(belongsToOtherUser);&#10;                            } else {&#10;                                Log.d(&quot;Profile&quot;, &quot; NO DOCUMENTS FOUND - Phone is available!&quot;);&#10;                                callback.onResult(false);&#10;                            }&#10;                        } else {&#10;                            Log.e(&quot;Profile&quot;, &quot; QuerySnapshot is NULL!&quot;);&#10;                            callback.onResult(false);&#10;                        }&#10;                    } else {&#10;                        Exception e = task.getException();&#10;                        Log.e(&quot;Profile&quot;, &quot; Query FAILED!&quot;);&#10;                        Log.e(&quot;Profile&quot;, &quot;Error: &quot; + (e != null ? e.getMessage() : &quot;Unknown error&quot;));&#10;                        if (e != null) {&#10;                            e.printStackTrace();&#10;                        }&#10;&#10;                        Toast.makeText(Profile.this,&#10;                                &quot;Error checking phone number. Please try again.&quot;,&#10;                                Toast.LENGTH_SHORT).show();&#10;                        callback.onResult(true);&#10;                    }&#10;                    Log.d(&quot;Profile&quot;, &quot;&quot;);&#10;                });&#10;    }&#10;&#10;&#10;&#10;    private void setupDatePicker() {&#10;        layoutDob.setOnClickListener(v -&gt; showDatePickerDialog());&#10;    }&#10;&#10;    private void showDatePickerDialog() {&#10;        int currentYear = selectedDate.get(Calendar.YEAR);&#10;        int currentMonth = selectedDate.get(Calendar.MONTH);&#10;        int currentDay = selectedDate.get(Calendar.DAY_OF_MONTH);&#10;&#10;        DatePickerDialog datePickerDialog = new DatePickerDialog(&#10;                this,&#10;                new DatePickerDialog.OnDateSetListener() {&#10;                    @Override&#10;                    public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {&#10;                        Calendar tempDate = Calendar.getInstance();&#10;                        tempDate.set(Calendar.YEAR, year);&#10;                        tempDate.set(Calendar.MONTH, month);&#10;                        tempDate.set(Calendar.DAY_OF_MONTH, dayOfMonth);&#10;&#10;                        String formattedDate = dateFormat.format(tempDate.getTime());&#10;&#10;                        // Show confirmation dialog before updating&#10;                        showConfirmationDialog(&#10;                                &quot;Confirm Date of Birth&quot;,&#10;                                &quot;Set date of birth to:\n&quot; + formattedDate + &quot;?&quot;,&#10;                                () -&gt; {&#10;                                    selectedDate.set(Calendar.YEAR, year);&#10;                                    selectedDate.set(Calendar.MONTH, month);&#10;                                    selectedDate.set(Calendar.DAY_OF_MONTH, dayOfMonth);&#10;                                    tvDob.setText(formattedDate);&#10;                                    saveDateOfBirth(formattedDate);&#10;                                    Toast.makeText(Profile.this, &quot;Date of birth updated&quot;, Toast.LENGTH_SHORT).show();&#10;                                }&#10;                        );&#10;                    }&#10;                },&#10;                currentYear,&#10;                currentMonth,&#10;                currentDay&#10;        );&#10;&#10;        Calendar maxDate = Calendar.getInstance();&#10;        maxDate.add(Calendar.YEAR, -13);&#10;        datePickerDialog.getDatePicker().setMaxDate(maxDate.getTimeInMillis());&#10;&#10;        Calendar minDate = Calendar.getInstance();&#10;        minDate.set(1900, 0, 1);&#10;        datePickerDialog.getDatePicker().setMinDate(minDate.getTimeInMillis());&#10;&#10;        datePickerDialog.show();&#10;    }&#10;&#10;&#10;    private void saveDateOfBirth(String dateOfBirth) {&#10;        SharedPreferences prefs = getSharedPreferences(&quot;user_profile&quot;, MODE_PRIVATE);&#10;        SharedPreferences.Editor editor = prefs.edit();&#10;        editor.putString(&quot;date_of_birth&quot;, dateOfBirth);&#10;        editor.putLong(&quot;date_of_birth_timestamp&quot;, selectedDate.getTimeInMillis());&#10;        editor.apply();&#10;&#10;        if (userDocRef != null) {&#10;            // Save both the formatted string and timestamp to Firestore&#10;            //  FIXED: Use &quot;birthdate&quot; instead of &quot;dateOfBirth&quot;&#10;            Map&lt;String, Object&gt; updates = new HashMap&lt;&gt;();&#10;            updates.put(&quot;birthdate&quot;, dateOfBirth);&#10;            updates.put(&quot;birthdateTimestamp&quot;, selectedDate.getTimeInMillis());&#10;&#10;            userDocRef.update(updates)&#10;                    .addOnSuccessListener(aVoid -&gt; {&#10;                        Log.d(&quot;Profile&quot;, &quot;Date of birth saved: &quot; + dateOfBirth);&#10;                        markProfileAsChanged();&#10;                    })&#10;                    .addOnFailureListener(e -&gt; {&#10;                        Log.e(&quot;Profile&quot;, &quot;Failed to save date of birth&quot;, e);&#10;                    });&#10;        }&#10;    }&#10;&#10;    private void setupUserDataListener() {&#10;        FirebaseUser currentUser = mAuth.getCurrentUser();&#10;        if (currentUser == null) return;&#10;&#10;        userDataListener = userDocRef.addSnapshotListener((snapshot, error) -&gt; {&#10;            if (error != null) {&#10;                Toast.makeText(Profile.this, &quot;Failed to load profile data&quot;, Toast.LENGTH_SHORT).show();&#10;                return;&#10;            }&#10;            if (snapshot != null &amp;&amp; snapshot.exists()) {&#10;                String name = snapshot.getString(&quot;fullname&quot;);&#10;                String email = snapshot.getString(&quot;email&quot;);&#10;                String phone = snapshot.getString(&quot;phone&quot;);&#10;                String dateOfBirth = snapshot.getString(&quot;birthdate&quot;);&#10;                String profilePictureUrl = snapshot.getString(&quot;profilePictureUrl&quot;);&#10;                String userType = snapshot.getString(&quot;userType&quot;);&#10;                if (userType == null || userType.isEmpty()) {&#10;                    userDocRef.update(&quot;userType&quot;, &quot;user&quot;);&#10;                }&#10;&#10;                //  Load membership status separately from memberships collection&#10;                loadMembershipStatus(currentUser.getUid());&#10;&#10;                updateProfileDisplay(name, email, phone, dateOfBirth, null, currentUser);&#10;                loadProfilePicture(profilePictureUrl);&#10;            } else {&#10;                createDefaultUserProfile(currentUser);&#10;            }&#10;        });&#10;    }&#10;&#10;    private void loadMembershipStatus(String userId) {&#10;        try {&#10;            firestore.collection(&quot;memberships&quot;)&#10;                    .document(userId)&#10;                    .addSnapshotListener((snapshot, error) -&gt; {&#10;                        try {&#10;                            if (error != null) {&#10;                                Log.e(&quot;Profile&quot;, &quot;Error loading membership&quot;, error);&#10;                                if (tvStatus != null) {&#10;                                    tvStatus.setText(&quot;INACTIVE&quot;);&#10;                                    updateMembershipStatusColor(&quot;Inactive&quot;);&#10;                                }&#10;                                return;&#10;                            }&#10;&#10;                            if (snapshot != null &amp;&amp; snapshot.exists()) {&#10;                                String status = snapshot.getString(&quot;membershipStatus&quot;);&#10;&#10;                                // Check expiration date&#10;                                Timestamp expirationTimestamp = snapshot.getTimestamp(&quot;membershipExpirationDate&quot;);&#10;                                boolean isExpired = false;&#10;&#10;                                if (expirationTimestamp != null) {&#10;                            Date expirationDate = expirationTimestamp.toDate();&#10;                            Date now = new Date();&#10;                            isExpired = now.after(expirationDate);&#10;                        }&#10;&#10;                        // Simple: Active or Inactive&#10;                        if (&quot;active&quot;.equalsIgnoreCase(status) &amp;&amp; !isExpired) {&#10;                            cachedMembershipStatus = &quot;ACTIVE&quot;;&#10;                            cachedStatusColor = getResources().getColor(android.R.color.holo_green_dark);&#10;&#10;                            //  SAVE TO SHARED PREFERENCES&#10;                            getSharedPreferences(&quot;Profile_cache&quot;, MODE_PRIVATE)&#10;                                    .edit()&#10;                                    .putString(&quot;cached_status&quot;, &quot;ACTIVE&quot;)&#10;                                    .putInt(&quot;cached_color&quot;, cachedStatusColor)&#10;                                    .apply();&#10;&#10;                            tvStatus.setText(&quot;ACTIVE&quot;);&#10;                            updateMembershipStatusColor(&quot;Active&quot;);&#10;                        } else {&#10;                            cachedMembershipStatus = &quot;INACTIVE&quot;;&#10;                            cachedStatusColor = getResources().getColor(android.R.color.holo_red_dark);&#10;&#10;                            //  SAVE TO SHARED PREFERENCES&#10;                            getSharedPreferences(&quot;Profile_cache&quot;, MODE_PRIVATE)&#10;                                    .edit()&#10;                                    .putString(&quot;cached_status&quot;, &quot;INACTIVE&quot;)&#10;                                    .putInt(&quot;cached_color&quot;, cachedStatusColor)&#10;                                    .apply();&#10;&#10;                            if (tvStatus != null) {&#10;                                tvStatus.setText(&quot;INACTIVE&quot;);&#10;                                updateMembershipStatusColor(&quot;Inactive&quot;);&#10;                            }&#10;&#10;                            // Auto-update status in database if expired&#10;                            if (isExpired &amp;&amp; &quot;active&quot;.equalsIgnoreCase(status)) {&#10;                                firestore.collection(&quot;memberships&quot;)&#10;                                        .document(userId)&#10;                                        .update(&quot;membershipStatus&quot;, &quot;inactive&quot;);&#10;                            }&#10;                        }&#10;                    } else {&#10;                        // No membership document = Inactive&#10;                        if (tvStatus != null) {&#10;                            tvStatus.setText(&quot;INACTIVE&quot;);&#10;                            updateMembershipStatusColor(&quot;Inactive&quot;);&#10;                        }&#10;                    }&#10;                } catch (Exception e) {&#10;                    Log.e(&quot;Profile&quot;, &quot;Exception in membership listener&quot;, e);&#10;                    if (tvStatus != null) {&#10;                        tvStatus.setText(&quot;INACTIVE&quot;);&#10;                        updateMembershipStatusColor(&quot;Inactive&quot;);&#10;                    }&#10;                }&#10;            });&#10;        } catch (Exception e) {&#10;            Log.e(&quot;Profile&quot;, &quot;Exception setting up membership listener&quot;, e);&#10;            if (tvStatus != null) {&#10;                tvStatus.setText(&quot;INACTIVE&quot;);&#10;                updateMembershipStatusColor(&quot;Inactive&quot;);&#10;            }&#10;        }&#10;    }&#10;&#10;&#10;&#10;    private void updateProfileDisplay(String name, String email, String phone, String dateOfBirth, String membershipStatus, FirebaseUser currentUser) {&#10;        // Update Name&#10;        String displayName;&#10;        if (name != null &amp;&amp; !name.isEmpty()) {&#10;            displayName = name;&#10;        } else if (currentUser != null &amp;&amp; currentUser.getDisplayName() != null &amp;&amp; !currentUser.getDisplayName().isEmpty()) {&#10;            displayName = currentUser.getDisplayName();&#10;        } else {&#10;            displayName = &quot;Gym Member&quot;;&#10;        }&#10;&#10;        if (profileName != null) {&#10;            profileName.setText(displayName);&#10;        }&#10;&#10;        //  SAVE TO CACHE&#10;        cachedUserName = displayName;&#10;        getSharedPreferences(&quot;Profile_cache&quot;, MODE_PRIVATE)&#10;                .edit()&#10;                .putString(&quot;cached_name&quot;, displayName)&#10;                .apply();&#10;&#10;        // Update Email&#10;        if (profileEmail != null) {&#10;            if (email != null &amp;&amp; !email.isEmpty()) {&#10;                profileEmail.setText(email);&#10;            } else {&#10;                String currentEmail = currentUser != null ? currentUser.getEmail() : null;&#10;                profileEmail.setText(currentEmail != null ? currentEmail : &quot;No email&quot;);&#10;                if (currentEmail != null &amp;&amp; userDocRef != null) {&#10;                    userDocRef.update(&quot;email&quot;, currentEmail);&#10;                }&#10;            }&#10;        }&#10;&#10;        // Update Phone&#10;        if (tvPhone != null) {&#10;            if (phone != null &amp;&amp; !phone.isEmpty()) {&#10;                tvPhone.setText(phone);&#10;            } else {&#10;                tvPhone.setText(&quot;Phone not set&quot;);&#10;            }&#10;        }&#10;&#10;        //  FIXED: Update Date of Birth - handle both formats with DEBUG LOGS&#10;        Log.d(&quot;Profile&quot;, &quot;Received dateOfBirth: &quot; + dateOfBirth); // DEBUG&#10;&#10;        if (tvDob != null &amp;&amp; dateOfBirth != null &amp;&amp; !dateOfBirth.isEmpty()) {&#10;            try {&#10;                Date parsedDate = null;&#10;&#10;                // Try parsing with display format first (MMMM dd, yyyy)&#10;                try {&#10;                    parsedDate = dateFormat.parse(dateOfBirth);&#10;                    Log.d(&quot;Profile&quot;, &quot;Parsed with display format successfully&quot;); // DEBUG&#10;                } catch (Exception e) {&#10;                    Log.d(&quot;Profile&quot;, &quot;Display format failed, trying database format&quot;); // DEBUG&#10;                    // If that fails, try parsing with database format (yyyy-MM-dd)&#10;                    SimpleDateFormat dbFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.getDefault());&#10;                    parsedDate = dbFormat.parse(dateOfBirth);&#10;&#10;                    // Convert to display format&#10;                    if (parsedDate != null) {&#10;                        dateOfBirth = dateFormat.format(parsedDate);&#10;                        Log.d(&quot;Profile&quot;, &quot;Converted to display format: &quot; + dateOfBirth); // DEBUG&#10;                    }&#10;                }&#10;&#10;                if (parsedDate != null) {&#10;                    selectedDate.setTime(parsedDate);&#10;                    tvDob.setText(dateOfBirth);&#10;                    Log.d(&quot;Profile&quot;, &quot;Final display: &quot; + dateOfBirth); // DEBUG&#10;                } else {&#10;                    tvDob.setText(dateOfBirth); // Fallback: just show the text&#10;                    Log.d(&quot;Profile&quot;, &quot;parsedDate is null, showing raw text&quot;); // DEBUG&#10;                }&#10;            } catch (Exception e) {&#10;                Log.e(&quot;Profile&quot;, &quot;Failed to parse date: &quot; + dateOfBirth, e);&#10;                if (tvDob != null) {&#10;                    tvDob.setText(dateOfBirth); // Fallback: just show the text&#10;                }&#10;            }&#10;        } else {&#10;            Log.d(&quot;Profile&quot;, &quot;dateOfBirth is null or empty&quot;); // DEBUG&#10;            if (tvDob != null) {&#10;                tvDob.setText(&quot;Select your date of birth&quot;);&#10;            }&#10;        }&#10;&#10;        // Load fitness profile data&#10;        loadFitnessProfileData();&#10;    }&#10;&#10;&#10;    // Add this method in Profile.java after your update methods&#10;    private void markProfileAsChanged() {&#10;        if (userDocRef != null) {&#10;            userDocRef.update(&quot;profileLastModified&quot;, System.currentTimeMillis())&#10;                    .addOnSuccessListener(aVoid -&gt;&#10;                            Log.d(&quot;Profile&quot;, &quot;Profile modification timestamp updated&quot;))&#10;                    .addOnFailureListener(e -&gt;&#10;                            Log.e(&quot;Profile&quot;, &quot;Failed to update profile timestamp&quot;, e));&#10;        }&#10;    }&#10;&#10;    private void createDefaultUserProfile(FirebaseUser currentUser) {&#10;        if (currentUser == null) return;&#10;&#10;        String email = currentUser.getEmail();&#10;        String fullname = currentUser.getDisplayName();&#10;        if (fullname == null || fullname.isEmpty()) {&#10;            fullname = &quot;Gym Member&quot;;&#10;        }&#10;&#10;        if (userDocRef != null) {&#10;            UserProfileFirestore profile = new UserProfileFirestore(fullname, email);&#10;            firestore.runTransaction(transaction -&gt; {&#10;                transaction.set(userDocRef, profile);&#10;                transaction.update(userDocRef, &quot;userType&quot;, &quot;user&quot;);&#10;                return null;&#10;            });&#10;        }&#10;&#10;        profileName.setText(fullname);&#10;        profileEmail.setText(email != null ? email : &quot;No email&quot;);&#10;        tvPhone.setText(&quot;Phone not set&quot;);&#10;        tvStatus.setText(&quot;INACTIVE&quot;);&#10;        updateMembershipStatusColor(&quot;Inactive&quot;);&#10;        tvDob.setText(&quot;Select your date of birth&quot;);&#10;        tvFitnessLevel.setText(&quot;Not set&quot;);&#10;        tvFitnessGoal.setText(&quot;Not set&quot;);&#10;        tvWorkoutFrequency.setText(&quot;Not set&quot;);&#10;    }&#10;&#10;    private int calculateAge() {&#10;        if (selectedDate == null) return 0;&#10;&#10;        Calendar today = Calendar.getInstance();&#10;        int age = today.get(Calendar.YEAR) - selectedDate.get(Calendar.YEAR);&#10;&#10;        if (today.get(Calendar.DAY_OF_YEAR) &lt; selectedDate.get(Calendar.DAY_OF_YEAR)) {&#10;            age--;&#10;        }&#10;&#10;        return age;&#10;    }&#10;&#10;    private String getDateOfBirthForAPI() {&#10;        SimpleDateFormat apiFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.getDefault());&#10;        return apiFormat.format(selectedDate.getTime());&#10;    }&#10;&#10;    @Override&#10;    protected void onResume() {&#10;        super.onResume();&#10;        // Reload fitness profile data when returning from other activities&#10;        loadFitnessProfileData();&#10;    }&#10;&#10;    @Override&#10;    protected void onDestroy() {&#10;        super.onDestroy();&#10;        if (userDataListener != null) {&#10;            userDataListener.remove();&#10;        }&#10;    }&#10;&#10;    private void showLogoutDialog() {&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#10;        builder.setTitle(&quot;Logout&quot;);&#10;        builder.setMessage(&quot;Are you sure you want to log out?&quot;);&#10;&#10;        builder.setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {&#10;            mAuth.signOut();&#10;            startActivity(new Intent(Profile.this, LoginActivity.class));&#10;            finish();&#10;        });&#10;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.dismiss());&#10;&#10;        AlertDialog dialog = builder.create();&#10;&#10;        // Apply rounded background&#10;        if (dialog.getWindow() != null) {&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#10;        }&#10;&#10;        dialog.show();&#10;&#10;        // Style the buttons AFTER showing the dialog&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#10;        }&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#10;        }&#10;    }&#10;&#10;    private void initCloudinary() {&#10;        Map&lt;String, String&gt; config = new HashMap&lt;&gt;();&#10;        config.put(&quot;cloud_name&quot;, &quot;dgxwz6qzg&quot;);&#10;&#10;        try {&#10;            MediaManager.init(this, config);&#10;            Log.d(&quot;Cloudinary&quot;, &quot;MediaManager initialized successfully&quot;);&#10;        } catch (IllegalStateException e) {&#10;            Log.d(&quot;Cloudinary&quot;, &quot;MediaManager already initialized&quot;);&#10;        }&#10;    }&#10;&#10;    private void uploadImageToCloudinary(Uri imageUri) {&#10;        FirebaseUser currentUser = mAuth.getCurrentUser();&#10;        if (currentUser == null) {&#10;            Toast.makeText(this, &quot;Please login first&quot;, Toast.LENGTH_SHORT).show();&#10;            return;&#10;        }&#10;&#10;        if (imageUri == null) {&#10;            Toast.makeText(this, &quot;Invalid image selected&quot;, Toast.LENGTH_SHORT).show();&#10;            return;&#10;        }&#10;&#10;        uploadProgressDialog.setMessage(&quot;Preparing upload...&quot;);&#10;        uploadProgressDialog.show();&#10;&#10;&#10;        MediaManager.get().upload(imageUri)&#10;                .unsigned(&quot;profile_uploads&quot;)&#10;                .option(&quot;folder&quot;, &quot;profile_pictures&quot;)&#10;                .option(&quot;resource_type&quot;, &quot;image&quot;)&#10;                .constrain(com.cloudinary.android.policy.TimeWindow.immediate())&#10;                .maxFileSize(5 * 1024 * 1024)&#10;                .callback(new UploadCallback() {&#10;                    @Override&#10;                    public void onStart(String requestId) {&#10;                        Log.d(&quot;Cloudinary&quot;, &quot;Upload started: &quot; + requestId);&#10;                        runOnUiThread(() -&gt;&#10;                                uploadProgressDialog.setMessage(&quot;Uploading image...&quot;)&#10;                        );&#10;                    }&#10;&#10;                    @Override&#10;                    public void onProgress(String requestId, long bytes, long totalBytes) {&#10;                        double progress = (bytes * 100.0) / totalBytes;&#10;                        runOnUiThread(() -&gt;&#10;                                uploadProgressDialog.setMessage(&#10;                                        String.format(&quot;Uploading: %d%%&quot;, (int) progress)&#10;                                )&#10;                        );&#10;                    }&#10;&#10;                    @Override&#10;                    public void onSuccess(String requestId, Map resultData) {&#10;                        String imageUrl = (String) resultData.get(&quot;secure_url&quot;);&#10;&#10;                        runOnUiThread(() -&gt; {&#10;                            uploadProgressDialog.dismiss();&#10;&#10;                            if (imageUrl != null &amp;&amp; !imageUrl.isEmpty()) {&#10;                                saveProfilePictureUrl(imageUrl);&#10;                                Toast.makeText(Profile.this,&#10;                                        &quot;Profile picture updated!&quot;,&#10;                                        Toast.LENGTH_SHORT).show();&#10;                            } else {&#10;                                Toast.makeText(Profile.this,&#10;                                        &quot;Upload succeeded but no URL returned&quot;,&#10;                                        Toast.LENGTH_SHORT).show();&#10;                            }&#10;                        });&#10;                    }&#10;&#10;                    @Override&#10;                    public void onError(String requestId, ErrorInfo error) {&#10;                        Log.e(&quot;Cloudinary&quot;, &quot;Upload error: &quot; + error.getDescription());&#10;&#10;                        runOnUiThread(() -&gt; {&#10;                            uploadProgressDialog.dismiss();&#10;&#10;                            String errorMsg = &quot;Upload failed&quot;;&#10;                            if (error.getDescription() != null) {&#10;                                errorMsg += &quot;: &quot; + error.getDescription();&#10;                            }&#10;&#10;                            Toast.makeText(Profile.this, errorMsg, Toast.LENGTH_LONG).show();&#10;                        });&#10;                    }&#10;&#10;                    @Override&#10;                    public void onReschedule(String requestId, ErrorInfo error) {&#10;                        Log.d(&quot;Cloudinary&quot;, &quot;Upload rescheduled: &quot; + error.getDescription());&#10;                    }&#10;                })&#10;                .dispatch(Profile.this);  // FIXED: Added context parameter here&#10;    }&#10;&#10;&#10;    private static class UserProfileFirestore {&#10;        public String fullname, email, phone, dateOfBirth, membershipStatus, userType;&#10;&#10;        public UserProfileFirestore(String fullname, String email) {&#10;            this.fullname = fullname;&#10;            this.email = email;&#10;            this.phone = &quot;&quot;;&#10;            this.dateOfBirth = &quot;&quot;;&#10;            this.membershipStatus = &quot;Active Member&quot;;&#10;            this.userType = &quot;user&quot;;&#10;        }&#10;    }&#10;&#10;&#10;    private void saveProfilePictureUrl(String imageUrl) {&#10;        if (userDocRef != null) {&#10;            userDocRef.update(&quot;profilePictureUrl&quot;, imageUrl)&#10;                    .addOnSuccessListener(aVoid -&gt; {&#10;                        loadProfilePicture(imageUrl);&#10;                    });&#10;        }&#10;    }&#10;&#10;    private void loadProfilePicture(String imageUrl) {&#10;        if (imageUrl != null &amp;&amp; !imageUrl.isEmpty()) {&#10;            Glide.with(this)&#10;                    .load(imageUrl)&#10;                    .placeholder(R.drawable.ic_profile)&#10;                    .error(R.drawable.ic_profile)&#10;                    .circleCrop()&#10;                    .into(profilePicture);&#10;        }&#10;    }&#10;&#10;    @Override&#10;    protected void onActivityResult(int requestCode, int resultCode, Intent data) {&#10;        super.onActivityResult(requestCode, resultCode, data);&#10;&#10;        if (requestCode == REQUEST_CROP_IMAGE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {&#10;            String croppedUriString = data.getStringExtra(&quot;croppedImageUri&quot;);&#10;            if (croppedUriString != null) {&#10;                Uri croppedUri = Uri.parse(croppedUriString);&#10;                uploadImageToCloudinary(croppedUri);&#10;            }&#10;        }&#10;    }&#10;&#10;    private void showConfirmationDialog(String title, String message, Runnable onConfirm) {&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#10;        builder.setTitle(title);&#10;        builder.setMessage(message);&#10;&#10;        builder.setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {&#10;            if (onConfirm != null) {&#10;                onConfirm.run();&#10;            }&#10;        });&#10;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.dismiss());&#10;&#10;        AlertDialog dialog = builder.create();&#10;&#10;        // Apply rounded background&#10;        if (dialog.getWindow() != null) {&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#10;        }&#10;&#10;        dialog.show();&#10;&#10;        // CRITICAL: Style the buttons AFTER showing the dialog (same as logout dialog)&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#10;        }&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#10;        }&#10;    }&#10;    private int calculatePasswordStrength(String password) {&#10;        int strength = 0;&#10;&#10;        if (password.length() &gt;= MIN_PASSWORD_LENGTH) strength++;&#10;        if (password.matches(&quot;.*[A-Z].*&quot;)) strength++;&#10;        if (password.matches(&quot;.*[a-z].*&quot;)) strength++;&#10;        if (password.matches(&quot;.*\\d.*&quot;)) strength++;&#10;        if (password.matches(&quot;.*[!@#$%^&amp;*(),.?\&quot;:{}|&lt;&gt;].*&quot;)) strength++;&#10;&#10;        return strength;&#10;    }&#10;&#10;    private String getPasswordStrengthText(int strength) {&#10;        switch (strength) {&#10;            case 0:&#10;            case 1:&#10;                return &quot;Weak&quot;;&#10;            case 2:&#10;            case 3:&#10;                return &quot;Medium&quot;;&#10;            case 4:&#10;                return &quot;Good&quot;;&#10;            case 5:&#10;                return &quot;Strong&quot;;&#10;            default:&#10;                return &quot;Weak&quot;;&#10;        }&#10;    }&#10;&#10;    private int getPasswordStrengthColor(int strength) {&#10;        switch (strength) {&#10;            case 0:&#10;            case 1:&#10;                return getResources().getColor(android.R.color.holo_red_dark);&#10;            case 2:&#10;            case 3:&#10;                return getResources().getColor(android.R.color.holo_orange_dark);&#10;            case 4:&#10;                return getResources().getColor(android.R.color.holo_blue_dark);&#10;            case 5:&#10;                return getResources().getColor(android.R.color.holo_green_dark);&#10;            default:&#10;                return getResources().getColor(android.R.color.holo_red_dark);&#10;        }&#10;    }&#10;&#10;&#10;    private String getPasswordRequirementsText(String password) {&#10;        StringBuilder requirements = new StringBuilder(&quot;\nPassword Requirements:\n&quot;);&#10;&#10;        if (password.length() &gt;= MIN_PASSWORD_LENGTH) {&#10;            requirements.append(&quot; At least 8 characters\n&quot;);&#10;        } else {&#10;            requirements.append(&quot; At least 8 characters\n&quot;);&#10;        }&#10;&#10;        if (password.matches(&quot;.*[A-Z].*&quot;)) {&#10;            requirements.append(&quot; One uppercase letter\n&quot;);&#10;        } else {&#10;            requirements.append(&quot; One uppercase letter\n&quot;);&#10;        }&#10;&#10;        if (password.matches(&quot;.*[a-z].*&quot;)) {&#10;            requirements.append(&quot; One lowercase letter\n&quot;);&#10;        } else {&#10;            requirements.append(&quot; One lowercase letter\n&quot;);&#10;        }&#10;&#10;        if (password.matches(&quot;.*\\d.*&quot;)) {&#10;            requirements.append(&quot; One number\n&quot;);&#10;        } else {&#10;            requirements.append(&quot; One number\n&quot;);&#10;        }&#10;&#10;        if (password.matches(&quot;.*[!@#$%^&amp;*(),.?\&quot;:{}|&lt;&gt;].*&quot;)) {&#10;            requirements.append(&quot; One special character&quot;);&#10;        } else {&#10;            requirements.append(&quot; One special character&quot;);&#10;        }&#10;&#10;        return requirements.toString();&#10;    }&#10;&#10;    private void showAgeDialog() {&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#10;        builder.setTitle(&quot;Enter Your Age&quot;);&#10;&#10;        LinearLayout container = new LinearLayout(this);&#10;        container.setOrientation(LinearLayout.VERTICAL);&#10;        int padding = (int) (20 * getResources().getDisplayMetrics().density);&#10;        container.setPadding(padding, padding / 2, padding, padding);&#10;&#10;        final EditText input = new EditText(this);&#10;        input.setInputType(InputType.TYPE_CLASS_NUMBER);&#10;        input.setHint(&quot;Age (13-100)&quot;);&#10;        container.addView(input);&#10;&#10;        builder.setView(container);&#10;&#10;        builder.setPositiveButton(&quot;Save&quot;, (dialog, which) -&gt; {&#10;            String ageStr = input.getText().toString().trim();&#10;            if (!ageStr.isEmpty()) {&#10;                int age = Integer.parseInt(ageStr);&#10;                if (age &gt;= 13 &amp;&amp; age &lt;= 100) {&#10;                    showConfirmationDialog(&#10;                            &quot;Confirm Age&quot;,&#10;                            &quot;Set age to: &quot; + age + &quot; years old?&quot;,&#10;                            () -&gt; updateAge(age)&#10;                    );&#10;                } else {&#10;                    Toast.makeText(this, &quot;Age must be between 13-100&quot;, Toast.LENGTH_SHORT).show();&#10;                }&#10;            }&#10;        });&#10;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.cancel());&#10;&#10;        AlertDialog dialog = builder.create();&#10;        if (dialog.getWindow() != null) {&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#10;        }&#10;        dialog.show();&#10;&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#10;        }&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#10;        }&#10;    }&#10;&#10;    private void showWeightDialog() {&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#10;        builder.setTitle(&quot;Enter Your Weight&quot;);&#10;&#10;        LinearLayout container = new LinearLayout(this);&#10;        container.setOrientation(LinearLayout.VERTICAL);&#10;        int padding = (int) (20 * getResources().getDisplayMetrics().density);&#10;        container.setPadding(padding, padding / 2, padding, padding);&#10;&#10;        final EditText input = new EditText(this);&#10;        input.setInputType(InputType.TYPE_CLASS_NUMBER | InputType.TYPE_NUMBER_FLAG_DECIMAL);&#10;        input.setHint(&quot;Weight in kg (30-300)&quot;);&#10;        container.addView(input);&#10;&#10;        builder.setView(container);&#10;&#10;        builder.setPositiveButton(&quot;Save&quot;, (dialog, which) -&gt; {&#10;            String weightStr = input.getText().toString().trim();&#10;            if (!weightStr.isEmpty()) {&#10;                double weight = Double.parseDouble(weightStr);&#10;                if (weight &gt;= 30 &amp;&amp; weight &lt;= 300) {&#10;                    showConfirmationDialog(&#10;                            &quot;Confirm Weight&quot;,&#10;                            &quot;Set weight to: &quot; + weight + &quot; kg?&quot;,&#10;                            () -&gt; updateWeight(weight)&#10;                    );&#10;                } else {&#10;                    Toast.makeText(this, &quot;Weight must be between 30-300 kg&quot;, Toast.LENGTH_SHORT).show();&#10;                }&#10;            }&#10;        });&#10;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.cancel());&#10;&#10;        AlertDialog dialog = builder.create();&#10;        if (dialog.getWindow() != null) {&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#10;        }&#10;        dialog.show();&#10;&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#10;        }&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#10;        }&#10;    }&#10;&#10;    private void showHeightDialog() {&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#10;        builder.setTitle(&quot;Enter Your Height&quot;);&#10;&#10;        LinearLayout container = new LinearLayout(this);&#10;        container.setOrientation(LinearLayout.VERTICAL);&#10;        int padding = (int) (20 * getResources().getDisplayMetrics().density);&#10;        container.setPadding(padding, padding / 2, padding, padding);&#10;&#10;        final EditText input = new EditText(this);&#10;        input.setInputType(InputType.TYPE_CLASS_NUMBER | InputType.TYPE_NUMBER_FLAG_DECIMAL);&#10;        input.setHint(&quot;Height in cm (100-250)&quot;);&#10;        container.addView(input);&#10;&#10;        builder.setView(container);&#10;&#10;        builder.setPositiveButton(&quot;Save&quot;, (dialog, which) -&gt; {&#10;            String heightStr = input.getText().toString().trim();&#10;            if (!heightStr.isEmpty()) {&#10;                double height = Double.parseDouble(heightStr);&#10;                if (height &gt;= 100 &amp;&amp; height &lt;= 250) {&#10;                    showConfirmationDialog(&#10;                            &quot;Confirm Height&quot;,&#10;                            &quot;Set height to: &quot; + height + &quot; cm?&quot;,&#10;                            () -&gt; updateHeight(height)&#10;                    );&#10;                } else {&#10;                    Toast.makeText(this, &quot;Height must be between 100-250 cm&quot;, Toast.LENGTH_SHORT).show();&#10;                }&#10;            }&#10;        });&#10;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.cancel());&#10;&#10;        AlertDialog dialog = builder.create();&#10;        if (dialog.getWindow() != null) {&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#10;        }&#10;        dialog.show();&#10;&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#10;        }&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#10;        }&#10;    }&#10;&#10;    private void showHealthIssuesDialog() {&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#10;        builder.setTitle(&quot;Health Issues&quot;);&#10;&#10;        // Create scrollable container&#10;        ScrollView scrollView = new ScrollView(this);&#10;        LinearLayout container = new LinearLayout(this);&#10;        container.setOrientation(LinearLayout.VERTICAL);&#10;        int padding = (int) (20 * getResources().getDisplayMetrics().density);&#10;        container.setPadding(padding, padding / 2, padding, padding);&#10;&#10;        // Add instruction text&#10;        TextView instructions = new TextView(this);&#10;        instructions.setText(&quot;Select common conditions or add custom ones:&quot;);&#10;        instructions.setTextSize(14);&#10;        instructions.setTextColor(getResources().getColor(android.R.color.darker_gray));&#10;        instructions.setPadding(0, 0, 0, (int) (12 * getResources().getDisplayMetrics().density));&#10;        container.addView(instructions);&#10;&#10;        // Common health issues&#10;        String[] commonIssues = {&#10;            &quot;Knee Injury&quot;, &quot;Back Pain&quot;, &quot;Shoulder Injury&quot;, &quot;Ankle Injury&quot;,&#10;            &quot;High Blood Pressure&quot;, &quot;Diabetes&quot;, &quot;Asthma&quot;, &quot;Heart Condition&quot;,&#10;            &quot;Arthritis&quot;, &quot;Previous Surgery&quot;, &quot;Joint Problems&quot;, &quot;Neck Pain&quot;&#10;        };&#10;&#10;        // Parse current health issues&#10;        String currentHealthIssues = tvHealthIssues.getText().toString();&#10;        List&lt;String&gt; selectedIssues = new ArrayList&lt;&gt;();&#10;        if (!currentHealthIssues.equals(&quot;None&quot;) &amp;&amp; !currentHealthIssues.equals(&quot;Not set&quot;)) {&#10;            String[] current = currentHealthIssues.split(&quot;,&quot;);&#10;            for (String issue : current) {&#10;                selectedIssues.add(issue.trim());&#10;            }&#10;        }&#10;&#10;        // Create checkboxes&#10;        List&lt;CheckBox&gt; checkBoxes = new ArrayList&lt;&gt;();&#10;        for (String issue : commonIssues) {&#10;            CheckBox checkBox = new CheckBox(this);&#10;            checkBox.setText(issue);&#10;            checkBox.setTextSize(14);&#10;            checkBox.setChecked(selectedIssues.contains(issue));&#10;            checkBoxes.add(checkBox);&#10;            container.addView(checkBox);&#10;        }&#10;&#10;        // Add divider&#10;        View divider = new View(this);&#10;        divider.setLayoutParams(new LinearLayout.LayoutParams(&#10;            LinearLayout.LayoutParams.MATCH_PARENT,&#10;            (int) (1 * getResources().getDisplayMetrics().density)&#10;        ));&#10;        divider.setBackgroundColor(getResources().getColor(android.R.color.darker_gray));&#10;        LinearLayout.LayoutParams dividerParams = (LinearLayout.LayoutParams) divider.getLayoutParams();&#10;        dividerParams.setMargins(0, (int) (16 * getResources().getDisplayMetrics().density),&#10;                                  0, (int) (16 * getResources().getDisplayMetrics().density));&#10;        divider.setLayoutParams(dividerParams);&#10;        container.addView(divider);&#10;&#10;        // Add &quot;Other&quot; label&#10;        TextView otherLabel = new TextView(this);&#10;        otherLabel.setText(&quot;Other (Custom):&quot;);&#10;        otherLabel.setTextSize(14);&#10;        otherLabel.setTypeface(null, android.graphics.Typeface.BOLD);&#10;        otherLabel.setPadding(0, 0, 0, (int) (8 * getResources().getDisplayMetrics().density));&#10;        container.addView(otherLabel);&#10;&#10;        // Custom input field&#10;        final EditText customInput = new EditText(this);&#10;        customInput.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_FLAG_MULTI_LINE | InputType.TYPE_TEXT_FLAG_CAP_SENTENCES);&#10;        customInput.setHint(&quot;Add any other conditions not listed above&quot;);&#10;        customInput.setMinLines(2);&#10;        customInput.setMaxLines(3);&#10;        customInput.setGravity(android.view.Gravity.TOP | android.view.Gravity.START);&#10;        customInput.setBackground(getResources().getDrawable(R.drawable.spinner_background));&#10;        customInput.setPadding((int) (12 * getResources().getDisplayMetrics().density),&#10;                              (int) (12 * getResources().getDisplayMetrics().density),&#10;                              (int) (12 * getResources().getDisplayMetrics().density),&#10;                              (int) (12 * getResources().getDisplayMetrics().density));&#10;&#10;        // Check if there are custom issues (not in common list)&#10;        List&lt;String&gt; customIssues = new ArrayList&lt;&gt;();&#10;        for (String issue : selectedIssues) {&#10;            boolean isCommon = false;&#10;            for (String common : commonIssues) {&#10;                if (common.equalsIgnoreCase(issue)) {&#10;                    isCommon = true;&#10;                    break;&#10;                }&#10;            }&#10;            if (!isCommon) {&#10;                customIssues.add(issue);&#10;            }&#10;        }&#10;        if (!customIssues.isEmpty()) {&#10;            customInput.setText(String.join(&quot;, &quot;, customIssues));&#10;        }&#10;&#10;        container.addView(customInput);&#10;&#10;        scrollView.addView(container);&#10;        builder.setView(scrollView);&#10;&#10;        builder.setPositiveButton(&quot;Save&quot;, (dialog, which) -&gt; {&#10;            List&lt;String&gt; finalIssues = new ArrayList&lt;&gt;();&#10;&#10;            // Add selected checkboxes&#10;            for (CheckBox checkBox : checkBoxes) {&#10;                if (checkBox.isChecked()) {&#10;                    finalIssues.add(checkBox.getText().toString());&#10;                }&#10;            }&#10;&#10;            // Add custom issues&#10;            String customText = customInput.getText().toString().trim();&#10;            if (!customText.isEmpty()) {&#10;                String[] customs = customText.split(&quot;,&quot;);&#10;                for (String custom : customs) {&#10;                    String trimmed = custom.trim();&#10;                    if (!trimmed.isEmpty()) {&#10;                        finalIssues.add(trimmed);&#10;                    }&#10;                }&#10;            }&#10;&#10;            // Combine all issues&#10;            String healthIssues = finalIssues.isEmpty() ? &quot;&quot; : String.join(&quot;, &quot;, finalIssues);&#10;            updateHealthIssues(healthIssues);&#10;        });&#10;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.cancel());&#10;&#10;        AlertDialog dialog = builder.create();&#10;        if (dialog.getWindow() != null) {&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#10;        }&#10;        dialog.show();&#10;&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#10;        }&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#10;        }&#10;    }&#10;&#10;    private void showBodyFocusDialog() {&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#10;        builder.setTitle(&quot;Body Focus&quot;);&#10;&#10;        // Create scrollable container&#10;        ScrollView scrollView = new ScrollView(this);&#10;        LinearLayout container = new LinearLayout(this);&#10;        container.setOrientation(LinearLayout.VERTICAL);&#10;        int padding = (int) (20 * getResources().getDisplayMetrics().density);&#10;        container.setPadding(padding, padding / 2, padding, padding);&#10;&#10;        // Add instruction text&#10;        TextView instructions = new TextView(this);&#10;        instructions.setText(&quot;Select the body parts you want to focus on:&quot;);&#10;        instructions.setTextSize(14);&#10;        instructions.setTextColor(getResources().getColor(android.R.color.darker_gray));&#10;        instructions.setPadding(0, 0, 0, (int) (12 * getResources().getDisplayMetrics().density));&#10;        container.addView(instructions);&#10;&#10;        // Body focus options&#10;        String[] bodyParts = {&quot;Chest&quot;, &quot;Back&quot;, &quot;Shoulders&quot;, &quot;Arms&quot;, &quot;Legs&quot;, &quot;Abs&quot;};&#10;&#10;        // Parse current body focus&#10;        String currentBodyFocus = tvBodyFocus.getText().toString();&#10;        List&lt;String&gt; selectedFocus = new ArrayList&lt;&gt;();&#10;        if (!currentBodyFocus.equals(&quot;Not set&quot;)) {&#10;            String[] current = currentBodyFocus.split(&quot;,&quot;);&#10;            for (String focus : current) {&#10;                selectedFocus.add(focus.trim());&#10;            }&#10;        }&#10;&#10;        // Create checkboxes&#10;        List&lt;CheckBox&gt; checkBoxes = new ArrayList&lt;&gt;();&#10;        for (String part : bodyParts) {&#10;            CheckBox checkBox = new CheckBox(this);&#10;            checkBox.setText(part);&#10;            checkBox.setTextSize(16);&#10;            checkBox.setPadding(0, (int) (8 * getResources().getDisplayMetrics().density),&#10;                               0, (int) (8 * getResources().getDisplayMetrics().density));&#10;            checkBox.setChecked(selectedFocus.contains(part));&#10;            checkBoxes.add(checkBox);&#10;            container.addView(checkBox);&#10;        }&#10;&#10;        scrollView.addView(container);&#10;        builder.setView(scrollView);&#10;&#10;        builder.setPositiveButton(&quot;Save&quot;, (dialog, which) -&gt; {&#10;            List&lt;String&gt; finalFocus = new ArrayList&lt;&gt;();&#10;&#10;            // Add selected checkboxes&#10;            for (CheckBox checkBox : checkBoxes) {&#10;                if (checkBox.isChecked()) {&#10;                    finalFocus.add(checkBox.getText().toString());&#10;                }&#10;            }&#10;&#10;            // Update body focus&#10;            updateBodyFocus(finalFocus);&#10;        });&#10;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.cancel());&#10;&#10;        AlertDialog dialog = builder.create();&#10;        if (dialog.getWindow() != null) {&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#10;        }&#10;        dialog.show();&#10;&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#10;        }&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#10;        }&#10;    }&#10;&#10;    private void updateBodyFocus(List&lt;String&gt; bodyFocus) {&#10;        if (userDocRef != null) {&#10;            userDocRef.update(&quot;bodyFocus&quot;, bodyFocus)&#10;                    .addOnSuccessListener(aVoid -&gt; {&#10;                        String displayText = bodyFocus.isEmpty() ? &quot;Not set&quot; : String.join(&quot;, &quot;, bodyFocus);&#10;                        tvBodyFocus.setText(displayText);&#10;                        markProfileAsChanged();&#10;&#10;                        //  DELETE CACHED WORKOUT TO FORCE REGENERATION&#10;                        deleteCachedWorkout();&#10;&#10;                        Toast.makeText(this, &quot;Body focus updated. Your next workout will reflect these changes!&quot;, Toast.LENGTH_LONG).show();&#10;                    })&#10;                    .addOnFailureListener(e -&gt; {&#10;                        Toast.makeText(this, &quot;Failed to update: &quot; + e.getMessage(),&#10;                                Toast.LENGTH_SHORT).show();&#10;                    });&#10;        }&#10;    }&#10;&#10;    //  NEW METHOD: Delete cached workout to force regeneration&#10;    private void deleteCachedWorkout() {&#10;        FirebaseUser currentUser = mAuth.getCurrentUser();&#10;        if (currentUser == null) return;&#10;&#10;        String userId = currentUser.getUid();&#10;&#10;        // Get user's current week from preferences or default to 1&#10;        SharedPreferences prefs = getSharedPreferences(&quot;workout_prefs_&quot; + userId, MODE_PRIVATE);&#10;        int currentWeek = prefs.getInt(&quot;current_week&quot;, 1);&#10;&#10;        // Delete the cached workout document&#10;        firestore.collection(&quot;users&quot;)&#10;                .document(userId)&#10;                .collection(&quot;currentWorkout&quot;)&#10;                .document(&quot;week_&quot; + currentWeek)&#10;                .delete()&#10;                .addOnSuccessListener(aVoid -&gt;&#10;                    Log.d(&quot;Profile&quot;, &quot; Cached workout deleted. Will regenerate on next visit.&quot;))&#10;                .addOnFailureListener(e -&gt;&#10;                    Log.e(&quot;Profile&quot;, &quot;Failed to delete cached workout&quot;, e));&#10;    }&#10;&#10;    // Show preferred workout days selection dialog&#10;    private void showPreferredDaysDialog() {&#10;        // Launch the dedicated activity instead of showing a dialog&#10;        Intent intent = new Intent(this, PreferredWorkoutDaysActivity.class);&#10;        startActivity(intent);&#10;    }&#10;&#10;&#10;    private void updateAge(int age) {&#10;        if (userDocRef != null) {&#10;            userDocRef.update(&quot;age&quot;, age)&#10;                    .addOnSuccessListener(aVoid -&gt; {&#10;                        tvAge.setText(age + &quot; years old&quot;);&#10;                        markProfileAsChanged();&#10;                        Toast.makeText(this, &quot;Age updated&quot;, Toast.LENGTH_SHORT).show();&#10;                    })&#10;                    .addOnFailureListener(e -&gt; {&#10;                        Toast.makeText(this, &quot;Failed to update: &quot; + e.getMessage(),&#10;                                Toast.LENGTH_SHORT).show();&#10;                    });&#10;        }&#10;    }&#10;&#10;    private void updateWeight(double weight) {&#10;        if (userDocRef != null) {&#10;            userDocRef.update(&quot;weight&quot;, weight)&#10;                    .addOnSuccessListener(aVoid -&gt; {&#10;                        tvWeight.setText(weight + &quot; kg&quot;);&#10;                        markProfileAsChanged();&#10;                        Toast.makeText(this, &quot;Weight updated&quot;, Toast.LENGTH_SHORT).show();&#10;                    })&#10;                    .addOnFailureListener(e -&gt; {&#10;                        Toast.makeText(this, &quot;Failed to update: &quot; + e.getMessage(),&#10;                                Toast.LENGTH_SHORT).show();&#10;                    });&#10;        }&#10;    }&#10;&#10;    private void updateHeight(double height) {&#10;        if (userDocRef != null) {&#10;            userDocRef.update(&quot;height&quot;, height)&#10;                    .addOnSuccessListener(aVoid -&gt; {&#10;                        tvHeight.setText(height + &quot; cm&quot;);&#10;                        markProfileAsChanged();&#10;                        Toast.makeText(this, &quot;Height updated&quot;, Toast.LENGTH_SHORT).show();&#10;                    })&#10;                    .addOnFailureListener(e -&gt; {&#10;                        Toast.makeText(this, &quot;Failed to update: &quot; + e.getMessage(),&#10;                                Toast.LENGTH_SHORT).show();&#10;                    });&#10;        }&#10;    }&#10;&#10;    private void updateHealthIssues(String healthIssues) {&#10;        if (userDocRef != null) {&#10;            // Ensure we're always saving as a String, even if empty&#10;            String valueToSave = (healthIssues != null &amp;&amp; !healthIssues.trim().isEmpty())&#10;                ? healthIssues.trim()&#10;                : &quot;&quot;;&#10;&#10;            userDocRef.update(&quot;healthIssues&quot;, valueToSave)&#10;                    .addOnSuccessListener(aVoid -&gt; {&#10;                        if (tvHealthIssues != null) {&#10;                            String displayText = valueToSave.isEmpty() ? &quot;None&quot; : valueToSave;&#10;                            tvHealthIssues.setText(displayText);&#10;                        }&#10;                        markProfileAsChanged();&#10;                        Toast.makeText(this, &quot;Health issues updated&quot;, Toast.LENGTH_SHORT).show();&#10;                    })&#10;                    .addOnFailureListener(e -&gt; {&#10;                        Toast.makeText(this, &quot;Failed to update: &quot; + e.getMessage(),&#10;                                Toast.LENGTH_SHORT).show();&#10;                    });&#10;        }&#10;    }&#10;&#10;    private void updateMembershipStatusColor(String status) {&#10;        if (status != null) {&#10;            if (status.equalsIgnoreCase(&quot;Active Member&quot;) || status.equalsIgnoreCase(&quot;Active&quot;)) {&#10;                tvStatus.setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#10;            } else if (status.equalsIgnoreCase(&quot;Inactive&quot;) || status.equalsIgnoreCase(&quot;Inactive Member&quot;)) {&#10;                tvStatus.setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#10;            } else {&#10;                // Default color for other statuses&#10;                tvStatus.setTextColor(getResources().getColor(android.R.color.white));&#10;            }&#10;        }&#10;    }&#10;&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.signuploginrealtime;&#13;&#10;&#13;&#10;import android.app.DatePickerDialog;&#13;&#10;import android.content.Intent;&#13;&#10;import android.content.SharedPreferences;&#13;&#10;import android.os.Bundle;&#13;&#10;import android.text.InputType;&#13;&#10;import android.util.Log;&#13;&#10;import android.view.View;&#13;&#10;import android.widget.DatePicker;&#13;&#10;import android.widget.EditText;&#13;&#10;import android.widget.ImageView;&#13;&#10;import android.widget.LinearLayout;&#13;&#10;import android.widget.TextView;&#13;&#10;import android.widget.Toast;&#13;&#10;import android.widget.CheckBox;&#13;&#10;import android.widget.ScrollView;&#13;&#10;import androidx.activity.OnBackPressedCallback;&#13;&#10;import androidx.appcompat.app.AlertDialog;&#13;&#10;import androidx.appcompat.app.AppCompatActivity;&#13;&#10;import androidx.annotation.NonNull;&#13;&#10;&#13;&#10;import com.google.android.gms.tasks.OnCompleteListener;&#13;&#10;import com.google.android.gms.tasks.Task;&#13;&#10;import com.google.android.material.bottomnavigation.BottomNavigationView;&#13;&#10;import com.google.firebase.Timestamp;&#13;&#10;import com.google.firebase.auth.FirebaseAuth;&#13;&#10;import com.google.firebase.auth.FirebaseUser;&#13;&#10;import com.google.firebase.auth.AuthCredential;&#13;&#10;import com.google.firebase.auth.EmailAuthProvider;&#13;&#10;import com.google.firebase.firestore.DocumentReference;&#13;&#10;import com.google.firebase.firestore.DocumentSnapshot;&#13;&#10;import com.google.firebase.firestore.FirebaseFirestore;&#13;&#10;import com.google.firebase.firestore.ListenerRegistration;&#13;&#10;&#13;&#10;import java.text.SimpleDateFormat;&#13;&#10;import java.util.Calendar;&#13;&#10;import java.util.Date;&#13;&#10;import java.util.Locale;&#13;&#10;import java.util.regex.Pattern;&#13;&#10;&#13;&#10;import android.app.ProgressDialog;&#13;&#10;import android.net.Uri;&#13;&#10;import android.graphics.Bitmap;&#13;&#10;import android.graphics.BitmapFactory;&#13;&#10;import androidx.activity.result.ActivityResultLauncher;&#13;&#10;import androidx.activity.result.contract.ActivityResultContracts;&#13;&#10;import com.bumptech.glide.Glide;&#13;&#10;import com.google.firebase.firestore.QuerySnapshot;&#13;&#10;import com.google.firebase.storage.FirebaseStorage;&#13;&#10;import com.google.firebase.storage.StorageReference;&#13;&#10;import java.io.ByteArrayOutputStream;&#13;&#10;import java.io.IOException;&#13;&#10;import java.io.InputStream;&#13;&#10;&#13;&#10;import androidx.recyclerview.widget.LinearLayoutManager;&#13;&#10;import androidx.recyclerview.widget.RecyclerView;&#13;&#10;import android.view.LayoutInflater;&#13;&#10;import android.view.ViewGroup;&#13;&#10;import androidx.cardview.widget.CardView;&#13;&#10;import java.text.NumberFormat;&#13;&#10;import java.util.ArrayList;&#13;&#10;import java.util.Collections;&#13;&#10;import java.util.List;&#13;&#10;import java.util.Comparator;&#13;&#10;import androidx.recyclerview.widget.RecyclerView;&#13;&#10;import androidx.recyclerview.widget.LinearLayoutManager;&#13;&#10;&#13;&#10;import com.cloudinary.android.MediaManager;&#13;&#10;import com.cloudinary.android.callback.ErrorInfo;&#13;&#10;import com.cloudinary.android.callback.UploadCallback;&#13;&#10;import java.util.HashMap;&#13;&#10;import java.util.Map;&#13;&#10;&#13;&#10;&#13;&#10;public class Profile extends AppCompatActivity {&#13;&#10;&#13;&#10;    private BottomNavigationView bottomNavigationView;&#13;&#10;    private FirebaseAuth mAuth;&#13;&#10;    private TextView profileName, profileEmail, tvPhone, tvDob, tvStatus;&#13;&#10;    private LinearLayout layoutDob, layoutEmail, layoutPhone;&#13;&#10;&#13;&#10;    // Fitness profile fields&#13;&#10;    private TextView tvFitnessLevel, tvFitnessGoal, tvWorkoutFrequency, tvAge, tvWeight, tvHeight, tvHealthIssues, tvBodyFocus;&#13;&#10;    private TextView tvPreferredDays; // NEW&#13;&#10;    private LinearLayout layoutFitnessLevel, layoutFitnessGoal, layoutWorkoutFrequency, layoutAge, layoutWeight, layoutHeight, layoutHealthIssues, layoutBodyFocus;&#13;&#10;    private LinearLayout layoutPreferredDays; // NEW&#13;&#10;&#13;&#10;    // Firestore references&#13;&#10;    private FirebaseFirestore firestore;&#13;&#10;    private DocumentReference userDocRef;&#13;&#10;    private ListenerRegistration userDataListener;&#13;&#10;&#13;&#10;    // Date picker components&#13;&#10;    private Calendar selectedDate;&#13;&#10;    private SimpleDateFormat dateFormat;&#13;&#10;    private ImageView profilePicture;&#13;&#10;    private ActivityResultLauncher&lt;String&gt; imagePickerLauncher;&#13;&#10;    private ProgressDialog uploadProgressDialog;&#13;&#10;&#13;&#10;    private ActivityResultLauncher&lt;Intent&gt; cropImageLauncher;&#13;&#10;    private static final int REQUEST_CROP_IMAGE = 200;&#13;&#10;&#13;&#10;    private static final int MIN_PASSWORD_LENGTH = 8;&#13;&#10;    // Email and phone validation patterns&#13;&#10;    private static final Pattern EMAIL_PATTERN = Pattern.compile(&#13;&#10;            &quot;^[A-Za-z0-9+_.-]+@([A-Za-z0-9.-]+\\.[A-ZaZ]{2,})$&quot;&#13;&#10;    );&#13;&#10;    private static final Pattern PHONE_PATTERN = Pattern.compile(&#13;&#10;            &quot;^0\\d{10}$&quot; // Philippine format: 0 followed by 10 digits (e.g., 09123456789)&#13;&#10;    );&#13;&#10;    private LinearLayout layoutPaymentHistory;&#13;&#10;    private static String cachedMembershipStatus = null;&#13;&#10;    private static Integer cachedStatusColor = null;&#13;&#10;    private static String cachedUserName = null; //  ADD THIS&#13;&#10;&#13;&#10;&#13;&#10;    // Callback interface for phone check&#13;&#10;    interface PhoneCheckCallback {&#13;&#10;        void onResult(boolean exists);&#13;&#10;    }&#13;&#10;&#13;&#10;    @Override&#13;&#10;    protected void onCreate(Bundle savedInstanceState) {&#13;&#10;        super.onCreate(savedInstanceState);&#13;&#10;        setContentView(R.layout.activity_profile);&#13;&#10;&#13;&#10;        // ===== Firebase Setup =====&#13;&#10;        mAuth = FirebaseAuth.getInstance();&#13;&#10;        FirebaseUser currentUser = mAuth.getCurrentUser();&#13;&#10;        firestore = FirebaseFirestore.getInstance();&#13;&#10;&#13;&#10;        // Initialize Firestore reference (but don't setup listener yet)&#13;&#10;        if (currentUser != null) {&#13;&#10;            userDocRef = firestore.collection(&quot;users&quot;).document(currentUser.getUid());&#13;&#10;        }&#13;&#10;&#13;&#10;        // ===== Initialize UI Components =====&#13;&#10;        profileName = findViewById(R.id.profileName);&#13;&#10;        profileEmail = findViewById(R.id.profileEmail);&#13;&#10;        tvPhone = findViewById(R.id.tv_phone);&#13;&#10;        tvDob = findViewById(R.id.tv_dob);&#13;&#10;        tvStatus = findViewById(R.id.tv_status);&#13;&#10;        layoutDob = findViewById(R.id.layout_dob);&#13;&#10;        layoutEmail = findViewById(R.id.layout_email);&#13;&#10;        layoutPhone = findViewById(R.id.layout_phone);&#13;&#10;&#13;&#10;        //  Display cached membership status and name immediately (NO FLICKER)&#13;&#10;        SharedPreferences cache = getSharedPreferences(&quot;Profile_cache&quot;, MODE_PRIVATE);&#13;&#10;        String savedStatus = cache.getString(&quot;cached_status&quot;, null);&#13;&#10;        int savedColor = cache.getInt(&quot;cached_color&quot;, -1);&#13;&#10;        String savedName = cache.getString(&quot;cached_name&quot;, null);&#13;&#10;&#13;&#10;        if (savedStatus != null &amp;&amp; tvStatus != null) {&#13;&#10;            cachedMembershipStatus = savedStatus;&#13;&#10;            tvStatus.setText(savedStatus);&#13;&#10;&#13;&#10;            if (savedColor != -1) {&#13;&#10;                cachedStatusColor = savedColor;&#13;&#10;                tvStatus.setTextColor(savedColor);&#13;&#10;            }&#13;&#10;        }&#13;&#10;&#13;&#10;        //  Display cached name&#13;&#10;        if (savedName != null &amp;&amp; profileName != null) {&#13;&#10;            cachedUserName = savedName;&#13;&#10;            profileName.setText(savedName);&#13;&#10;        }&#13;&#10;&#13;&#10;        // Fitness profile views&#13;&#10;        tvFitnessLevel = findViewById(R.id.tv_fitness_level);&#13;&#10;        tvFitnessGoal = findViewById(R.id.tv_fitness_goal);&#13;&#10;        tvWorkoutFrequency = findViewById(R.id.tv_workout_frequency);&#13;&#10;        layoutFitnessLevel = findViewById(R.id.layout_fitness_level);&#13;&#10;        layoutFitnessGoal = findViewById(R.id.layout_fitness_goal);&#13;&#10;        layoutWorkoutFrequency = findViewById(R.id.layout_workout_frequency);&#13;&#10;        profilePicture = findViewById(R.id.iv_profile_picture);&#13;&#10;        tvAge = findViewById(R.id.tv_age);&#13;&#10;        tvWeight = findViewById(R.id.tv_weight);&#13;&#10;        tvHeight = findViewById(R.id.tv_height);&#13;&#10;        tvHealthIssues = findViewById(R.id.tv_health_issues);&#13;&#10;        tvBodyFocus = findViewById(R.id.tv_body_focus);&#13;&#10;        layoutAge = findViewById(R.id.layout_age);&#13;&#10;        layoutWeight = findViewById(R.id.layout_weight);&#13;&#10;        layoutHeight = findViewById(R.id.layout_height);&#13;&#10;        layoutHealthIssues = findViewById(R.id.layout_health_issues);&#13;&#10;        layoutBodyFocus = findViewById(R.id.layout_body_focus);&#13;&#10;        tvPreferredDays = findViewById(R.id.tv_preferred_days);           // NEW&#13;&#10;        layoutPreferredDays = findViewById(R.id.layout_preferred_days);   // NEW&#13;&#10;&#13;&#10;        // ===== Progress Dialog =====&#13;&#10;        uploadProgressDialog = new ProgressDialog(this);&#13;&#10;        uploadProgressDialog.setTitle(&quot;Uploading Image&quot;);&#13;&#10;        uploadProgressDialog.setMessage(&quot;Please wait...&quot;);&#13;&#10;        uploadProgressDialog.setCancelable(false);&#13;&#10;&#13;&#10;        // ===== Payment History  =====&#13;&#10;        layoutPaymentHistory = findViewById(R.id.layout_payment_history);&#13;&#10;&#13;&#10;        // ===== Image Picker =====&#13;&#10;        imagePickerLauncher = registerForActivityResult(&#13;&#10;                new ActivityResultContracts.GetContent(),&#13;&#10;                uri -&gt; {&#13;&#10;                    if (uri != null) {&#13;&#10;                        Intent cropIntent = new Intent(Profile.this, ImageCropActivity.class);&#13;&#10;                        cropIntent.putExtra(&quot;imageUri&quot;, uri.toString());&#13;&#10;                        startActivityForResult(cropIntent, REQUEST_CROP_IMAGE);&#13;&#10;                    }&#13;&#10;                }&#13;&#10;        );&#13;&#10;&#13;&#10;        profilePicture.setOnClickListener(v -&gt; imagePickerLauncher.launch(&quot;image/*&quot;));&#13;&#10;        findViewById(R.id.cv_edit_button).setOnClickListener(v -&gt; imagePickerLauncher.launch(&quot;image/*&quot;));&#13;&#10;&#13;&#10;        // Payment History&#13;&#10;        findViewById(R.id.layout_payment_history).setOnClickListener(v -&gt; {&#13;&#10;            Intent intent = new Intent(Profile.this, PaymentHistoryActivity.class);&#13;&#10;            startActivity(intent);&#13;&#10;        });&#13;&#10;&#13;&#10;&#13;&#10;        // ===== Navigation: Feedback &amp; Contact =====&#13;&#10;        LinearLayout layoutFeedback = findViewById(R.id.layout_feedback);&#13;&#10;        layoutFeedback.setOnClickListener(v -&gt; {&#13;&#10;            startActivity(new Intent(Profile.this, FeedbackActivity.class));&#13;&#10;            overridePendingTransition(0, 0);&#13;&#10;        });&#13;&#10;&#13;&#10;&#13;&#10;        LinearLayout layoutAboutUs = findViewById(R.id.layout_contact);&#13;&#10;        layoutAboutUs.setOnClickListener(v -&gt; {&#13;&#10;            startActivity(new Intent(Profile.this, AboutusActivity.class));&#13;&#10;            overridePendingTransition(0, 0);&#13;&#10;        });&#13;&#10;&#13;&#10;        // ===== Date Setup =====&#13;&#10;        selectedDate = Calendar.getInstance();&#13;&#10;        dateFormat = new SimpleDateFormat(&quot;MMMM dd, yyyy&quot;, Locale.getDefault());&#13;&#10;&#13;&#10;        // ===== Setup Functionality =====&#13;&#10;        setupDatePicker();&#13;&#10;        setupEditableFields();&#13;&#10;        setupFitnessProfileEditing();&#13;&#10;        setupSecurityClickListeners();&#13;&#10;        initCloudinary();&#13;&#10;&#13;&#10;        // ===== Back Press Handler =====&#13;&#10;        getOnBackPressedDispatcher().addCallback(this, new OnBackPressedCallback(true) {&#13;&#10;            @Override&#13;&#10;            public void handleOnBackPressed() {&#13;&#10;                //  Check if MainActivity is in the back stack&#13;&#10;                if (isTaskRoot()) {&#13;&#10;                    // No MainActivity in back stack, create new one&#13;&#10;                    Intent intent = new Intent(Profile.this, MainActivity.class);&#13;&#10;                    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);&#13;&#10;                    startActivity(intent);&#13;&#10;                }&#13;&#10;                finish();  // Finish Profile activity&#13;&#10;                overridePendingTransition(0, 0);&#13;&#10;            }&#13;&#10;        });&#13;&#10;&#13;&#10;        bottomNavigationView = findViewById(R.id.bottomNavigation);&#13;&#10;        bottomNavigationView.setSelectedItemId(R.id.item_2);&#13;&#10;        bottomNavigationView.setOnItemSelectedListener(item -&gt; {&#13;&#10;            int itemId = item.getItemId();&#13;&#10;            if (itemId == R.id.item_1) {&#13;&#10;                // Going back to MainActivity&#13;&#10;                if (isTaskRoot()) {&#13;&#10;                    // No MainActivity in back stack, create new one&#13;&#10;                    Intent intent = new Intent(getApplicationContext(), MainActivity.class);&#13;&#10;                    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);&#13;&#10;                    startActivity(intent);&#13;&#10;                }&#13;&#10;                finish();&#13;&#10;                overridePendingTransition(0, 0);&#13;&#10;                return true;&#13;&#10;            } else if (itemId == R.id.item_2) {&#13;&#10;                // Already on Profile&#13;&#10;                return true;&#13;&#10;            } else if (itemId == R.id.item_3) {&#13;&#10;                // Going to WorkoutList - finish Profile first&#13;&#10;                startActivity(new Intent(getApplicationContext(), WorkoutList.class));&#13;&#10;                overridePendingTransition(0, 0);&#13;&#10;                finish();&#13;&#10;                return true;&#13;&#10;            } else if (itemId == R.id.item_4) {&#13;&#10;                // Going to Achievement - finish Profile first&#13;&#10;                startActivity(new Intent(getApplicationContext(), Achievement.class));&#13;&#10;                overridePendingTransition(0, 0);&#13;&#10;                finish();&#13;&#10;                return true;&#13;&#10;            }&#13;&#10;            return false;&#13;&#10;        });&#13;&#10;&#13;&#10;        // ===== Logout Button =====&#10;        findViewById(R.id.btn_logout).setOnClickListener(v -&gt; showLogoutDialog());&#10;&#10;        // ===== Setup Firestore Listener (AFTER all views are initialized) =====&#13;&#10;        if (currentUser != null &amp;&amp; userDocRef != null) {&#13;&#10;            setupUserDataListener();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    private void setupFitnessProfileEditing() {&#13;&#10;        // Fitness Level click listener&#13;&#10;        if (layoutFitnessLevel != null) {&#13;&#10;            layoutFitnessLevel.setOnClickListener(v -&gt; showFitnessLevelDialog());&#13;&#10;        }&#13;&#10;&#13;&#10;        // Fitness Goal click listener&#13;&#10;        if (layoutFitnessGoal != null) {&#13;&#10;            layoutFitnessGoal.setOnClickListener(v -&gt; showFitnessGoalDialog());&#13;&#10;        }&#13;&#10;&#13;&#10;        // Workout Frequency click listener&#13;&#10;        if (layoutWorkoutFrequency != null) {&#13;&#10;            layoutWorkoutFrequency.setOnClickListener(v -&gt; showWorkoutFrequencyDialog());&#13;&#10;        }&#13;&#10;&#13;&#10;        if (layoutAge != null) {&#13;&#10;            layoutAge.setOnClickListener(v -&gt; showAgeDialog());&#13;&#10;        }&#13;&#10;        if (layoutWeight != null) {&#13;&#10;            layoutWeight.setOnClickListener(v -&gt; showWeightDialog());&#13;&#10;        }&#13;&#10;        if (layoutHeight != null) {&#13;&#10;            layoutHeight.setOnClickListener(v -&gt; showHeightDialog());&#13;&#10;        }&#13;&#10;        if (layoutHealthIssues != null) {&#13;&#10;            layoutHealthIssues.setOnClickListener(v -&gt; showHealthIssuesDialog());&#13;&#10;        }&#13;&#10;        if (layoutBodyFocus != null) {&#13;&#10;            layoutBodyFocus.setOnClickListener(v -&gt; showBodyFocusDialog());&#13;&#10;        }&#13;&#10;        if (layoutPreferredDays != null) {&#13;&#10;            layoutPreferredDays.setOnClickListener(v -&gt; showPreferredDaysDialog()); // NEW&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showFitnessLevelDialog() {&#13;&#10;        String[] levels = {&quot;Sedentary&quot;, &quot;Lightly Active&quot;, &quot;Moderately Active&quot;, &quot;Very Active&quot;};&#13;&#10;        String[] levelValues = {&quot;sedentary&quot;, &quot;lightly active&quot;, &quot;moderately active&quot;, &quot;very active&quot;};&#13;&#10;&#13;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#13;&#10;        builder.setTitle(&quot;Select Fitness Level&quot;);&#13;&#10;&#13;&#10;        builder.setItems(levels, (dialog, which) -&gt; {&#13;&#10;            String selectedLevel = levels[which];&#13;&#10;            String selectedValue = levelValues[which];&#13;&#10;&#13;&#10;            // Show confirmation before updating&#13;&#10;            showConfirmationDialog(&#13;&#10;                    &quot;Confirm Fitness Level&quot;,&#13;&#10;                    &quot;Set fitness level to:\n&quot; + selectedLevel + &quot;?&quot;,&#13;&#10;                    () -&gt; updateFitnessLevel(selectedValue, selectedLevel)&#13;&#10;            );&#13;&#10;        });&#13;&#10;&#13;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.dismiss());&#13;&#10;&#13;&#10;        AlertDialog dialog = builder.create();&#13;&#10;&#13;&#10;        if (dialog.getWindow() != null) {&#13;&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#13;&#10;        }&#13;&#10;&#13;&#10;        dialog.show();&#13;&#10;&#13;&#10;        // Style buttons AFTER showing dialog&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    private void showFitnessGoalDialog() {&#13;&#10;        String[] goals = {&quot;Lose Weight&quot;, &quot;Gain Muscle&quot;, &quot;Increase Endurance&quot;, &quot;General Fitness&quot;};&#13;&#10;        String[] goalValues = {&quot;lose weight&quot;, &quot;gain muscle&quot;, &quot;increase endurance&quot;, &quot;general fitness&quot;};&#13;&#10;&#13;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#13;&#10;        builder.setTitle(&quot;Select Fitness Goal&quot;);&#13;&#10;&#13;&#10;        builder.setItems(goals, (dialog, which) -&gt; {&#13;&#10;            String selectedGoal = goals[which];&#13;&#10;            String selectedValue = goalValues[which];&#13;&#10;&#13;&#10;            // Show confirmation before updating&#13;&#10;            showConfirmationDialog(&#13;&#10;                    &quot;Confirm Fitness Goal&quot;,&#13;&#10;                    &quot;Set fitness goal to:\n&quot; + selectedGoal + &quot;?&quot;,&#13;&#10;                    () -&gt; updateFitnessGoal(selectedValue, selectedGoal)&#13;&#10;            );&#13;&#10;        });&#13;&#10;&#13;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.dismiss());&#13;&#10;&#13;&#10;        AlertDialog dialog = builder.create();&#13;&#10;&#13;&#10;        if (dialog.getWindow() != null) {&#13;&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#13;&#10;        }&#13;&#10;&#13;&#10;        dialog.show();&#13;&#10;&#13;&#10;        // Style buttons AFTER showing dialog&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    private void showWorkoutFrequencyDialog() {&#13;&#10;        String[] frequencies = {&quot;1 day per week&quot;, &quot;2 days per week&quot;, &quot;3 days per week&quot;,&#13;&#10;                &quot;4 days per week&quot;, &quot;5 days per week&quot;, &quot;6 days per week&quot;,&#13;&#10;                &quot;7 days per week&quot;};&#13;&#10;&#13;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#13;&#10;        builder.setTitle(&quot;Select Workout Frequency&quot;);&#13;&#10;&#13;&#10;        builder.setItems(frequencies, (dialog, which) -&gt; {&#13;&#10;            int daysPerWeek = which + 1;&#13;&#10;            String displayText = frequencies[which];&#13;&#10;&#13;&#10;            // Show confirmation before updating&#13;&#10;            showConfirmationDialog(&#13;&#10;                    &quot;Confirm Workout Frequency&quot;,&#13;&#10;                    &quot;Set workout frequency to:\n&quot; + displayText + &quot;?&quot;,&#13;&#10;                    () -&gt; updateWorkoutFrequency(daysPerWeek, displayText)&#13;&#10;            );&#13;&#10;        });&#13;&#10;&#13;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.dismiss());&#13;&#10;&#13;&#10;        AlertDialog dialog = builder.create();&#13;&#10;&#13;&#10;        if (dialog.getWindow() != null) {&#13;&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#13;&#10;        }&#13;&#10;&#13;&#10;        dialog.show();&#13;&#10;&#13;&#10;        // Style buttons AFTER showing dialog&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void updateFitnessLevel(String value, String displayText) {&#13;&#10;        if (userDocRef != null) {&#13;&#10;            userDocRef.update(&quot;fitnessLevel&quot;, value)&#13;&#10;                    .addOnSuccessListener(aVoid -&gt; {&#13;&#10;                        tvFitnessLevel.setText(displayText);&#13;&#10;                        markProfileAsChanged();&#13;&#10;                        Toast.makeText(this, &quot;Fitness level updated&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;                    })&#13;&#10;                    .addOnFailureListener(e -&gt; {&#13;&#10;                        Toast.makeText(this, &quot;Failed to update: &quot; + e.getMessage(),&#13;&#10;                                Toast.LENGTH_SHORT).show();&#13;&#10;                    });&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void updateFitnessGoal(String value, String displayText) {&#13;&#10;        if (userDocRef != null) {&#13;&#10;            userDocRef.update(&quot;fitnessGoal&quot;, value)&#13;&#10;                    .addOnSuccessListener(aVoid -&gt; {&#13;&#10;                        tvFitnessGoal.setText(displayText);&#13;&#10;                        markProfileAsChanged();&#13;&#10;                        Toast.makeText(this, &quot;Fitness goal updated&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;                    })&#13;&#10;                    .addOnFailureListener(e -&gt; {&#13;&#10;                        Toast.makeText(this, &quot;Failed to update: &quot; + e.getMessage(),&#13;&#10;                                Toast.LENGTH_SHORT).show();&#13;&#10;                    });&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void updateWorkoutFrequency(int days, String displayText) {&#13;&#10;        if (userDocRef != null) {&#13;&#10;            userDocRef.update(&quot;workoutDaysPerWeek&quot;, days)&#13;&#10;                    .addOnSuccessListener(aVoid -&gt; {&#13;&#10;                        tvWorkoutFrequency.setText(displayText);&#13;&#10;                        markProfileAsChanged();&#13;&#10;                        Toast.makeText(this, &quot;Workout frequency updated&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;                    })&#13;&#10;                    .addOnFailureListener(e -&gt; {&#13;&#10;                        Toast.makeText(this, &quot;Failed to update: &quot; + e.getMessage(),&#13;&#10;                                Toast.LENGTH_SHORT).show();&#13;&#10;                    });&#13;&#10;        }&#13;&#10;    }&#13;&#10;    private void loadFitnessProfileData() {&#13;&#10;        if (userDocRef != null) {&#13;&#10;            userDocRef.get().addOnSuccessListener(snapshot -&gt; {&#13;&#10;                if (snapshot != null &amp;&amp; snapshot.exists()) {&#13;&#10;                    // Load Fitness Level&#13;&#10;                    String fitnessLevel = snapshot.getString(&quot;fitnessLevel&quot;);&#13;&#10;                    if (fitnessLevel != null &amp;&amp; !fitnessLevel.isEmpty()) {&#13;&#10;                        tvFitnessLevel.setText(formatFitnessLevel(fitnessLevel));&#13;&#10;                    } else {&#13;&#10;                        tvFitnessLevel.setText(&quot;Not set&quot;);&#13;&#10;                    }&#13;&#10;&#13;&#10;                    // Load Fitness Goal&#13;&#10;                    String fitnessGoal = snapshot.getString(&quot;fitnessGoal&quot;);&#13;&#10;                    if (fitnessGoal != null &amp;&amp; !fitnessGoal.isEmpty()) {&#13;&#10;                        tvFitnessGoal.setText(formatFitnessGoal(fitnessGoal));&#13;&#10;                    } else {&#13;&#10;                        tvFitnessGoal.setText(&quot;Not set&quot;);&#13;&#10;                    }&#13;&#10;&#13;&#10;                    // Load Workout Frequency&#13;&#10;                    Long workoutDays = snapshot.getLong(&quot;workoutDaysPerWeek&quot;);&#13;&#10;                    if (workoutDays != null) {&#13;&#10;                        int days = workoutDays.intValue();&#13;&#10;                        String frequencyText = days + (days == 1 ? &quot; day per week&quot; : &quot; days per week&quot;);&#13;&#10;                        tvWorkoutFrequency.setText(frequencyText);&#13;&#10;                    } else {&#13;&#10;                        tvWorkoutFrequency.setText(&quot;Not set&quot;);&#13;&#10;                    }&#13;&#10;&#13;&#10;                    Long age = snapshot.getLong(&quot;age&quot;);&#13;&#10;                    if (age != null) {&#13;&#10;                        tvAge.setText(age + &quot; years old&quot;);&#13;&#10;                    } else {&#13;&#10;                        tvAge.setText(&quot;Not set&quot;);&#13;&#10;                    }&#13;&#10;&#13;&#10;                    Double weight = snapshot.getDouble(&quot;weight&quot;);&#13;&#10;                    if (weight != null) {&#13;&#10;                        tvWeight.setText(weight + &quot; kg&quot;);&#13;&#10;                    } else {&#13;&#10;                        tvWeight.setText(&quot;Not set&quot;);&#13;&#10;                    }&#13;&#10;&#13;&#10;                    Double height = snapshot.getDouble(&quot;height&quot;);&#13;&#10;                    if (height != null) {&#13;&#10;                        tvHeight.setText(height + &quot; cm&quot;);&#13;&#10;                    } else {&#13;&#10;                        tvHeight.setText(&quot;Not set&quot;);&#13;&#10;                    }&#13;&#10;&#13;&#10;                    // Load Health Issues - with safe type handling&#13;&#10;                    if (tvHealthIssues != null) {&#13;&#10;                        try {&#13;&#10;                            Object healthIssuesObj = snapshot.get(&quot;healthIssues&quot;);&#13;&#10;                            String healthIssues = null;&#13;&#10;&#13;&#10;                            if (healthIssuesObj instanceof String) {&#13;&#10;                                healthIssues = (String) healthIssuesObj;&#13;&#10;                            } else if (healthIssuesObj != null) {&#13;&#10;                                healthIssues = healthIssuesObj.toString();&#13;&#10;                            }&#13;&#10;&#13;&#10;                            if (healthIssues != null &amp;&amp; !healthIssues.trim().isEmpty()) {&#13;&#10;                                tvHealthIssues.setText(healthIssues);&#13;&#10;                            } else {&#13;&#10;                                tvHealthIssues.setText(&quot;None&quot;);&#13;&#10;                            }&#13;&#10;                        } catch (Exception e) {&#13;&#10;                            Log.e(&quot;Profile&quot;, &quot;Error loading health issues&quot;, e);&#13;&#10;                            tvHealthIssues.setText(&quot;None&quot;);&#13;&#10;                        }&#13;&#10;                    }&#13;&#10;&#13;&#10;                    // Load Body Focus&#13;&#10;                    if (tvBodyFocus != null) {&#13;&#10;                        try {&#13;&#10;                            Object bodyFocusObj = snapshot.get(&quot;bodyFocus&quot;);&#13;&#10;                            if (bodyFocusObj instanceof List) {&#13;&#10;                                List&lt;String&gt; bodyFocusList = (List&lt;String&gt;) bodyFocusObj;&#13;&#10;                                if (!bodyFocusList.isEmpty()) {&#13;&#10;                                    tvBodyFocus.setText(String.join(&quot;, &quot;, bodyFocusList));&#13;&#10;                                } else {&#13;&#10;                                    tvBodyFocus.setText(&quot;Not set&quot;);&#13;&#10;                                }&#13;&#10;                            } else {&#13;&#10;                                tvBodyFocus.setText(&quot;Not set&quot;);&#13;&#10;                            }&#13;&#10;                        } catch (Exception e) {&#13;&#10;                            Log.e(&quot;Profile&quot;, &quot;Error loading body focus&quot;, e);&#13;&#10;                            tvBodyFocus.setText(&quot;Not set&quot;);&#13;&#10;                        }&#13;&#10;                    }&#13;&#10;&#13;&#10;                    // NEW: Load preferred workout days&#13;&#10;                    if (tvPreferredDays != null) {&#13;&#10;                        try {&#13;&#10;                            Object field = snapshot.get(&quot;preferredWorkoutDays&quot;);&#13;&#10;                            List&lt;String&gt; codes = new ArrayList&lt;&gt;();&#13;&#10;                            if (field instanceof List) {&#13;&#10;                                for (Object o : (List&lt;?&gt;) field) {&#13;&#10;                                    if (o != null) codes.add(o.toString());&#13;&#10;                                }&#13;&#10;                            } else if (field instanceof String) {&#13;&#10;                                String[] parts = ((String) field).split(&quot;,&quot;);&#13;&#10;                                for (String p : parts) {&#13;&#10;                                    String s = p.trim();&#13;&#10;                                    if (!s.isEmpty()) codes.add(s);&#13;&#10;                                }&#13;&#10;                            }&#13;&#10;                            tvPreferredDays.setText(formatPreferredDaysForDisplay(codes));&#13;&#10;                        } catch (Exception e) {&#13;&#10;                            Log.e(&quot;Profile&quot;, &quot;Error loading preferredWorkoutDays&quot;, e);&#13;&#10;                            tvPreferredDays.setText(&quot;Not set&quot;);&#13;&#10;                        }&#13;&#10;                    }&#13;&#10;                }&#13;&#10;&#13;&#10;            });&#13;&#10;        }&#13;&#10;&#13;&#10;    }&#13;&#10;&#13;&#10;    private String formatFitnessLevel(String level) {&#13;&#10;        // Convert database format to display format&#13;&#10;        switch (level.toLowerCase()) {&#13;&#10;            case &quot;sedentary&quot;:&#13;&#10;                return &quot;Sedentary&quot;;&#13;&#10;            case &quot;lightly active&quot;:&#13;&#10;                return &quot;Lightly Active&quot;;&#13;&#10;            case &quot;moderately active&quot;:&#13;&#10;                return &quot;Moderately Active&quot;;&#13;&#10;            case &quot;very active&quot;:&#13;&#10;                return &quot;Very Active&quot;;&#13;&#10;            default:&#13;&#10;                return level;&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private String formatFitnessGoal(String goal) {&#13;&#10;        // Convert database format to display format&#13;&#10;        switch (goal.toLowerCase()) {&#13;&#10;            case &quot;lose weight&quot;:&#13;&#10;            case &quot;weight loss&quot;:&#13;&#10;                return &quot;Lose Weight&quot;;&#13;&#10;            case &quot;gain muscle&quot;:&#13;&#10;            case &quot;muscle gain&quot;:&#13;&#10;                return &quot;Gain Muscle&quot;;&#13;&#10;            case &quot;increase endurance&quot;:&#13;&#10;            case &quot;endurance&quot;:&#13;&#10;                return &quot;Increase Endurance&quot;;&#13;&#10;            case &quot;general fitness&quot;:&#13;&#10;                return &quot;General Fitness&quot;;&#13;&#10;            default:&#13;&#10;                return goal;&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    // NEW: helper to format preferred days list into a nice string&#13;&#10;    private String formatPreferredDaysForDisplay(List&lt;String&gt; codes) {&#13;&#10;        if (codes == null || codes.isEmpty()) return &quot;Not set&quot;;&#13;&#10;        // order: Mon..Sun&#13;&#10;        String[] order = {&quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;, &quot;Sun&quot;};&#13;&#10;        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();&#13;&#10;        map.put(&quot;Mon&quot;, &quot;Mon&quot;);&#13;&#10;        map.put(&quot;Tue&quot;, &quot;Tue&quot;);&#13;&#10;        map.put(&quot;Wed&quot;, &quot;Wed&quot;);&#13;&#10;        map.put(&quot;Thu&quot;, &quot;Thu&quot;);&#13;&#10;        map.put(&quot;Fri&quot;, &quot;Fri&quot;);&#13;&#10;        map.put(&quot;Sat&quot;, &quot;Sat&quot;);&#13;&#10;        map.put(&quot;Sun&quot;, &quot;Sun&quot;);&#13;&#10;        List&lt;String&gt; ordered = new ArrayList&lt;&gt;();&#13;&#10;        for (String o : order) {&#13;&#10;            if (codes.contains(o)) ordered.add(map.get(o));&#13;&#10;        }&#13;&#10;        if (ordered.isEmpty()) return &quot;Not set&quot;;&#13;&#10;        return android.text.TextUtils.join(&quot;, &quot;, ordered);&#13;&#10;    }&#13;&#10;&#13;&#10;    private void setupSecurityClickListeners() {&#13;&#10;        // Change Password click listener&#13;&#10;        LinearLayout layoutChangePassword = findViewById(R.id.layout_change_password);&#13;&#10;        layoutChangePassword.setOnClickListener(v -&gt; showChangePasswordDialog());&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showChangePasswordDialog() {&#13;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#13;&#10;        builder.setTitle(&quot;Change Password&quot;);&#13;&#10;        builder.setMessage(&quot;To change your password, you'll need to verify your current password first.&quot;);&#13;&#10;&#13;&#10;        LinearLayout layout = new LinearLayout(this);&#13;&#10;        layout.setOrientation(LinearLayout.VERTICAL);&#13;&#10;        int padding = (int) (16 * getResources().getDisplayMetrics().density);&#13;&#10;        layout.setPadding(padding, padding, padding, padding);&#13;&#10;&#13;&#10;        final EditText currentPasswordInput = new EditText(this);&#13;&#10;        currentPasswordInput.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);&#13;&#10;        currentPasswordInput.setHint(&quot;Current Password&quot;);&#13;&#10;        layout.addView(currentPasswordInput);&#13;&#10;&#13;&#10;        final EditText newPasswordInput = new EditText(this);&#13;&#10;        newPasswordInput.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);&#13;&#10;        newPasswordInput.setHint(&quot;New Password (min 8 characters)&quot;);&#13;&#10;        layout.addView(newPasswordInput);&#13;&#10;&#13;&#10;        // Add password strength indicator&#13;&#10;        final TextView strengthIndicator = new TextView(this);&#13;&#10;        strengthIndicator.setPadding(0, 8, 0, 0);&#13;&#10;        strengthIndicator.setTextSize(12);&#13;&#10;        strengthIndicator.setVisibility(View.GONE);&#13;&#10;        layout.addView(strengthIndicator);&#13;&#10;&#13;&#10;        // Add password requirements&#13;&#10;        final TextView requirementsText = new TextView(this);&#13;&#10;        requirementsText.setPadding(0, 8, 0, 0);&#13;&#10;        requirementsText.setTextSize(11);&#13;&#10;        requirementsText.setVisibility(View.GONE);&#13;&#10;        layout.addView(requirementsText);&#13;&#10;&#13;&#10;        final EditText confirmPasswordInput = new EditText(this);&#13;&#10;        confirmPasswordInput.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);&#13;&#10;        confirmPasswordInput.setHint(&quot;Confirm New Password&quot;);&#13;&#10;        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(&#13;&#10;                LinearLayout.LayoutParams.MATCH_PARENT,&#13;&#10;                LinearLayout.LayoutParams.WRAP_CONTENT&#13;&#10;        );&#13;&#10;        params.setMargins(0, (int) (8 * getResources().getDisplayMetrics().density), 0, 0);&#13;&#10;        confirmPasswordInput.setLayoutParams(params);&#13;&#10;        layout.addView(confirmPasswordInput);&#13;&#10;&#13;&#10;        // Add TextWatcher for real-time validation&#13;&#10;        newPasswordInput.addTextChangedListener(new android.text.TextWatcher() {&#13;&#10;            @Override&#13;&#10;            public void beforeTextChanged(CharSequence s, int start, int count, int after) {}&#13;&#10;&#13;&#10;            @Override&#13;&#10;            public void onTextChanged(CharSequence s, int start, int before, int count) {&#13;&#10;                String password = s.toString();&#13;&#10;                if (password.isEmpty()) {&#13;&#10;                    strengthIndicator.setVisibility(View.GONE);&#13;&#10;                    requirementsText.setVisibility(View.GONE);&#13;&#10;                } else {&#13;&#10;                    strengthIndicator.setVisibility(View.VISIBLE);&#13;&#10;                    requirementsText.setVisibility(View.VISIBLE);&#13;&#10;&#13;&#10;                    int strength = calculatePasswordStrength(password);&#13;&#10;                    String strengthText = &quot;Password Strength: &quot; + getPasswordStrengthText(strength);&#13;&#10;                    int color = getPasswordStrengthColor(strength);&#13;&#10;&#13;&#10;                    strengthIndicator.setText(strengthText);&#13;&#10;                    strengthIndicator.setTextColor(color);&#13;&#10;&#13;&#10;                    requirementsText.setText(getPasswordRequirementsText(password));&#13;&#10;                }&#13;&#10;            }&#13;&#10;&#13;&#10;            @Override&#13;&#10;            public void afterTextChanged(android.text.Editable s) {}&#13;&#10;        });&#13;&#10;&#13;&#10;        builder.setView(layout);&#13;&#10;&#13;&#10;        builder.setPositiveButton(&quot;Change Password&quot;, (dialog, which) -&gt; {&#13;&#10;            String currentPassword = currentPasswordInput.getText().toString().trim();&#13;&#10;            String newPassword = newPasswordInput.getText().toString().trim();&#13;&#10;            String confirmPassword = confirmPasswordInput.getText().toString().trim();&#13;&#10;&#13;&#10;            if (validatePasswordChange(currentPassword, newPassword, confirmPassword)) {&#13;&#10;                showConfirmationDialog(&#13;&#10;                        &quot;Confirm Password Change&quot;,&#13;&#10;                        &quot;Are you sure you want to change your password?\n\nYou will need to use the new password for future logins.&quot;,&#13;&#10;                        () -&gt; changeUserPassword(currentPassword, newPassword)&#13;&#10;                );&#13;&#10;            }&#13;&#10;        });&#13;&#10;&#13;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.cancel());&#13;&#10;&#13;&#10;        AlertDialog dialog = builder.create();&#13;&#10;&#13;&#10;        if (dialog.getWindow() != null) {&#13;&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#13;&#10;        }&#13;&#10;&#13;&#10;        dialog.show();&#13;&#10;&#13;&#10;        // Style buttons AFTER showing dialog&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#13;&#10;        }&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#13;&#10;        }&#13;&#10;    }&#13;&#10;    private boolean validatePasswordChange(String currentPassword, String newPassword, String confirmPassword) {&#13;&#10;        if (currentPassword.isEmpty()) {&#13;&#10;            Toast.makeText(this, &quot;Please enter your current password&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;            return false;&#13;&#10;        }&#13;&#10;&#13;&#10;        if (newPassword.isEmpty()) {&#13;&#10;            Toast.makeText(this, &quot;Please enter a new password&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;            return false;&#13;&#10;        }&#13;&#10;&#13;&#10;        if (newPassword.length() &lt; MIN_PASSWORD_LENGTH) {&#13;&#10;            Toast.makeText(this, &quot;New password must be at least &quot; + MIN_PASSWORD_LENGTH + &quot; characters&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;            return false;&#13;&#10;        }&#13;&#10;&#13;&#10;        // Check for uppercase letter&#13;&#10;        if (!newPassword.matches(&quot;.*[A-Z].*&quot;)) {&#13;&#10;            Toast.makeText(this, &quot;Password must contain at least one uppercase letter&quot;, Toast.LENGTH_LONG).show();&#13;&#10;            return false;&#13;&#10;        }&#13;&#10;&#13;&#10;        // Check for lowercase letter&#13;&#10;        if (!newPassword.matches(&quot;.*[a-z].*&quot;)) {&#13;&#10;            Toast.makeText(this, &quot;Password must contain at least one lowercase letter&quot;, Toast.LENGTH_LONG).show();&#13;&#10;            return false;&#13;&#10;        }&#13;&#10;&#13;&#10;        // Check for digit&#13;&#10;        if (!newPassword.matches(&quot;.*\\d.*&quot;)) {&#13;&#10;            Toast.makeText(this, &quot;Password must contain at least one number&quot;, Toast.LENGTH_LONG).show();&#13;&#10;            return false;&#13;&#10;        }&#13;&#10;&#13;&#10;        // Check for special character&#13;&#10;        if (!newPassword.matches(&quot;.*[!@#$%^&amp;*(),.?\&quot;:{}|&lt;&gt;].*&quot;)) {&#13;&#10;            Toast.makeText(this, &quot;Password must contain at least one special character (!@#$%^&amp;*...)&quot;, Toast.LENGTH_LONG).show();&#13;&#10;            return false;&#13;&#10;        }&#13;&#10;&#13;&#10;        if (!newPassword.equals(confirmPassword)) {&#13;&#10;            Toast.makeText(this, &quot;Passwords don't match&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;            return false;&#13;&#10;        }&#13;&#10;&#13;&#10;        if (currentPassword.equals(newPassword)) {&#13;&#10;            Toast.makeText(this, &quot;New password must be different from current password&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;            return false;&#13;&#10;        }&#13;&#10;&#13;&#10;        return true;&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    private void changeUserPassword(String currentPassword, String newPassword) {&#13;&#10;        FirebaseUser user = mAuth.getCurrentUser();&#13;&#10;        if (user == null || user.getEmail() == null) {&#13;&#10;            Toast.makeText(this, &quot;User not authenticated&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;            return;&#13;&#10;        }&#13;&#10;&#13;&#10;        Toast.makeText(this, &quot;Changing password...&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;&#13;&#10;        AuthCredential credential = EmailAuthProvider.getCredential(user.getEmail(), currentPassword);&#13;&#10;&#13;&#10;        user.reauthenticate(credential).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {&#13;&#10;            @Override&#13;&#10;            public void onComplete(@NonNull Task&lt;Void&gt; task) {&#13;&#10;                if (task.isSuccessful()) {&#13;&#10;                    user.updatePassword(newPassword).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {&#13;&#10;                        @Override&#13;&#10;                        public void onComplete(@NonNull Task&lt;Void&gt; passwordTask) {&#13;&#10;                            if (passwordTask.isSuccessful()) {&#13;&#10;                                Toast.makeText(Profile.this, &quot;Password changed successfully!&quot;, Toast.LENGTH_LONG).show();&#13;&#10;&#13;&#10;                                if (userDocRef != null) {&#13;&#10;                                    userDocRef.update(&quot;lastPasswordChange&quot;, System.currentTimeMillis());&#13;&#10;                                }&#13;&#10;                            } else {&#13;&#10;                                String errorMessage = passwordTask.getException() != null ?&#13;&#10;                                        passwordTask.getException().getMessage() : &quot;Failed to change password&quot;;&#13;&#10;                                Toast.makeText(Profile.this, &quot;Error: &quot; + errorMessage, Toast.LENGTH_LONG).show();&#13;&#10;                            }&#13;&#10;                        }&#13;&#10;                    });&#13;&#10;                } else {&#13;&#10;                    Toast.makeText(Profile.this, &quot;Current password is incorrect&quot;, Toast.LENGTH_LONG).show();&#13;&#10;                }&#13;&#10;            }&#13;&#10;        });&#13;&#10;    }&#13;&#10;&#13;&#10;    private void setupEditableFields() {&#13;&#10;        layoutEmail.setOnClickListener(v -&gt; showEditEmailDialog());&#13;&#10;        layoutPhone.setOnClickListener(v -&gt; showEditPhoneDialog());&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showEditEmailDialog() {&#13;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#13;&#10;        builder.setTitle(&quot;Edit Email Address&quot;);&#13;&#10;        builder.setMessage(&quot;To change your email, you'll need to verify your current password first.&quot;);&#13;&#10;&#13;&#10;        LinearLayout layout = new LinearLayout(this);&#13;&#10;        layout.setOrientation(LinearLayout.VERTICAL);&#13;&#10;        int padding = (int) (16 * getResources().getDisplayMetrics().density);&#13;&#10;        layout.setPadding(padding, padding, padding, padding);&#13;&#10;&#13;&#10;        final EditText newEmailInput = new EditText(this);&#13;&#10;        newEmailInput.setInputType(InputType.TYPE_TEXT_VARIATION_EMAIL_ADDRESS);&#13;&#10;        newEmailInput.setText(profileEmail.getText().toString());&#13;&#10;        newEmailInput.setSelection(newEmailInput.getText().length());&#13;&#10;        newEmailInput.setHint(&quot;New Email Address&quot;);&#13;&#10;        layout.addView(newEmailInput);&#13;&#10;&#13;&#10;        final EditText passwordInput = new EditText(this);&#13;&#10;        passwordInput.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);&#13;&#10;        passwordInput.setHint(&quot;Current Password&quot;);&#13;&#10;        layout.addView(passwordInput);&#13;&#10;&#13;&#10;        builder.setView(layout);&#13;&#10;&#13;&#10;        builder.setPositiveButton(&quot;Save&quot;, (dialog, which) -&gt; {&#13;&#10;            String newEmail = newEmailInput.getText().toString().trim();&#13;&#10;            String password = passwordInput.getText().toString().trim();&#13;&#10;&#13;&#10;            if (password.isEmpty()) {&#13;&#10;                Toast.makeText(this, &quot;Password is required to change email&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;                return;&#13;&#10;            }&#13;&#10;&#13;&#10;            if (validateEmail(newEmail)) {&#13;&#10;                showConfirmationDialog(&#13;&#10;                        &quot;Confirm Email Change&quot;,&#13;&#10;                        &quot;Change email to:\n&quot; + newEmail + &quot;?\n\nYou will need to use this email for future logins.&quot;,&#13;&#10;                        () -&gt; updateEmailWithAuth(newEmail, password)  //  NOW CALLING THE RIGHT METHOD&#13;&#10;                );&#13;&#10;            } else {&#13;&#10;                Toast.makeText(this, &quot;Please enter a valid email address&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;            }&#13;&#10;        });&#13;&#10;&#13;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.cancel());&#13;&#10;&#13;&#10;        AlertDialog dialog = builder.create();&#13;&#10;&#13;&#10;        if (dialog.getWindow() != null) {&#13;&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#13;&#10;        }&#13;&#10;&#13;&#10;        dialog.show();&#13;&#10;&#13;&#10;        // Style buttons AFTER showing dialog&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#13;&#10;        }&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#13;&#10;        }&#13;&#10;&#13;&#10;        newEmailInput.requestFocus();&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showEditPhoneDialog() {&#13;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#13;&#10;        builder.setTitle(&quot;Edit Phone Number&quot;);&#13;&#10;&#13;&#10;        LinearLayout container = new LinearLayout(this);&#13;&#10;        container.setOrientation(LinearLayout.VERTICAL);&#13;&#10;        int padding = (int) (20 * getResources().getDisplayMetrics().density);&#13;&#10;        container.setPadding(padding, padding / 2, padding, padding);&#13;&#10;&#13;&#10;        final EditText input = new EditText(this);&#13;&#10;        input.setInputType(InputType.TYPE_CLASS_PHONE);&#13;&#10;&#13;&#10;        String currentPhone = tvPhone.getText().toString();&#13;&#10;        if (!currentPhone.equals(&quot;Phone not set&quot;)) {&#13;&#10;            input.setText(currentPhone);&#13;&#10;            input.setSelection(input.getText().length());&#13;&#10;        }&#13;&#10;&#13;&#10;        input.setHint(&quot;Enter your phone number&quot;);&#13;&#10;&#13;&#10;        container.addView(input);&#13;&#10;        builder.setView(container);&#13;&#10;&#13;&#10;        builder.setPositiveButton(&quot;Save&quot;, (dialog, which) -&gt; {&#13;&#10;            String newPhone = input.getText().toString().trim();&#13;&#10;            if (newPhone.isEmpty()) {&#13;&#10;                Toast.makeText(this, &quot;Phone number cannot be empty&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;            } else if (validatePhone(newPhone)) {&#13;&#10;                showConfirmationDialog(&#13;&#10;                        &quot;Confirm Phone Change&quot;,&#13;&#10;                        &quot;Change phone number to:\n&quot; + newPhone + &quot;?&quot;,&#13;&#10;                        () -&gt; updatePhone(newPhone)&#13;&#10;                );&#13;&#10;            } else {&#13;&#10;                Toast.makeText(this, &quot;Please enter a valid phone number&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;            }&#13;&#10;        });&#13;&#10;&#13;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.cancel());&#13;&#10;&#13;&#10;        AlertDialog dialog = builder.create();&#13;&#10;&#13;&#10;        if (dialog.getWindow() != null) {&#13;&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#13;&#10;        }&#13;&#10;&#13;&#10;        dialog.show();&#13;&#10;&#13;&#10;        // CRITICAL: Style buttons AFTER showing dialog&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#13;&#10;        }&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#13;&#10;        }&#13;&#10;&#13;&#10;        input.requestFocus();&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    private boolean validateEmail(String email) {&#13;&#10;        return email != null &amp;&amp; EMAIL_PATTERN.matcher(email).matches();&#13;&#10;    }&#13;&#10;&#13;&#10;    private boolean validatePhone(String phone) {&#13;&#10;        if (phone == null || phone.trim().isEmpty()) {&#13;&#10;            return false;&#13;&#10;        }&#13;&#10;&#13;&#10;        // Remove spaces, dashes, and parentheses&#13;&#10;        String cleanPhone = phone.replaceAll(&quot;[\\s\\-\\(\\)]&quot;, &quot;&quot;);&#13;&#10;&#13;&#10;        // Check if it matches Philippine format using the constant&#13;&#10;        return PHONE_PATTERN.matcher(cleanPhone).matches();  //  Uses the constant&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    private void updateEmailWithAuth(String newEmail, String password) {&#13;&#10;        FirebaseUser user = mAuth.getCurrentUser();&#13;&#10;        if (user == null || user.getEmail() == null) {&#13;&#10;            Toast.makeText(this, &quot;User not authenticated&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;            return;&#13;&#10;        }&#13;&#10;&#13;&#10;        Toast.makeText(this, &quot;Updating email...&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;&#13;&#10;        // Step 1: Re-authenticate the user&#13;&#10;        AuthCredential credential = EmailAuthProvider.getCredential(user.getEmail(), password);&#13;&#10;&#13;&#10;        user.reauthenticate(credential).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {&#13;&#10;            @Override&#13;&#10;            public void onComplete(@NonNull Task&lt;Void&gt; task) {&#13;&#10;                if (task.isSuccessful()) {&#13;&#10;                    // Step 2: Update Firebase Authentication email&#13;&#10;                    user.verifyBeforeUpdateEmail(newEmail).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {&#13;&#10;                        @Override&#13;&#10;                        public void onComplete(@NonNull Task&lt;Void&gt; emailTask) {&#13;&#10;                            if (emailTask.isSuccessful()) {&#13;&#10;                                // Step 3: Update Firestore email&#13;&#10;                                if (userDocRef != null) {&#13;&#10;                                    userDocRef.update(&quot;email&quot;, newEmail)&#13;&#10;                                            .addOnSuccessListener(aVoid -&gt; {&#13;&#10;                                                profileEmail.setText(newEmail);&#13;&#10;                                                markProfileAsChanged();&#13;&#10;&#13;&#10;                                                //  FIXED: Added proper styling to the verification dialog&#13;&#10;                                                AlertDialog.Builder builder = new AlertDialog.Builder(Profile.this, R.style.RoundedDialogStyle);&#13;&#10;                                                builder.setTitle(&quot; Email Verification Required&quot;);&#13;&#10;                                                builder.setMessage(&#13;&#10;                                                        &quot; A verification email has been sent to:\n&quot; +&#13;&#10;                                                                newEmail +&#13;&#10;                                                                &quot;\n\n&quot; +&#13;&#10;                                                                &quot; IMPORTANT STEPS:\n&quot; +&#13;&#10;                                                                &quot;1. Check your email inbox/spam\n&quot; +&#13;&#10;                                                                &quot;2. Click the verification link\n&quot; +&#13;&#10;                                                                &quot;3. After verification, you can login with your new email\n\n&quot; +&#13;&#10;                                                                &quot; NOTE: You cannot login your old and new email until you verify it.&quot;&#13;&#10;                                                );&#13;&#10;                                                builder.setPositiveButton(&quot;I Understand&quot;, null);&#13;&#10;                                                builder.setCancelable(false);&#13;&#10;&#13;&#10;                                                AlertDialog dialog = builder.create();&#13;&#10;&#13;&#10;                                                //  Apply rounded background&#13;&#10;                                                if (dialog.getWindow() != null) {&#13;&#10;                                                    dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#13;&#10;                                                }&#13;&#10;&#13;&#10;                                                dialog.show();&#13;&#10;&#13;&#10;                                                //  Style the button AFTER showing&#13;&#10;                                                if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#13;&#10;                                                    dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(&#13;&#10;                                                            getResources().getColor(android.R.color.holo_green_dark)&#13;&#10;                                                    );&#13;&#10;                                                }&#13;&#10;                                            })&#13;&#10;                                            .addOnFailureListener(e -&gt; {&#13;&#10;                                                Toast.makeText(Profile.this,&#13;&#10;                                                        &quot;Failed to update email in database: &quot; + e.getMessage(),&#13;&#10;                                                        Toast.LENGTH_SHORT).show();&#13;&#10;                                            });&#13;&#10;                                }&#13;&#10;                            } else {&#13;&#10;                                String errorMessage = emailTask.getException() != null ?&#13;&#10;                                        emailTask.getException().getMessage() : &quot;Failed to update email&quot;;&#13;&#10;&#13;&#10;                                if (errorMessage.contains(&quot;already in use&quot;)) {&#13;&#10;                                    Toast.makeText(Profile.this,&#13;&#10;                                            &quot;This email is already in use by another account&quot;,&#13;&#10;                                            Toast.LENGTH_LONG).show();&#13;&#10;                                } else {&#13;&#10;                                    Toast.makeText(Profile.this, &quot;Error: &quot; + errorMessage,&#13;&#10;                                            Toast.LENGTH_LONG).show();&#13;&#10;                                }&#13;&#10;                            }&#13;&#10;                        }&#13;&#10;                    });&#13;&#10;                } else {&#13;&#10;                    Toast.makeText(Profile.this, &quot;Incorrect password. Please try again.&quot;,&#13;&#10;                            Toast.LENGTH_LONG).show();&#13;&#10;                }&#13;&#10;            }&#13;&#10;        });&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    private void updatePhone(String newPhone) {&#13;&#10;        FirebaseUser currentUser = mAuth.getCurrentUser();&#13;&#10;        if (currentUser == null) {&#13;&#10;            Log.e(&quot;Profile&quot;, &quot; User not authenticated&quot;);&#13;&#10;            Toast.makeText(this, &quot;User not authenticated&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;            return;&#13;&#10;        }&#13;&#10;&#13;&#10;        // Normalize phone number&#13;&#10;        String normalizedPhone = newPhone.replaceAll(&quot;[\\s\\-\\(\\)]&quot;, &quot;&quot;);&#13;&#10;&#13;&#10;        // Debug logs&#13;&#10;        Log.d(&quot;Profile&quot;, &quot;Original phone input: &quot; + newPhone);&#13;&#10;        Log.d(&quot;Profile&quot;, &quot;Normalized phone: &quot; + normalizedPhone);&#13;&#10;        Log.d(&quot;Profile&quot;, &quot;Pattern matches: &quot; + PHONE_PATTERN.matcher(normalizedPhone).matches());&#13;&#10;&#13;&#10;        // Validate format&#13;&#10;        if (!PHONE_PATTERN.matcher(normalizedPhone).matches()) {&#13;&#10;            Log.e(&quot;Profile&quot;, &quot; Invalid phone format&quot;);&#13;&#10;            Toast.makeText(this, &quot;Invalid phone format. Use: 09123456789&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        Log.d(&quot;Profile&quot;, &quot; Phone format valid&quot;);&#13;&#10;&#13;&#10;        // Check if this is the same as current phone&#13;&#10;        String currentPhone = tvPhone.getText().toString();&#13;&#10;        Log.d(&quot;Profile&quot;, &quot;Current phone display: &quot; + currentPhone);&#13;&#10;&#13;&#10;        if (!currentPhone.equals(&quot;Phone not set&quot;)) {&#13;&#10;            String currentNormalized = currentPhone.replaceAll(&quot;[\\s\\-\\(\\)]&quot;, &quot;&quot;);&#13;&#10;            Log.d(&quot;Profile&quot;, &quot;Current normalized: &quot; + currentNormalized);&#13;&#10;&#13;&#10;            if (normalizedPhone.equals(currentNormalized)) {&#13;&#10;                Log.e(&quot;Profile&quot;, &quot; Same as current phone&quot;);&#13;&#10;                Toast.makeText(this, &quot;This is already your current phone number&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;                return;&#13;&#10;            }&#13;&#10;        }&#13;&#10;        Log.d(&quot;Profile&quot;, &quot; Phone is different from current&quot;);&#13;&#10;&#13;&#10;        // Show progress&#13;&#10;        Log.d(&quot;Profile&quot;, &quot; Checking if phone exists...&quot;);&#13;&#10;        Toast.makeText(this, &quot;Updating phone number...&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;&#13;&#10;        // Check if phone number already exists (excluding current user)&#13;&#10;        checkPhoneNumberExists(normalizedPhone, currentUser.getUid(), exists -&gt; {&#13;&#10;            Log.d(&quot;Profile&quot;, &quot;Phone exists check result: &quot; + exists);&#13;&#10;&#13;&#10;            if (exists) {&#13;&#10;                Log.e(&quot;Profile&quot;, &quot; Phone already registered&quot;);&#13;&#10;                Toast.makeText(Profile.this,&#13;&#10;                        &quot;This phone number is already registered to another account.&quot;,&#13;&#10;                        Toast.LENGTH_LONG).show();&#13;&#10;            } else {&#13;&#10;                Log.d(&quot;Profile&quot;, &quot; Phone is unique, proceeding with update&quot;);&#13;&#10;&#13;&#10;                // Phone number is unique, proceed with update&#13;&#10;                if (userDocRef != null) {&#13;&#10;                    userDocRef.update(&quot;phone&quot;, normalizedPhone)&#13;&#10;                            .addOnSuccessListener(aVoid -&gt; {&#13;&#10;                                Log.d(&quot;Profile&quot;, &quot; Phone updated successfully&quot;);&#13;&#10;                                tvPhone.setText(normalizedPhone);&#13;&#10;                                markProfileAsChanged();&#13;&#10;                                Toast.makeText(Profile.this,&#13;&#10;                                        &quot;Phone number updated successfully&quot;,&#13;&#10;                                        Toast.LENGTH_SHORT).show();&#13;&#10;                            })&#13;&#10;                            .addOnFailureListener(e -&gt; {&#13;&#10;                                Log.e(&quot;Profile&quot;, &quot; Phone update error&quot;, e);&#13;&#10;                                Toast.makeText(Profile.this,&#13;&#10;                                        &quot;Failed to update: &quot; + e.getMessage(),&#13;&#10;                                        Toast.LENGTH_LONG).show();&#13;&#10;                            });&#13;&#10;                } else {&#13;&#10;                    Log.e(&quot;Profile&quot;, &quot; userDocRef is null&quot;);&#13;&#10;                }&#13;&#10;            }&#13;&#10;        });&#13;&#10;    }&#13;&#10;    private void checkPhoneNumberExists(String phone, String currentUserId, PhoneCheckCallback callback) {&#13;&#10;        Log.d(&quot;Profile&quot;, &quot;&quot;);&#13;&#10;        Log.d(&quot;Profile&quot;, &quot; CHECKING PHONE EXISTENCE&quot;);&#13;&#10;        Log.d(&quot;Profile&quot;, &quot;Phone to check: [&quot; + phone + &quot;]&quot;);&#13;&#10;        Log.d(&quot;Profile&quot;, &quot;Phone length: &quot; + phone.length());&#13;&#10;        Log.d(&quot;Profile&quot;, &quot;Current user ID: &quot; + currentUserId);&#13;&#10;        Log.d(&quot;Profile&quot;, &quot;&quot;);&#13;&#10;&#13;&#10;        firestore.collection(&quot;users&quot;)&#13;&#10;                .whereEqualTo(&quot;phone&quot;, phone)&#13;&#10;                .get()&#13;&#10;                .addOnCompleteListener(task -&gt; {&#13;&#10;                    if (task.isSuccessful()) {&#13;&#10;                        QuerySnapshot querySnapshot = task.getResult();&#13;&#10;&#13;&#10;                        Log.d(&quot;Profile&quot;, &quot; Query successful!&quot;);&#13;&#10;                        Log.d(&quot;Profile&quot;, &quot;Query result is null? &quot; + (querySnapshot == null));&#13;&#10;&#13;&#10;                        if (querySnapshot != null) {&#13;&#10;                            Log.d(&quot;Profile&quot;, &quot;Is empty? &quot; + querySnapshot.isEmpty());&#13;&#10;                            Log.d(&quot;Profile&quot;, &quot;Document count: &quot; + querySnapshot.size());&#13;&#10;&#13;&#10;                            if (!querySnapshot.isEmpty()) {&#13;&#10;                                Log.d(&quot;Profile&quot;, &quot; Found documents with this phone:&quot;);&#13;&#10;&#13;&#10;                                int index = 0;&#13;&#10;                                for (DocumentSnapshot doc : querySnapshot.getDocuments()) {&#13;&#10;                                    index++;&#13;&#10;                                    String docId = doc.getId();&#13;&#10;                                    String docPhone = doc.getString(&quot;phone&quot;);&#13;&#10;                                    String docEmail = doc.getString(&quot;email&quot;);&#13;&#10;                                    String docName = doc.getString(&quot;fullname&quot;);&#13;&#10;&#13;&#10;                                    Log.d(&quot;Profile&quot;, &quot;--- Document #&quot; + index + &quot; ---&quot;);&#13;&#10;                                    Log.d(&quot;Profile&quot;, &quot;  User ID: &quot; + docId);&#13;&#10;                                    Log.d(&quot;Profile&quot;, &quot;  Phone: [&quot; + docPhone + &quot;]&quot;);&#13;&#10;                                    Log.d(&quot;Profile&quot;, &quot;  Phone length: &quot; + (docPhone != null ? docPhone.length() : &quot;null&quot;));&#13;&#10;                                    Log.d(&quot;Profile&quot;, &quot;  Email: &quot; + docEmail);&#13;&#10;                                    Log.d(&quot;Profile&quot;, &quot;  Name: &quot; + docName);&#13;&#10;                                    Log.d(&quot;Profile&quot;, &quot;  Is current user? &quot; + docId.equals(currentUserId));&#13;&#10;                                    Log.d(&quot;Profile&quot;, &quot;  Phone matches exactly? &quot; + phone.equals(docPhone));&#13;&#10;                                }&#13;&#10;&#13;&#10;                                // Check if phone belongs to another user&#13;&#10;                                boolean belongsToOtherUser = false;&#13;&#10;                                for (DocumentSnapshot doc : querySnapshot.getDocuments()) {&#13;&#10;                                    if (!doc.getId().equals(currentUserId)) {&#13;&#10;                                        belongsToOtherUser = true;&#13;&#10;                                        Log.e(&quot;Profile&quot;, &quot; PHONE BELONGS TO ANOTHER USER!&quot;);&#13;&#10;                                        break;&#13;&#10;                                    }&#13;&#10;                                }&#13;&#10;&#13;&#10;                                if (!belongsToOtherUser) {&#13;&#10;                                    Log.d(&quot;Profile&quot;, &quot; Phone belongs to current user only&quot;);&#13;&#10;                                }&#13;&#10;&#13;&#10;                                Log.d(&quot;Profile&quot;, &quot;Final result: belongsToOtherUser = &quot; + belongsToOtherUser);&#13;&#10;                                callback.onResult(belongsToOtherUser);&#13;&#10;                            } else {&#13;&#10;                                Log.d(&quot;Profile&quot;, &quot; NO DOCUMENTS FOUND - Phone is available!&quot;);&#13;&#10;                                callback.onResult(false);&#13;&#10;                            }&#13;&#10;                        } else {&#13;&#10;                            Log.e(&quot;Profile&quot;, &quot; QuerySnapshot is NULL!&quot;);&#13;&#10;                            callback.onResult(false);&#13;&#10;                        }&#13;&#10;                    } else {&#13;&#10;                        Exception e = task.getException();&#13;&#10;                        Log.e(&quot;Profile&quot;, &quot; Query FAILED!&quot;);&#13;&#10;                        Log.e(&quot;Profile&quot;, &quot;Error: &quot; + (e != null ? e.getMessage() : &quot;Unknown error&quot;));&#13;&#10;                        if (e != null) {&#13;&#10;                            e.printStackTrace();&#13;&#10;                        }&#13;&#10;&#13;&#10;                        Toast.makeText(Profile.this,&#13;&#10;                                &quot;Error checking phone number. Please try again.&quot;,&#13;&#10;                                Toast.LENGTH_SHORT).show();&#13;&#10;                        callback.onResult(true);&#13;&#10;                    }&#13;&#10;                    Log.d(&quot;Profile&quot;, &quot;&quot;);&#13;&#10;                });&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;&#13;&#10;    private void setupDatePicker() {&#13;&#10;        layoutDob.setOnClickListener(v -&gt; showDatePickerDialog());&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showDatePickerDialog() {&#13;&#10;        int currentYear = selectedDate.get(Calendar.YEAR);&#13;&#10;        int currentMonth = selectedDate.get(Calendar.MONTH);&#13;&#10;        int currentDay = selectedDate.get(Calendar.DAY_OF_MONTH);&#13;&#10;&#13;&#10;        DatePickerDialog datePickerDialog = new DatePickerDialog(&#13;&#10;                this,&#13;&#10;                new DatePickerDialog.OnDateSetListener() {&#13;&#10;                    @Override&#13;&#10;                    public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {&#13;&#10;                        Calendar tempDate = Calendar.getInstance();&#13;&#10;                        tempDate.set(Calendar.YEAR, year);&#13;&#10;                        tempDate.set(Calendar.MONTH, month);&#13;&#10;                        tempDate.set(Calendar.DAY_OF_MONTH, dayOfMonth);&#13;&#10;&#13;&#10;                        String formattedDate = dateFormat.format(tempDate.getTime());&#13;&#10;&#13;&#10;                        // Show confirmation dialog before updating&#13;&#10;                        showConfirmationDialog(&#13;&#10;                                &quot;Confirm Date of Birth&quot;,&#13;&#10;                                &quot;Set date of birth to:\n&quot; + formattedDate + &quot;?&quot;,&#13;&#10;                                () -&gt; {&#13;&#10;                                    selectedDate.set(Calendar.YEAR, year);&#13;&#10;                                    selectedDate.set(Calendar.MONTH, month);&#13;&#10;                                    selectedDate.set(Calendar.DAY_OF_MONTH, dayOfMonth);&#13;&#10;                                    tvDob.setText(formattedDate);&#13;&#10;                                    saveDateOfBirth(formattedDate);&#13;&#10;                                    Toast.makeText(Profile.this, &quot;Date of birth updated&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;                                }&#13;&#10;                        );&#13;&#10;                    }&#13;&#10;                },&#13;&#10;                currentYear,&#13;&#10;                currentMonth,&#13;&#10;                currentDay&#13;&#10;        );&#13;&#10;&#13;&#10;        Calendar maxDate = Calendar.getInstance();&#13;&#10;        maxDate.add(Calendar.YEAR, -13);&#13;&#10;        datePickerDialog.getDatePicker().setMaxDate(maxDate.getTimeInMillis());&#13;&#10;&#13;&#10;        Calendar minDate = Calendar.getInstance();&#13;&#10;        minDate.set(1900, 0, 1);&#13;&#10;        datePickerDialog.getDatePicker().setMinDate(minDate.getTimeInMillis());&#13;&#10;&#13;&#10;        datePickerDialog.show();&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    private void saveDateOfBirth(String dateOfBirth) {&#13;&#10;        SharedPreferences prefs = getSharedPreferences(&quot;user_profile&quot;, MODE_PRIVATE);&#13;&#10;        SharedPreferences.Editor editor = prefs.edit();&#13;&#10;        editor.putString(&quot;date_of_birth&quot;, dateOfBirth);&#13;&#10;        editor.putLong(&quot;date_of_birth_timestamp&quot;, selectedDate.getTimeInMillis());&#13;&#10;        editor.apply();&#13;&#10;&#13;&#10;        if (userDocRef != null) {&#13;&#10;            // Save both the formatted string and timestamp to Firestore&#13;&#10;            //  FIXED: Use &quot;birthdate&quot; instead of &quot;dateOfBirth&quot;&#13;&#10;            Map&lt;String, Object&gt; updates = new HashMap&lt;&gt;();&#13;&#10;            updates.put(&quot;birthdate&quot;, dateOfBirth);&#13;&#10;            updates.put(&quot;birthdateTimestamp&quot;, selectedDate.getTimeInMillis());&#13;&#10;&#13;&#10;            userDocRef.update(updates)&#13;&#10;                    .addOnSuccessListener(aVoid -&gt; {&#13;&#10;                        Log.d(&quot;Profile&quot;, &quot;Date of birth saved: &quot; + dateOfBirth);&#13;&#10;                        markProfileAsChanged();&#13;&#10;                    })&#13;&#10;                    .addOnFailureListener(e -&gt; {&#13;&#10;                        Log.e(&quot;Profile&quot;, &quot;Failed to save date of birth&quot;, e);&#13;&#10;                    });&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void setupUserDataListener() {&#13;&#10;        FirebaseUser currentUser = mAuth.getCurrentUser();&#13;&#10;        if (currentUser == null) return;&#13;&#10;&#13;&#10;        userDataListener = userDocRef.addSnapshotListener((snapshot, error) -&gt; {&#13;&#10;            if (error != null) {&#13;&#10;                Toast.makeText(Profile.this, &quot;Failed to load profile data&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;                return;&#13;&#10;            }&#13;&#10;            if (snapshot != null &amp;&amp; snapshot.exists()) {&#13;&#10;                String name = snapshot.getString(&quot;fullname&quot;);&#13;&#10;                String email = snapshot.getString(&quot;email&quot;);&#13;&#10;                String phone = snapshot.getString(&quot;phone&quot;);&#13;&#10;                String dateOfBirth = snapshot.getString(&quot;birthdate&quot;);&#13;&#10;                String profilePictureUrl = snapshot.getString(&quot;profilePictureUrl&quot;);&#13;&#10;                String userType = snapshot.getString(&quot;userType&quot;);&#13;&#10;                if (userType == null || userType.isEmpty()) {&#13;&#10;                    userDocRef.update(&quot;userType&quot;, &quot;user&quot;);&#13;&#10;                }&#13;&#10;&#13;&#10;                //  Load membership status separately from memberships collection&#13;&#10;                loadMembershipStatus(currentUser.getUid());&#13;&#10;&#13;&#10;                updateProfileDisplay(name, email, phone, dateOfBirth, null, currentUser);&#13;&#10;                loadProfilePicture(profilePictureUrl);&#13;&#10;            } else {&#13;&#10;                createDefaultUserProfile(currentUser);&#13;&#10;            }&#13;&#10;        });&#13;&#10;    }&#13;&#10;&#13;&#10;    private void loadMembershipStatus(String userId) {&#13;&#10;        try {&#13;&#10;            firestore.collection(&quot;memberships&quot;)&#13;&#10;                    .document(userId)&#13;&#10;                    .addSnapshotListener((snapshot, error) -&gt; {&#13;&#10;                        try {&#13;&#10;                            if (error != null) {&#13;&#10;                                Log.e(&quot;Profile&quot;, &quot;Error loading membership&quot;, error);&#13;&#10;                                if (tvStatus != null) {&#13;&#10;                                    tvStatus.setText(&quot;INACTIVE&quot;);&#13;&#10;                                    updateMembershipStatusColor(&quot;Inactive&quot;);&#13;&#10;                                }&#13;&#10;                                return;&#13;&#10;                            }&#13;&#10;&#13;&#10;                            if (snapshot != null &amp;&amp; snapshot.exists()) {&#13;&#10;                                String status = snapshot.getString(&quot;membershipStatus&quot;);&#13;&#10;&#13;&#10;                                // Check expiration date&#13;&#10;                                Timestamp expirationTimestamp = snapshot.getTimestamp(&quot;membershipExpirationDate&quot;);&#13;&#10;                                boolean isExpired = false;&#13;&#10;&#13;&#10;                                if (expirationTimestamp != null) {&#13;&#10;                            Date expirationDate = expirationTimestamp.toDate();&#13;&#10;                            Date now = new Date();&#13;&#10;                            isExpired = now.after(expirationDate);&#13;&#10;                        }&#13;&#10;&#13;&#10;                        // Simple: Active or Inactive&#13;&#10;                        if (&quot;active&quot;.equalsIgnoreCase(status) &amp;&amp; !isExpired) {&#13;&#10;                            cachedMembershipStatus = &quot;ACTIVE&quot;;&#13;&#10;                            cachedStatusColor = getResources().getColor(android.R.color.holo_green_dark);&#13;&#10;&#13;&#10;                            //  SAVE TO SHARED PREFERENCES&#13;&#10;                            getSharedPreferences(&quot;Profile_cache&quot;, MODE_PRIVATE)&#13;&#10;                                    .edit()&#13;&#10;                                    .putString(&quot;cached_status&quot;, &quot;ACTIVE&quot;)&#13;&#10;                                    .putInt(&quot;cached_color&quot;, cachedStatusColor)&#13;&#10;                                    .apply();&#13;&#10;&#13;&#10;                            tvStatus.setText(&quot;ACTIVE&quot;);&#13;&#10;                            updateMembershipStatusColor(&quot;Active&quot;);&#13;&#10;                        } else {&#13;&#10;                            cachedMembershipStatus = &quot;INACTIVE&quot;;&#13;&#10;                            cachedStatusColor = getResources().getColor(android.R.color.holo_red_dark);&#13;&#10;&#13;&#10;                            //  SAVE TO SHARED PREFERENCES&#13;&#10;                            getSharedPreferences(&quot;Profile_cache&quot;, MODE_PRIVATE)&#13;&#10;                                    .edit()&#13;&#10;                                    .putString(&quot;cached_status&quot;, &quot;INACTIVE&quot;)&#13;&#10;                                    .putInt(&quot;cached_color&quot;, cachedStatusColor)&#13;&#10;                                    .apply();&#13;&#10;&#13;&#10;                            if (tvStatus != null) {&#13;&#10;                                tvStatus.setText(&quot;INACTIVE&quot;);&#13;&#10;                                updateMembershipStatusColor(&quot;Inactive&quot;);&#13;&#10;                            }&#13;&#10;&#13;&#10;                            // Auto-update status in database if expired&#13;&#10;                            if (isExpired &amp;&amp; &quot;active&quot;.equalsIgnoreCase(status)) {&#13;&#10;                                firestore.collection(&quot;memberships&quot;)&#13;&#10;                                        .document(userId)&#13;&#10;                                        .update(&quot;membershipStatus&quot;, &quot;inactive&quot;);&#13;&#10;                            }&#13;&#10;                        }&#13;&#10;                    } else {&#13;&#10;                        // No membership document = Inactive&#13;&#10;                        if (tvStatus != null) {&#13;&#10;                            tvStatus.setText(&quot;INACTIVE&quot;);&#13;&#10;                            updateMembershipStatusColor(&quot;Inactive&quot;);&#13;&#10;                        }&#13;&#10;                    }&#13;&#10;                } catch (Exception e) {&#13;&#10;                    Log.e(&quot;Profile&quot;, &quot;Exception in membership listener&quot;, e);&#13;&#10;                    if (tvStatus != null) {&#13;&#10;                        tvStatus.setText(&quot;INACTIVE&quot;);&#13;&#10;                        updateMembershipStatusColor(&quot;Inactive&quot;);&#13;&#10;                    }&#13;&#10;                }&#13;&#10;            });&#13;&#10;        } catch (Exception e) {&#13;&#10;            Log.e(&quot;Profile&quot;, &quot;Exception setting up membership listener&quot;, e);&#13;&#10;            if (tvStatus != null) {&#13;&#10;                tvStatus.setText(&quot;INACTIVE&quot;);&#13;&#10;                updateMembershipStatusColor(&quot;Inactive&quot;);&#13;&#10;            }&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;&#13;&#10;    private void updateProfileDisplay(String name, String email, String phone, String dateOfBirth, String membershipStatus, FirebaseUser currentUser) {&#13;&#10;        // Update Name&#13;&#10;        String displayName;&#13;&#10;        if (name != null &amp;&amp; !name.isEmpty()) {&#13;&#10;            displayName = name;&#13;&#10;        } else if (currentUser != null &amp;&amp; currentUser.getDisplayName() != null &amp;&amp; !currentUser.getDisplayName().isEmpty()) {&#13;&#10;            displayName = currentUser.getDisplayName();&#13;&#10;        } else {&#13;&#10;            displayName = &quot;Gym Member&quot;;&#13;&#10;        }&#13;&#10;&#13;&#10;        if (profileName != null) {&#13;&#10;            profileName.setText(displayName);&#13;&#10;        }&#13;&#10;&#13;&#10;        //  SAVE TO CACHE&#13;&#10;        cachedUserName = displayName;&#13;&#10;        getSharedPreferences(&quot;Profile_cache&quot;, MODE_PRIVATE)&#13;&#10;                .edit()&#13;&#10;                .putString(&quot;cached_name&quot;, displayName)&#13;&#10;                .apply();&#13;&#10;&#13;&#10;        // Update Email&#13;&#10;        if (profileEmail != null) {&#13;&#10;            if (email != null &amp;&amp; !email.isEmpty()) {&#13;&#10;                profileEmail.setText(email);&#13;&#10;            } else {&#13;&#10;                String currentEmail = currentUser != null ? currentUser.getEmail() : null;&#13;&#10;                profileEmail.setText(currentEmail != null ? currentEmail : &quot;No email&quot;);&#13;&#10;                if (currentEmail != null &amp;&amp; userDocRef != null) {&#13;&#10;                    userDocRef.update(&quot;email&quot;, currentEmail);&#13;&#10;                }&#13;&#10;            }&#13;&#10;        }&#13;&#10;&#13;&#10;        // Update Phone&#13;&#10;        if (tvPhone != null) {&#13;&#10;            if (phone != null &amp;&amp; !phone.isEmpty()) {&#13;&#10;                tvPhone.setText(phone);&#13;&#10;            } else {&#13;&#10;                tvPhone.setText(&quot;Phone not set&quot;);&#13;&#10;            }&#13;&#10;        }&#13;&#10;&#13;&#10;        //  FIXED: Update Date of Birth - handle both formats with DEBUG LOGS&#13;&#10;        Log.d(&quot;Profile&quot;, &quot;Received dateOfBirth: &quot; + dateOfBirth); // DEBUG&#13;&#10;&#13;&#10;        if (tvDob != null &amp;&amp; dateOfBirth != null &amp;&amp; !dateOfBirth.isEmpty()) {&#13;&#10;            try {&#13;&#10;                Date parsedDate = null;&#13;&#10;&#13;&#10;                // Try parsing with display format first (MMMM dd, yyyy)&#13;&#10;                try {&#13;&#10;                    parsedDate = dateFormat.parse(dateOfBirth);&#13;&#10;                    Log.d(&quot;Profile&quot;, &quot;Parsed with display format successfully&quot;); // DEBUG&#13;&#10;                } catch (Exception e) {&#13;&#10;                    Log.d(&quot;Profile&quot;, &quot;Display format failed, trying database format&quot;); // DEBUG&#13;&#10;                    // If that fails, try parsing with database format (yyyy-MM-dd)&#13;&#10;                    SimpleDateFormat dbFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.getDefault());&#13;&#10;                    parsedDate = dbFormat.parse(dateOfBirth);&#13;&#10;&#13;&#10;                    // Convert to display format&#13;&#10;                    if (parsedDate != null) {&#13;&#10;                        dateOfBirth = dateFormat.format(parsedDate);&#13;&#10;                        Log.d(&quot;Profile&quot;, &quot;Converted to display format: &quot; + dateOfBirth); // DEBUG&#13;&#10;                    }&#13;&#10;                }&#13;&#10;&#13;&#10;                if (parsedDate != null) {&#13;&#10;                    selectedDate.setTime(parsedDate);&#13;&#10;                    tvDob.setText(dateOfBirth);&#13;&#10;                    Log.d(&quot;Profile&quot;, &quot;Final display: &quot; + dateOfBirth); // DEBUG&#13;&#10;                } else {&#13;&#10;                    tvDob.setText(dateOfBirth); // Fallback: just show the text&#13;&#10;                    Log.d(&quot;Profile&quot;, &quot;parsedDate is null, showing raw text&quot;); // DEBUG&#13;&#10;                }&#13;&#10;            } catch (Exception e) {&#13;&#10;                Log.e(&quot;Profile&quot;, &quot;Failed to parse date: &quot; + dateOfBirth, e);&#13;&#10;                if (tvDob != null) {&#13;&#10;                    tvDob.setText(dateOfBirth); // Fallback: just show the text&#13;&#10;                }&#13;&#10;            }&#13;&#10;        } else {&#13;&#10;            Log.d(&quot;Profile&quot;, &quot;dateOfBirth is null or empty&quot;); // DEBUG&#13;&#10;            if (tvDob != null) {&#13;&#10;                tvDob.setText(&quot;Select your date of birth&quot;);&#13;&#10;            }&#13;&#10;        }&#13;&#10;&#13;&#10;        // Load fitness profile data&#13;&#10;        loadFitnessProfileData();&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    // Add this method in Profile.java after your update methods&#13;&#10;    private void markProfileAsChanged() {&#13;&#10;        if (userDocRef != null) {&#13;&#10;            userDocRef.update(&quot;profileLastModified&quot;, System.currentTimeMillis())&#13;&#10;                    .addOnSuccessListener(aVoid -&gt;&#13;&#10;                            Log.d(&quot;Profile&quot;, &quot;Profile modification timestamp updated&quot;))&#13;&#10;                    .addOnFailureListener(e -&gt;&#13;&#10;                            Log.e(&quot;Profile&quot;, &quot;Failed to update profile timestamp&quot;, e));&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void createDefaultUserProfile(FirebaseUser currentUser) {&#13;&#10;        if (currentUser == null) return;&#13;&#10;&#13;&#10;        String email = currentUser.getEmail();&#13;&#10;        String fullname = currentUser.getDisplayName();&#13;&#10;        if (fullname == null || fullname.isEmpty()) {&#13;&#10;            fullname = &quot;Gym Member&quot;;&#13;&#10;        }&#13;&#10;&#13;&#10;        if (userDocRef != null) {&#13;&#10;            UserProfileFirestore profile = new UserProfileFirestore(fullname, email);&#13;&#10;            firestore.runTransaction(transaction -&gt; {&#13;&#10;                transaction.set(userDocRef, profile);&#13;&#10;                transaction.update(userDocRef, &quot;userType&quot;, &quot;user&quot;);&#13;&#10;                return null;&#13;&#10;            });&#13;&#10;        }&#13;&#10;&#13;&#10;        profileName.setText(fullname);&#13;&#10;        profileEmail.setText(email != null ? email : &quot;No email&quot;);&#13;&#10;        tvPhone.setText(&quot;Phone not set&quot;);&#13;&#10;        tvStatus.setText(&quot;INACTIVE&quot;);&#13;&#10;        updateMembershipStatusColor(&quot;Inactive&quot;);&#13;&#10;        tvDob.setText(&quot;Select your date of birth&quot;);&#13;&#10;        tvFitnessLevel.setText(&quot;Not set&quot;);&#13;&#10;        tvFitnessGoal.setText(&quot;Not set&quot;);&#13;&#10;        tvWorkoutFrequency.setText(&quot;Not set&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    private int calculateAge() {&#13;&#10;        if (selectedDate == null) return 0;&#13;&#10;&#13;&#10;        Calendar today = Calendar.getInstance();&#13;&#10;        int age = today.get(Calendar.YEAR) - selectedDate.get(Calendar.YEAR);&#13;&#10;&#13;&#10;        if (today.get(Calendar.DAY_OF_YEAR) &lt; selectedDate.get(Calendar.DAY_OF_YEAR)) {&#13;&#10;            age--;&#13;&#10;        }&#13;&#10;&#13;&#10;        return age;&#13;&#10;    }&#13;&#10;&#13;&#10;    private String getDateOfBirthForAPI() {&#13;&#10;        SimpleDateFormat apiFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.getDefault());&#13;&#10;        return apiFormat.format(selectedDate.getTime());&#13;&#10;    }&#13;&#10;&#13;&#10;    @Override&#13;&#10;    protected void onResume() {&#13;&#10;        super.onResume();&#13;&#10;        // Reload fitness profile data when returning from other activities&#13;&#10;        loadFitnessProfileData();&#13;&#10;    }&#13;&#10;&#13;&#10;    @Override&#13;&#10;    protected void onDestroy() {&#13;&#10;        super.onDestroy();&#13;&#10;        if (userDataListener != null) {&#13;&#10;            userDataListener.remove();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showLogoutDialog() {&#13;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#13;&#10;        builder.setTitle(&quot;Logout&quot;);&#13;&#10;        builder.setMessage(&quot;Are you sure you want to log out?&quot;);&#13;&#10;&#13;&#10;        builder.setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {&#13;&#10;            mAuth.signOut();&#13;&#10;            startActivity(new Intent(Profile.this, LoginActivity.class));&#13;&#10;            finish();&#13;&#10;        });&#13;&#10;&#13;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.dismiss());&#13;&#10;&#13;&#10;        AlertDialog dialog = builder.create();&#13;&#10;&#13;&#10;        // Apply rounded background&#13;&#10;        if (dialog.getWindow() != null) {&#13;&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#13;&#10;        }&#13;&#10;&#13;&#10;        dialog.show();&#13;&#10;&#13;&#10;        // Style the buttons AFTER showing the dialog&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#13;&#10;        }&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void initCloudinary() {&#13;&#10;        Map&lt;String, String&gt; config = new HashMap&lt;&gt;();&#13;&#10;        config.put(&quot;cloud_name&quot;, &quot;dgxwz6qzg&quot;);&#13;&#10;&#13;&#10;        try {&#13;&#10;            MediaManager.init(this, config);&#13;&#10;            Log.d(&quot;Cloudinary&quot;, &quot;MediaManager initialized successfully&quot;);&#13;&#10;        } catch (IllegalStateException e) {&#13;&#10;            Log.d(&quot;Cloudinary&quot;, &quot;MediaManager already initialized&quot;);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void uploadImageToCloudinary(Uri imageUri) {&#13;&#10;        FirebaseUser currentUser = mAuth.getCurrentUser();&#13;&#10;        if (currentUser == null) {&#13;&#10;            Toast.makeText(this, &quot;Please login first&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;            return;&#13;&#10;        }&#13;&#10;&#13;&#10;        if (imageUri == null) {&#13;&#10;            Toast.makeText(this, &quot;Invalid image selected&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;            return;&#13;&#10;        }&#13;&#10;&#13;&#10;        uploadProgressDialog.setMessage(&quot;Preparing upload...&quot;);&#13;&#10;        uploadProgressDialog.show();&#13;&#10;&#13;&#10;&#13;&#10;        MediaManager.get().upload(imageUri)&#13;&#10;                .unsigned(&quot;profile_uploads&quot;)&#13;&#10;                .option(&quot;folder&quot;, &quot;profile_pictures&quot;)&#13;&#10;                .option(&quot;resource_type&quot;, &quot;image&quot;)&#13;&#10;                .constrain(com.cloudinary.android.policy.TimeWindow.immediate())&#13;&#10;                .maxFileSize(5 * 1024 * 1024)&#13;&#10;                .callback(new UploadCallback() {&#13;&#10;                    @Override&#13;&#10;                    public void onStart(String requestId) {&#13;&#10;                        Log.d(&quot;Cloudinary&quot;, &quot;Upload started: &quot; + requestId);&#13;&#10;                        runOnUiThread(() -&gt;&#13;&#10;                                uploadProgressDialog.setMessage(&quot;Uploading image...&quot;)&#13;&#10;                        );&#13;&#10;                    }&#13;&#10;&#13;&#10;                    @Override&#13;&#10;                    public void onProgress(String requestId, long bytes, long totalBytes) {&#13;&#10;                        double progress = (bytes * 100.0) / totalBytes;&#13;&#10;                        runOnUiThread(() -&gt;&#13;&#10;                                uploadProgressDialog.setMessage(&#13;&#10;                                        String.format(&quot;Uploading: %d%%&quot;, (int) progress)&#13;&#10;                                )&#13;&#10;                        );&#13;&#10;                    }&#13;&#10;&#13;&#10;                    @Override&#13;&#10;                    public void onSuccess(String requestId, Map resultData) {&#13;&#10;                        String imageUrl = (String) resultData.get(&quot;secure_url&quot;);&#13;&#10;&#13;&#10;                        runOnUiThread(() -&gt; {&#13;&#10;                            uploadProgressDialog.dismiss();&#13;&#10;&#13;&#10;                            if (imageUrl != null &amp;&amp; !imageUrl.isEmpty()) {&#13;&#10;                                saveProfilePictureUrl(imageUrl);&#13;&#10;                                Toast.makeText(Profile.this,&#13;&#10;                                        &quot;Profile picture updated!&quot;,&#13;&#10;                                        Toast.LENGTH_SHORT).show();&#13;&#10;                            } else {&#13;&#10;                                Toast.makeText(Profile.this,&#13;&#10;                                        &quot;Upload succeeded but no URL returned&quot;,&#13;&#10;                                        Toast.LENGTH_SHORT).show();&#13;&#10;                            }&#13;&#10;                        });&#13;&#10;                    }&#13;&#10;&#13;&#10;                    @Override&#13;&#10;                    public void onError(String requestId, ErrorInfo error) {&#13;&#10;                        Log.e(&quot;Cloudinary&quot;, &quot;Upload error: &quot; + error.getDescription());&#13;&#10;&#13;&#10;                        runOnUiThread(() -&gt; {&#13;&#10;                            uploadProgressDialog.dismiss();&#13;&#10;&#13;&#10;                            String errorMsg = &quot;Upload failed&quot;;&#13;&#10;                            if (error.getDescription() != null) {&#13;&#10;                                errorMsg += &quot;: &quot; + error.getDescription();&#13;&#10;                            }&#13;&#10;&#13;&#10;                            Toast.makeText(Profile.this, errorMsg, Toast.LENGTH_LONG).show();&#13;&#10;                        });&#13;&#10;                    }&#13;&#10;&#13;&#10;                    @Override&#13;&#10;                    public void onReschedule(String requestId, ErrorInfo error) {&#13;&#10;                        Log.d(&quot;Cloudinary&quot;, &quot;Upload rescheduled: &quot; + error.getDescription());&#13;&#10;                    }&#13;&#10;                })&#13;&#10;                .dispatch(Profile.this);  // FIXED: Added context parameter here&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    private static class UserProfileFirestore {&#13;&#10;        public String fullname, email, phone, dateOfBirth, membershipStatus, userType;&#13;&#10;&#13;&#10;        public UserProfileFirestore(String fullname, String email) {&#13;&#10;            this.fullname = fullname;&#13;&#10;            this.email = email;&#13;&#10;            this.phone = &quot;&quot;;&#13;&#10;            this.dateOfBirth = &quot;&quot;;&#13;&#10;            this.membershipStatus = &quot;Active Member&quot;;&#13;&#10;            this.userType = &quot;user&quot;;&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    private void saveProfilePictureUrl(String imageUrl) {&#13;&#10;        if (userDocRef != null) {&#13;&#10;            userDocRef.update(&quot;profilePictureUrl&quot;, imageUrl)&#13;&#10;                    .addOnSuccessListener(aVoid -&gt; {&#13;&#10;                        loadProfilePicture(imageUrl);&#13;&#10;                    });&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void loadProfilePicture(String imageUrl) {&#13;&#10;        if (imageUrl != null &amp;&amp; !imageUrl.isEmpty()) {&#13;&#10;            Glide.with(this)&#13;&#10;                    .load(imageUrl)&#13;&#10;                    .placeholder(R.drawable.ic_profile)&#13;&#10;                    .error(R.drawable.ic_profile)&#13;&#10;                    .circleCrop()&#13;&#10;                    .into(profilePicture);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @Override&#13;&#10;    protected void onActivityResult(int requestCode, int resultCode, Intent data) {&#13;&#10;        super.onActivityResult(requestCode, resultCode, data);&#13;&#10;&#13;&#10;        if (requestCode == REQUEST_CROP_IMAGE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {&#13;&#10;            String croppedUriString = data.getStringExtra(&quot;croppedImageUri&quot;);&#13;&#10;            if (croppedUriString != null) {&#13;&#10;                Uri croppedUri = Uri.parse(croppedUriString);&#13;&#10;                uploadImageToCloudinary(croppedUri);&#13;&#10;            }&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showConfirmationDialog(String title, String message, Runnable onConfirm) {&#13;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#13;&#10;        builder.setTitle(title);&#13;&#10;        builder.setMessage(message);&#13;&#10;&#13;&#10;        builder.setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {&#13;&#10;            if (onConfirm != null) {&#13;&#10;                onConfirm.run();&#13;&#10;            }&#13;&#10;        });&#13;&#10;&#13;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.dismiss());&#13;&#10;&#13;&#10;        AlertDialog dialog = builder.create();&#13;&#10;&#13;&#10;        // Apply rounded background&#13;&#10;        if (dialog.getWindow() != null) {&#13;&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#13;&#10;        }&#13;&#10;&#13;&#10;        dialog.show();&#13;&#10;&#13;&#10;        // CRITICAL: Style the buttons AFTER showing the dialog (same as logout dialog)&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#13;&#10;        }&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#13;&#10;        }&#13;&#10;    }&#13;&#10;    private int calculatePasswordStrength(String password) {&#13;&#10;        int strength = 0;&#13;&#10;&#13;&#10;        if (password.length() &gt;= MIN_PASSWORD_LENGTH) strength++;&#13;&#10;        if (password.matches(&quot;.*[A-Z].*&quot;)) strength++;&#13;&#10;        if (password.matches(&quot;.*[a-z].*&quot;)) strength++;&#13;&#10;        if (password.matches(&quot;.*\\d.*&quot;)) strength++;&#13;&#10;        if (password.matches(&quot;.*[!@#$%^&amp;*(),.?\&quot;:{}|&lt;&gt;].*&quot;)) strength++;&#13;&#10;&#13;&#10;        return strength;&#13;&#10;    }&#13;&#10;&#13;&#10;    private String getPasswordStrengthText(int strength) {&#13;&#10;        switch (strength) {&#13;&#10;            case 0:&#13;&#10;            case 1:&#13;&#10;                return &quot;Weak&quot;;&#13;&#10;            case 2:&#13;&#10;            case 3:&#13;&#10;                return &quot;Medium&quot;;&#13;&#10;            case 4:&#13;&#10;                return &quot;Good&quot;;&#13;&#10;            case 5:&#13;&#10;                return &quot;Strong&quot;;&#13;&#10;            default:&#13;&#10;                return &quot;Weak&quot;;&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private int getPasswordStrengthColor(int strength) {&#13;&#10;        switch (strength) {&#13;&#10;            case 0:&#13;&#10;            case 1:&#13;&#10;                return getResources().getColor(android.R.color.holo_red_dark);&#13;&#10;            case 2:&#13;&#10;            case 3:&#13;&#10;                return getResources().getColor(android.R.color.holo_orange_dark);&#13;&#10;            case 4:&#13;&#10;                return getResources().getColor(android.R.color.holo_blue_dark);&#13;&#10;            case 5:&#13;&#10;                return getResources().getColor(android.R.color.holo_green_dark);&#13;&#10;            default:&#13;&#10;                return getResources().getColor(android.R.color.holo_red_dark);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    private String getPasswordRequirementsText(String password) {&#13;&#10;        StringBuilder requirements = new StringBuilder(&quot;\nPassword Requirements:\n&quot;);&#13;&#10;&#13;&#10;        if (password.length() &gt;= MIN_PASSWORD_LENGTH) {&#13;&#10;            requirements.append(&quot; At least 8 characters\n&quot;);&#13;&#10;        } else {&#13;&#10;            requirements.append(&quot; At least 8 characters\n&quot;);&#13;&#10;        }&#13;&#10;&#13;&#10;        if (password.matches(&quot;.*[A-Z].*&quot;)) {&#13;&#10;            requirements.append(&quot; One uppercase letter\n&quot;);&#13;&#10;        } else {&#13;&#10;            requirements.append(&quot; One uppercase letter\n&quot;);&#13;&#10;        }&#13;&#10;&#13;&#10;        if (password.matches(&quot;.*[a-z].*&quot;)) {&#13;&#10;            requirements.append(&quot; One lowercase letter\n&quot;);&#13;&#10;        } else {&#13;&#10;            requirements.append(&quot; One lowercase letter\n&quot;);&#13;&#10;        }&#13;&#10;&#13;&#10;        if (password.matches(&quot;.*\\d.*&quot;)) {&#13;&#10;            requirements.append(&quot; One number\n&quot;);&#13;&#10;        } else {&#13;&#10;            requirements.append(&quot; One number\n&quot;);&#13;&#10;        }&#13;&#10;&#13;&#10;        if (password.matches(&quot;.*[!@#$%^&amp;*(),.?\&quot;:{}|&lt;&gt;].*&quot;)) {&#13;&#10;            requirements.append(&quot; One special character&quot;);&#13;&#10;        } else {&#13;&#10;            requirements.append(&quot; One special character&quot;);&#13;&#10;        }&#13;&#10;&#13;&#10;        return requirements.toString();&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showAgeDialog() {&#13;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#13;&#10;        builder.setTitle(&quot;Enter Your Age&quot;);&#13;&#10;&#13;&#10;        LinearLayout container = new LinearLayout(this);&#13;&#10;        container.setOrientation(LinearLayout.VERTICAL);&#13;&#10;        int padding = (int) (20 * getResources().getDisplayMetrics().density);&#13;&#10;        container.setPadding(padding, padding / 2, padding, padding);&#13;&#10;&#13;&#10;        final EditText input = new EditText(this);&#13;&#10;        input.setInputType(InputType.TYPE_CLASS_NUMBER);&#13;&#10;        input.setHint(&quot;Age (13-100)&quot;);&#13;&#10;        container.addView(input);&#13;&#10;&#13;&#10;        builder.setView(container);&#13;&#10;&#13;&#10;        builder.setPositiveButton(&quot;Save&quot;, (dialog, which) -&gt; {&#13;&#10;            String ageStr = input.getText().toString().trim();&#13;&#10;            if (!ageStr.isEmpty()) {&#13;&#10;                int age = Integer.parseInt(ageStr);&#13;&#10;                if (age &gt;= 13 &amp;&amp; age &lt;= 100) {&#13;&#10;                    showConfirmationDialog(&#13;&#10;                            &quot;Confirm Age&quot;,&#13;&#10;                            &quot;Set age to: &quot; + age + &quot; years old?&quot;,&#13;&#10;                            () -&gt; updateAge(age)&#13;&#10;                    );&#13;&#10;                } else {&#13;&#10;                    Toast.makeText(this, &quot;Age must be between 13-100&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;                }&#13;&#10;            }&#13;&#10;        });&#13;&#10;&#13;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.cancel());&#13;&#10;&#13;&#10;        AlertDialog dialog = builder.create();&#13;&#10;        if (dialog.getWindow() != null) {&#13;&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#13;&#10;        }&#13;&#10;        dialog.show();&#13;&#10;&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#13;&#10;        }&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showWeightDialog() {&#13;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#13;&#10;        builder.setTitle(&quot;Enter Your Weight&quot;);&#13;&#10;&#13;&#10;        LinearLayout container = new LinearLayout(this);&#13;&#10;        container.setOrientation(LinearLayout.VERTICAL);&#13;&#10;        int padding = (int) (20 * getResources().getDisplayMetrics().density);&#13;&#10;        container.setPadding(padding, padding / 2, padding, padding);&#13;&#10;&#13;&#10;        final EditText input = new EditText(this);&#13;&#10;        input.setInputType(InputType.TYPE_CLASS_NUMBER | InputType.TYPE_NUMBER_FLAG_DECIMAL);&#13;&#10;        input.setHint(&quot;Weight in kg (30-300)&quot;);&#13;&#10;        container.addView(input);&#13;&#10;&#13;&#10;        builder.setView(container);&#13;&#10;&#13;&#10;        builder.setPositiveButton(&quot;Save&quot;, (dialog, which) -&gt; {&#13;&#10;            String weightStr = input.getText().toString().trim();&#13;&#10;            if (!weightStr.isEmpty()) {&#13;&#10;                double weight = Double.parseDouble(weightStr);&#13;&#10;                if (weight &gt;= 30 &amp;&amp; weight &lt;= 300) {&#13;&#10;                    showConfirmationDialog(&#13;&#10;                            &quot;Confirm Weight&quot;,&#13;&#10;                            &quot;Set weight to: &quot; + weight + &quot; kg?&quot;,&#13;&#10;                            () -&gt; updateWeight(weight)&#13;&#10;                    );&#13;&#10;                } else {&#13;&#10;                    Toast.makeText(this, &quot;Weight must be between 30-300 kg&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;                }&#13;&#10;            }&#13;&#10;        });&#13;&#10;&#13;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.cancel());&#13;&#10;&#13;&#10;        AlertDialog dialog = builder.create();&#13;&#10;        if (dialog.getWindow() != null) {&#13;&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#13;&#10;        }&#13;&#10;        dialog.show();&#13;&#10;&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#13;&#10;        }&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showHeightDialog() {&#13;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#13;&#10;        builder.setTitle(&quot;Enter Your Height&quot;);&#13;&#10;&#13;&#10;        LinearLayout container = new LinearLayout(this);&#13;&#10;        container.setOrientation(LinearLayout.VERTICAL);&#13;&#10;        int padding = (int) (20 * getResources().getDisplayMetrics().density);&#13;&#10;        container.setPadding(padding, padding / 2, padding, padding);&#13;&#10;&#13;&#10;        final EditText input = new EditText(this);&#13;&#10;        input.setInputType(InputType.TYPE_CLASS_NUMBER | InputType.TYPE_NUMBER_FLAG_DECIMAL);&#13;&#10;        input.setHint(&quot;Height in cm (100-250)&quot;);&#13;&#10;        container.addView(input);&#13;&#10;&#13;&#10;        builder.setView(container);&#13;&#10;&#13;&#10;        builder.setPositiveButton(&quot;Save&quot;, (dialog, which) -&gt; {&#13;&#10;            String heightStr = input.getText().toString().trim();&#13;&#10;            if (!heightStr.isEmpty()) {&#13;&#10;                double height = Double.parseDouble(heightStr);&#13;&#10;                if (height &gt;= 100 &amp;&amp; height &lt;= 250) {&#13;&#10;                    showConfirmationDialog(&#13;&#10;                            &quot;Confirm Height&quot;,&#13;&#10;                            &quot;Set height to: &quot; + height + &quot; cm?&quot;,&#13;&#10;                            () -&gt; updateHeight(height)&#13;&#10;                    );&#13;&#10;                } else {&#13;&#10;                    Toast.makeText(this, &quot;Height must be between 100-250 cm&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;                }&#13;&#10;            }&#13;&#10;        });&#13;&#10;&#13;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.cancel());&#13;&#10;&#13;&#10;        AlertDialog dialog = builder.create();&#13;&#10;        if (dialog.getWindow() != null) {&#13;&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#13;&#10;        }&#13;&#10;        dialog.show();&#13;&#10;&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#13;&#10;        }&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showHealthIssuesDialog() {&#13;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#13;&#10;        builder.setTitle(&quot;Health Issues&quot;);&#13;&#10;&#13;&#10;        // Create scrollable container&#13;&#10;        ScrollView scrollView = new ScrollView(this);&#13;&#10;        LinearLayout container = new LinearLayout(this);&#13;&#10;        container.setOrientation(LinearLayout.VERTICAL);&#13;&#10;        int padding = (int) (20 * getResources().getDisplayMetrics().density);&#13;&#10;        container.setPadding(padding, padding / 2, padding, padding);&#13;&#10;&#13;&#10;        // Add instruction text&#13;&#10;        TextView instructions = new TextView(this);&#13;&#10;        instructions.setText(&quot;Select common conditions or add custom ones:&quot;);&#13;&#10;        instructions.setTextSize(14);&#13;&#10;        instructions.setTextColor(getResources().getColor(android.R.color.darker_gray));&#13;&#10;        instructions.setPadding(0, 0, 0, (int) (12 * getResources().getDisplayMetrics().density));&#13;&#10;        container.addView(instructions);&#13;&#10;&#13;&#10;        // Common health issues&#13;&#10;        String[] commonIssues = {&#13;&#10;            &quot;Knee Injury&quot;, &quot;Back Pain&quot;, &quot;Shoulder Injury&quot;, &quot;Ankle Injury&quot;,&#13;&#10;            &quot;High Blood Pressure&quot;, &quot;Diabetes&quot;, &quot;Asthma&quot;, &quot;Heart Condition&quot;,&#13;&#10;            &quot;Arthritis&quot;, &quot;Previous Surgery&quot;, &quot;Joint Problems&quot;, &quot;Neck Pain&quot;&#13;&#10;        };&#13;&#10;&#13;&#10;        // Parse current health issues&#13;&#10;        String currentHealthIssues = tvHealthIssues.getText().toString();&#13;&#10;        List&lt;String&gt; selectedIssues = new ArrayList&lt;&gt;();&#13;&#10;        if (!currentHealthIssues.equals(&quot;None&quot;) &amp;&amp; !currentHealthIssues.equals(&quot;Not set&quot;)) {&#13;&#10;            String[] current = currentHealthIssues.split(&quot;,&quot;);&#13;&#10;            for (String issue : current) {&#13;&#10;                selectedIssues.add(issue.trim());&#13;&#10;            }&#13;&#10;        }&#13;&#10;&#13;&#10;        // Create checkboxes&#13;&#10;        List&lt;CheckBox&gt; checkBoxes = new ArrayList&lt;&gt;();&#13;&#10;        for (String issue : commonIssues) {&#13;&#10;            CheckBox checkBox = new CheckBox(this);&#13;&#10;            checkBox.setText(issue);&#13;&#10;            checkBox.setTextSize(14);&#13;&#10;            checkBox.setChecked(selectedIssues.contains(issue));&#13;&#10;            checkBoxes.add(checkBox);&#13;&#10;            container.addView(checkBox);&#13;&#10;        }&#13;&#10;&#13;&#10;        // Add divider&#13;&#10;        View divider = new View(this);&#13;&#10;        divider.setLayoutParams(new LinearLayout.LayoutParams(&#13;&#10;            LinearLayout.LayoutParams.MATCH_PARENT,&#13;&#10;            (int) (1 * getResources().getDisplayMetrics().density)&#13;&#10;        ));&#13;&#10;        divider.setBackgroundColor(getResources().getColor(android.R.color.darker_gray));&#13;&#10;        LinearLayout.LayoutParams dividerParams = (LinearLayout.LayoutParams) divider.getLayoutParams();&#13;&#10;        dividerParams.setMargins(0, (int) (16 * getResources().getDisplayMetrics().density),&#13;&#10;                                  0, (int) (16 * getResources().getDisplayMetrics().density));&#13;&#10;        divider.setLayoutParams(dividerParams);&#13;&#10;        container.addView(divider);&#13;&#10;&#13;&#10;        // Add &quot;Other&quot; label&#13;&#10;        TextView otherLabel = new TextView(this);&#13;&#10;        otherLabel.setText(&quot;Other (Custom):&quot;);&#13;&#10;        otherLabel.setTextSize(14);&#13;&#10;        otherLabel.setTypeface(null, android.graphics.Typeface.BOLD);&#13;&#10;        otherLabel.setPadding(0, 0, 0, (int) (8 * getResources().getDisplayMetrics().density));&#13;&#10;        container.addView(otherLabel);&#13;&#10;&#13;&#10;        // Custom input field&#13;&#10;        final EditText customInput = new EditText(this);&#13;&#10;        customInput.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_FLAG_MULTI_LINE | InputType.TYPE_TEXT_FLAG_CAP_SENTENCES);&#13;&#10;        customInput.setHint(&quot;Add any other conditions not listed above&quot;);&#13;&#10;        customInput.setMinLines(2);&#13;&#10;        customInput.setMaxLines(3);&#13;&#10;        customInput.setGravity(android.view.Gravity.TOP | android.view.Gravity.START);&#13;&#10;        customInput.setBackground(getResources().getDrawable(R.drawable.spinner_background));&#13;&#10;        customInput.setPadding((int) (12 * getResources().getDisplayMetrics().density),&#13;&#10;                              (int) (12 * getResources().getDisplayMetrics().density),&#13;&#10;                              (int) (12 * getResources().getDisplayMetrics().density),&#13;&#10;                              (int) (12 * getResources().getDisplayMetrics().density));&#13;&#10;&#13;&#10;        // Check if there are custom issues (not in common list)&#13;&#10;        List&lt;String&gt; customIssues = new ArrayList&lt;&gt;();&#13;&#10;        for (String issue : selectedIssues) {&#13;&#10;            boolean isCommon = false;&#13;&#10;            for (String common : commonIssues) {&#13;&#10;                if (common.equalsIgnoreCase(issue)) {&#13;&#10;                    isCommon = true;&#13;&#10;                    break;&#13;&#10;                }&#13;&#10;            }&#13;&#10;            if (!isCommon) {&#13;&#10;                customIssues.add(issue);&#13;&#10;            }&#13;&#10;        }&#13;&#10;        if (!customIssues.isEmpty()) {&#13;&#10;            customInput.setText(String.join(&quot;, &quot;, customIssues));&#13;&#10;        }&#13;&#10;&#13;&#10;        container.addView(customInput);&#13;&#10;&#13;&#10;        scrollView.addView(container);&#13;&#10;        builder.setView(scrollView);&#13;&#10;&#13;&#10;        builder.setPositiveButton(&quot;Save&quot;, (dialog, which) -&gt; {&#13;&#10;            List&lt;String&gt; finalIssues = new ArrayList&lt;&gt;();&#13;&#10;&#13;&#10;            // Add selected checkboxes&#13;&#10;            for (CheckBox checkBox : checkBoxes) {&#13;&#10;                if (checkBox.isChecked()) {&#13;&#10;                    finalIssues.add(checkBox.getText().toString());&#13;&#10;                }&#13;&#10;            }&#13;&#10;&#13;&#10;            // Add custom issues&#13;&#10;            String customText = customInput.getText().toString().trim();&#13;&#10;            if (!customText.isEmpty()) {&#13;&#10;                String[] customs = customText.split(&quot;,&quot;);&#13;&#10;                for (String custom : customs) {&#13;&#10;                    String trimmed = custom.trim();&#13;&#10;                    if (!trimmed.isEmpty()) {&#13;&#10;                        finalIssues.add(trimmed);&#13;&#10;                    }&#13;&#10;                }&#13;&#10;            }&#13;&#10;&#13;&#10;            // Combine all issues&#13;&#10;            String healthIssues = finalIssues.isEmpty() ? &quot;&quot; : String.join(&quot;, &quot;, finalIssues);&#13;&#10;            updateHealthIssues(healthIssues);&#13;&#10;        });&#13;&#10;&#13;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.cancel());&#13;&#10;&#13;&#10;        AlertDialog dialog = builder.create();&#13;&#10;        if (dialog.getWindow() != null) {&#13;&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#13;&#10;        }&#13;&#10;        dialog.show();&#13;&#10;&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#13;&#10;        }&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showBodyFocusDialog() {&#13;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.RoundedDialogStyle);&#13;&#10;        builder.setTitle(&quot;Body Focus&quot;);&#13;&#10;&#13;&#10;        // Create scrollable container&#13;&#10;        ScrollView scrollView = new ScrollView(this);&#13;&#10;        LinearLayout container = new LinearLayout(this);&#13;&#10;        container.setOrientation(LinearLayout.VERTICAL);&#13;&#10;        int padding = (int) (20 * getResources().getDisplayMetrics().density);&#13;&#10;        container.setPadding(padding, padding / 2, padding, padding);&#13;&#10;&#13;&#10;        // Add instruction text&#13;&#10;        TextView instructions = new TextView(this);&#13;&#10;        instructions.setText(&quot;Select the body parts you want to focus on:&quot;);&#13;&#10;        instructions.setTextSize(14);&#13;&#10;        instructions.setTextColor(getResources().getColor(android.R.color.darker_gray));&#13;&#10;        instructions.setPadding(0, 0, 0, (int) (12 * getResources().getDisplayMetrics().density));&#13;&#10;        container.addView(instructions);&#13;&#10;&#13;&#10;        // Body focus options&#13;&#10;        String[] bodyParts = {&quot;Chest&quot;, &quot;Back&quot;, &quot;Shoulders&quot;, &quot;Arms&quot;, &quot;Legs&quot;, &quot;Abs&quot;};&#13;&#10;&#13;&#10;        // Parse current body focus&#13;&#10;        String currentBodyFocus = tvBodyFocus.getText().toString();&#13;&#10;        List&lt;String&gt; selectedFocus = new ArrayList&lt;&gt;();&#13;&#10;        if (!currentBodyFocus.equals(&quot;Not set&quot;)) {&#13;&#10;            String[] current = currentBodyFocus.split(&quot;,&quot;);&#13;&#10;            for (String focus : current) {&#13;&#10;                selectedFocus.add(focus.trim());&#13;&#10;            }&#13;&#10;        }&#13;&#10;&#13;&#10;        // Create checkboxes&#13;&#10;        List&lt;CheckBox&gt; checkBoxes = new ArrayList&lt;&gt;();&#13;&#10;        for (String part : bodyParts) {&#13;&#10;            CheckBox checkBox = new CheckBox(this);&#13;&#10;            checkBox.setText(part);&#13;&#10;            checkBox.setTextSize(16);&#13;&#10;            checkBox.setPadding(0, (int) (8 * getResources().getDisplayMetrics().density),&#13;&#10;                               0, (int) (8 * getResources().getDisplayMetrics().density));&#13;&#10;            checkBox.setChecked(selectedFocus.contains(part));&#13;&#10;            checkBoxes.add(checkBox);&#13;&#10;            container.addView(checkBox);&#13;&#10;        }&#13;&#10;&#13;&#10;        scrollView.addView(container);&#13;&#10;        builder.setView(scrollView);&#13;&#10;&#13;&#10;        builder.setPositiveButton(&quot;Save&quot;, (dialog, which) -&gt; {&#13;&#10;            List&lt;String&gt; finalFocus = new ArrayList&lt;&gt;();&#13;&#10;&#13;&#10;            // Add selected checkboxes&#13;&#10;            for (CheckBox checkBox : checkBoxes) {&#13;&#10;                if (checkBox.isChecked()) {&#13;&#10;                    finalFocus.add(checkBox.getText().toString());&#13;&#10;                }&#13;&#10;            }&#13;&#10;&#13;&#10;            // Update body focus&#13;&#10;            updateBodyFocus(finalFocus);&#13;&#10;        });&#13;&#10;&#13;&#10;        builder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; dialog.cancel());&#13;&#10;&#13;&#10;        AlertDialog dialog = builder.create();&#13;&#10;        if (dialog.getWindow() != null) {&#13;&#10;            dialog.getWindow().setBackgroundDrawableResource(R.drawable.dialog_rounded_background);&#13;&#10;        }&#13;&#10;        dialog.show();&#13;&#10;&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_POSITIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#13;&#10;        }&#13;&#10;        if (dialog.getButton(AlertDialog.BUTTON_NEGATIVE) != null) {&#13;&#10;            dialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void updateBodyFocus(List&lt;String&gt; bodyFocus) {&#13;&#10;        if (userDocRef != null) {&#13;&#10;            userDocRef.update(&quot;bodyFocus&quot;, bodyFocus)&#13;&#10;                    .addOnSuccessListener(aVoid -&gt; {&#13;&#10;                        String displayText = bodyFocus.isEmpty() ? &quot;Not set&quot; : String.join(&quot;, &quot;, bodyFocus);&#13;&#10;                        tvBodyFocus.setText(displayText);&#13;&#10;                        markProfileAsChanged();&#13;&#10;&#13;&#10;                        //  DELETE CACHED WORKOUT TO FORCE REGENERATION&#13;&#10;                        deleteCachedWorkout();&#13;&#10;&#13;&#10;                        Toast.makeText(this, &quot;Body focus updated. Your next workout will reflect these changes!&quot;, Toast.LENGTH_LONG).show();&#13;&#10;                    })&#13;&#10;                    .addOnFailureListener(e -&gt; {&#13;&#10;                        Toast.makeText(this, &quot;Failed to update: &quot; + e.getMessage(),&#13;&#10;                                Toast.LENGTH_SHORT).show();&#13;&#10;                    });&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    //  NEW METHOD: Delete cached workout to force regeneration&#13;&#10;    private void deleteCachedWorkout() {&#13;&#10;        FirebaseUser currentUser = mAuth.getCurrentUser();&#13;&#10;        if (currentUser == null) return;&#13;&#10;&#13;&#10;        String userId = currentUser.getUid();&#13;&#10;&#13;&#10;        // Get user's current week from preferences or default to 1&#13;&#10;        SharedPreferences prefs = getSharedPreferences(&quot;workout_prefs_&quot; + userId, MODE_PRIVATE);&#13;&#10;        int currentWeek = prefs.getInt(&quot;current_week&quot;, 1);&#13;&#10;&#13;&#10;        // Delete the cached workout document&#13;&#10;        firestore.collection(&quot;users&quot;)&#13;&#10;                .document(userId)&#13;&#10;                .collection(&quot;currentWorkout&quot;)&#13;&#10;                .document(&quot;week_&quot; + currentWeek)&#13;&#10;                .delete()&#13;&#10;                .addOnSuccessListener(aVoid -&gt;&#13;&#10;                    Log.d(&quot;Profile&quot;, &quot; Cached workout deleted. Will regenerate on next visit.&quot;))&#13;&#10;                .addOnFailureListener(e -&gt;&#13;&#10;                    Log.e(&quot;Profile&quot;, &quot;Failed to delete cached workout&quot;, e));&#13;&#10;    }&#13;&#10;&#13;&#10;    // Show preferred workout days selection dialog&#13;&#10;    private void showPreferredDaysDialog() {&#13;&#10;        // Launch the dedicated activity instead of showing a dialog&#13;&#10;        Intent intent = new Intent(this, PreferredWorkoutDaysActivity.class);&#13;&#10;        startActivity(intent);&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    private void updateAge(int age) {&#13;&#10;        if (userDocRef != null) {&#13;&#10;            userDocRef.update(&quot;age&quot;, age)&#13;&#10;                    .addOnSuccessListener(aVoid -&gt; {&#13;&#10;                        tvAge.setText(age + &quot; years old&quot;);&#13;&#10;                        markProfileAsChanged();&#13;&#10;                        Toast.makeText(this, &quot;Age updated&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;                    })&#13;&#10;                    .addOnFailureListener(e -&gt; {&#13;&#10;                        Toast.makeText(this, &quot;Failed to update: &quot; + e.getMessage(),&#13;&#10;                                Toast.LENGTH_SHORT).show();&#13;&#10;                    });&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void updateWeight(double weight) {&#13;&#10;        if (userDocRef != null) {&#13;&#10;            userDocRef.update(&quot;weight&quot;, weight)&#13;&#10;                    .addOnSuccessListener(aVoid -&gt; {&#13;&#10;                        tvWeight.setText(weight + &quot; kg&quot;);&#13;&#10;                        markProfileAsChanged();&#13;&#10;                        Toast.makeText(this, &quot;Weight updated&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;                    })&#13;&#10;                    .addOnFailureListener(e -&gt; {&#13;&#10;                        Toast.makeText(this, &quot;Failed to update: &quot; + e.getMessage(),&#13;&#10;                                Toast.LENGTH_SHORT).show();&#13;&#10;                    });&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void updateHeight(double height) {&#13;&#10;        if (userDocRef != null) {&#13;&#10;            userDocRef.update(&quot;height&quot;, height)&#13;&#10;                    .addOnSuccessListener(aVoid -&gt; {&#13;&#10;                        tvHeight.setText(height + &quot; cm&quot;);&#13;&#10;                        markProfileAsChanged();&#13;&#10;                        Toast.makeText(this, &quot;Height updated&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;                    })&#13;&#10;                    .addOnFailureListener(e -&gt; {&#13;&#10;                        Toast.makeText(this, &quot;Failed to update: &quot; + e.getMessage(),&#13;&#10;                                Toast.LENGTH_SHORT).show();&#13;&#10;                    });&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void updateHealthIssues(String healthIssues) {&#13;&#10;        if (userDocRef != null) {&#13;&#10;            // Ensure we're always saving as a String, even if empty&#13;&#10;            String valueToSave = (healthIssues != null &amp;&amp; !healthIssues.trim().isEmpty())&#13;&#10;                ? healthIssues.trim()&#13;&#10;                : &quot;&quot;;&#13;&#10;&#13;&#10;            userDocRef.update(&quot;healthIssues&quot;, valueToSave)&#13;&#10;                    .addOnSuccessListener(aVoid -&gt; {&#13;&#10;                        if (tvHealthIssues != null) {&#13;&#10;                            String displayText = valueToSave.isEmpty() ? &quot;None&quot; : valueToSave;&#13;&#10;                            tvHealthIssues.setText(displayText);&#13;&#10;                        }&#13;&#10;                        markProfileAsChanged();&#13;&#10;                        Toast.makeText(this, &quot;Health issues updated&quot;, Toast.LENGTH_SHORT).show();&#13;&#10;                    })&#13;&#10;                    .addOnFailureListener(e -&gt; {&#13;&#10;                        Toast.makeText(this, &quot;Failed to update: &quot; + e.getMessage(),&#13;&#10;                                Toast.LENGTH_SHORT).show();&#13;&#10;                    });&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void updateMembershipStatusColor(String status) {&#13;&#10;        if (status != null) {&#13;&#10;            if (status.equalsIgnoreCase(&quot;Active Member&quot;) || status.equalsIgnoreCase(&quot;Active&quot;)) {&#13;&#10;                tvStatus.setTextColor(getResources().getColor(android.R.color.holo_green_dark));&#13;&#10;            } else if (status.equalsIgnoreCase(&quot;Inactive&quot;) || status.equalsIgnoreCase(&quot;Inactive Member&quot;)) {&#13;&#10;                tvStatus.setTextColor(getResources().getColor(android.R.color.holo_red_dark));&#13;&#10;            } else {&#13;&#10;                // Default color for other statuses&#13;&#10;                tvStatus.setTextColor(getResources().getColor(android.R.color.white));&#13;&#10;            }&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;}&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/button_primary.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/button_primary.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:shape=&quot;rectangle&quot;&gt;&#10;    &lt;corners android:radius=&quot;8dp&quot; /&gt;&#10;    &lt;solid android:color=&quot;#1976D2&quot; /&gt;&#10;    &lt;stroke&#10;        android:width=&quot;1dp&quot;&#10;        android:color=&quot;#1565C0&quot; /&gt;&#10;&lt;/shape&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/gradient_achievement_background.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/gradient_achievement_background.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:shape=&quot;rectangle&quot;&gt;&#10;    &lt;gradient&#10;        android:angle=&quot;135&quot;&#10;        android:startColor=&quot;#4CAF50&quot;&#10;        android:centerColor=&quot;#2E7D32&quot;&#10;        android:endColor=&quot;#1B5E20&quot;&#10;        android:type=&quot;linear&quot; /&gt;&#10;    &lt;corners android:radius=&quot;12dp&quot; /&gt;&#10;&lt;/shape&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/rounded_white_background.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/rounded_white_background.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:shape=&quot;rectangle&quot;&gt;&#10;    &lt;corners android:radius=&quot;12dp&quot; /&gt;&#10;    &lt;solid android:color=&quot;#FFFFFF&quot; /&gt;&#10;    &lt;stroke&#10;        android:width=&quot;1dp&quot;&#10;        android:color=&quot;#E0E0E0&quot; /&gt;&#10;&lt;/shape&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/activity_profile.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/activity_profile.xml" />
              <option name="originalContent" value="&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    android:id=&quot;@+id/main&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:background=&quot;@drawable/yellowbackg&quot;&gt;&#10;&#10;    &lt;!-- Main Content --&gt;&#10;    &lt;LinearLayout&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;match_parent&quot;&#10;        android:orientation=&quot;vertical&quot;&#10;        android:layout_marginBottom=&quot;104dp&quot;&gt;&#10;&#10;        &lt;!-- Header Section --&gt;&#10;        &lt;LinearLayout&#10;            android:id=&quot;@+id/header_section&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginTop=&quot;35dp&quot;&#10;            android:orientation=&quot;vertical&quot;&#10;            android:padding=&quot;20dp&quot;&gt;&#10;&#10;            &lt;TextView&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:text=&quot;Profile&quot;&#10;                android:textColor=&quot;@android:color/black&quot;&#10;                android:textSize=&quot;30sp&quot;&#10;                android:textStyle=&quot;bold&quot;&#10;                android:gravity=&quot;center&quot;&#10;                android:layout_marginBottom=&quot;20dp&quot; /&gt;&#10;&#10;        &lt;/LinearLayout&gt;&#10;&#10;        &lt;!-- Scrollable Content --&gt;&#10;        &lt;ScrollView&#10;            android:id=&quot;@+id/profile_scroll&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;match_parent&quot;&#10;            android:fillViewport=&quot;true&quot;&#10;            android:scrollbars=&quot;none&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;vertical&quot;&#10;                android:paddingStart=&quot;20dp&quot;&#10;                android:paddingEnd=&quot;20dp&quot;&#10;                android:paddingBottom=&quot;16dp&quot;&gt;&#10;&#10;                &lt;!-- Profile Section (Centered and Improved) --&gt;&#10;                &lt;LinearLayout&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:orientation=&quot;vertical&quot;&#10;                    android:layout_marginBottom=&quot;20dp&quot;&#10;                    android:padding=&quot;20dp&quot;&#10;                    android:gravity=&quot;center&quot;&gt;&#10;&#10;                    &lt;!-- Profile Picture with Edit Button - Better Centered --&gt;&#10;                    &lt;FrameLayout&#10;                        android:layout_width=&quot;wrap_content&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:layout_marginBottom=&quot;16dp&quot;&#10;                        android:layout_gravity=&quot;center&quot;&gt;&#10;&#10;                        &lt;!-- Profile Picture Container --&gt;&#10;                        &lt;androidx.cardview.widget.CardView&#10;                            android:layout_width=&quot;120dp&quot;&#10;                            android:layout_height=&quot;120dp&quot;&#10;                            android:layout_gravity=&quot;center&quot;&#10;                            app:cardCornerRadius=&quot;60dp&quot;&#10;                            app:cardElevation=&quot;4dp&quot;&#10;                            android:layout_margin=&quot;8dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:id=&quot;@+id/iv_profile_picture&quot;&#10;                                android:layout_width=&quot;match_parent&quot;&#10;                                android:layout_height=&quot;match_parent&quot;&#10;                                android:scaleType=&quot;centerCrop&quot;&#10;                                android:src=&quot;@drawable/ic_profile&quot;&#10;                                android:clickable=&quot;true&quot;&#10;                                android:focusable=&quot;true&quot;&#10;                                android:background=&quot;?attr/selectableItemBackgroundBorderless&quot; /&gt;&#10;&#10;                        &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;                        &lt;!-- Edit Button - Positioned at bottom right --&gt;&#10;                        &lt;androidx.cardview.widget.CardView&#10;                            android:id=&quot;@+id/cv_edit_button&quot;&#10;                            android:layout_width=&quot;25dp&quot;&#10;                            android:layout_height=&quot;25dp&quot;&#10;                            android:layout_gravity=&quot;bottom|end&quot;&#10;                            android:layout_marginEnd=&quot;4dp&quot;&#10;                            android:layout_marginBottom=&quot;4dp&quot;&#10;                            app:cardCornerRadius=&quot;20dp&quot;&#10;                            app:cardElevation=&quot;6dp&quot;&#10;                            android:backgroundTint=&quot;@android:color/white&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:foreground=&quot;?attr/selectableItemBackgroundBorderless&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:id=&quot;@+id/iv_edit_profile&quot;&#10;                                android:layout_width=&quot;12dp&quot;&#10;                                android:layout_height=&quot;12dp&quot;&#10;                                android:layout_gravity=&quot;center&quot;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#10;                                android:scaleType=&quot;centerCrop&quot;&#10;                                app:tint=&quot;@color/black&quot; /&gt;&#10;&#10;                        &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;                    &lt;/FrameLayout&gt;&#10;&#10;                    &lt;!-- Name and Member ID - Perfectly Centered --&gt;&#10;                    &lt;LinearLayout&#10;                        android:layout_width=&quot;wrap_content&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:orientation=&quot;vertical&quot;&#10;                        android:gravity=&quot;center&quot;&#10;                        android:layout_marginBottom=&quot;12dp&quot;&gt;&#10;&#10;                        &lt;TextView&#10;                            android:id=&quot;@+id/profileName&quot;&#10;                            android:layout_width=&quot;wrap_content&quot;&#10;                            android:layout_height=&quot;wrap_content&quot;&#10;                            android:text=&quot;Loading...&quot;&#10;                            android:textSize=&quot;26sp&quot;&#10;                            android:textStyle=&quot;bold&quot;&#10;                            android:textColor=&quot;@android:color/black&quot;&#10;                            android:gravity=&quot;center&quot;&#10;                            android:layout_marginBottom=&quot;4dp&quot; /&gt;&#10;&#10;&#10;                    &lt;/LinearLayout&gt;&#10;&#10;                    &lt;!-- Status Badge - Centered --&gt;&#10;                    &lt;androidx.cardview.widget.CardView&#10;                        android:layout_width=&quot;wrap_content&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:backgroundTint=&quot;#E8F5E8&quot;&#10;                        app:cardCornerRadius=&quot;20dp&quot;&#10;                        app:cardElevation=&quot;2dp&quot;&#10;                        android:layout_gravity=&quot;center&quot;&gt;&#10;&#10;                        &lt;TextView&#10;                            android:id=&quot;@+id/tv_status&quot;&#10;                            android:layout_width=&quot;wrap_content&quot;&#10;                            android:layout_height=&quot;wrap_content&quot;&#10;                            android:text=&quot;ACTIVE MEMBER&quot;&#10;                            android:textSize=&quot;12sp&quot;&#10;                            android:textStyle=&quot;bold&quot;&#10;                            android:textColor=&quot;#4CAF50&quot;&#10;                            android:paddingHorizontal=&quot;20dp&quot;&#10;                            android:paddingVertical=&quot;8dp&quot;&#10;                            android:gravity=&quot;center&quot; /&gt;&#10;&#10;                    &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;                &lt;/LinearLayout&gt;&#10;&#10;                &lt;!-- Profile Information Card --&gt;&#10;                &lt;androidx.cardview.widget.CardView&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_marginBottom=&quot;20dp&quot;&#10;                    android:backgroundTint=&quot;#FFFFFF&quot;&#10;                    app:cardCornerRadius=&quot;24dp&quot;&#10;                    app:cardElevation=&quot;4dp&quot;&gt;&#10;&#10;                    &lt;LinearLayout&#10;                        android:layout_width=&quot;match_parent&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:orientation=&quot;vertical&quot;&#10;                        android:padding=&quot;20dp&quot;&gt;&#10;&#10;                        &lt;LinearLayout&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;wrap_content&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:layout_marginBottom=&quot;16dp&quot;&gt;&#10;&#10;                            &lt;TextView&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:text=&quot;Personal Information&quot;&#10;                                android:textSize=&quot;18sp&quot;&#10;                                android:textStyle=&quot;bold&quot;&#10;                                android:textColor=&quot;#333333&quot; /&gt;&#10;&#10;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                        &lt;!-- Email --&gt;&#10;                        &lt;LinearLayout&#10;                            android:id=&quot;@+id/layout_email&quot;&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;60dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_email&quot;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#10;&#10;                            &lt;LinearLayout&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Email&quot;&#10;                                    android:textSize=&quot;12sp&quot;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:id=&quot;@+id/profileEmail&quot;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Loading...&quot;&#10;                                    android:textSize=&quot;16sp&quot;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#10;&#10;                            &lt;/LinearLayout&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;20dp&quot;&#10;                                android:layout_height=&quot;20dp&quot;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                        &lt;!-- Divider --&gt;&#10;                        &lt;View&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;1dp&quot;&#10;                            android:background=&quot;#F0F0F0&quot;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#10;&#10;                        &lt;!-- Phone --&gt;&#10;                        &lt;LinearLayout&#10;                            android:id=&quot;@+id/layout_phone&quot;&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;60dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_phone&quot;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#10;&#10;                            &lt;LinearLayout&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Phone Number&quot;&#10;                                    android:textSize=&quot;12sp&quot;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:id=&quot;@+id/tv_phone&quot;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;+1 (555) 123-4567&quot;&#10;                                    android:textSize=&quot;16sp&quot;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#10;&#10;                            &lt;/LinearLayout&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;20dp&quot;&#10;                                android:layout_height=&quot;20dp&quot;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                        &lt;!-- Divider --&gt;&#10;                        &lt;View&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;1dp&quot;&#10;                            android:background=&quot;#F0F0F0&quot;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#10;&#10;                        &lt;!-- Date of Birth --&gt;&#10;                        &lt;LinearLayout&#10;                            android:id=&quot;@+id/layout_dob&quot;&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;60dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_calendar&quot;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#10;&#10;                            &lt;LinearLayout&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Date of Birth&quot;&#10;                                    android:textSize=&quot;12sp&quot;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:id=&quot;@+id/tv_dob&quot;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;January 15, 1990&quot;&#10;                                    android:textSize=&quot;16sp&quot;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#10;&#10;                            &lt;/LinearLayout&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;20dp&quot;&#10;                                android:layout_height=&quot;20dp&quot;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                    &lt;/LinearLayout&gt;&#10;&#10;                &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;                &lt;!-- Fitness Information Card --&gt;&#10;                &lt;androidx.cardview.widget.CardView&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_marginBottom=&quot;20dp&quot;&#10;                    android:backgroundTint=&quot;#FFFFFF&quot;&#10;                    app:cardCornerRadius=&quot;24dp&quot;&#10;                    app:cardElevation=&quot;4dp&quot;&gt;&#10;&#10;                    &lt;LinearLayout&#10;                        android:layout_width=&quot;match_parent&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:orientation=&quot;vertical&quot;&#10;                        android:padding=&quot;20dp&quot;&gt;&#10;&#10;                        &lt;TextView&#10;                            android:layout_width=&quot;wrap_content&quot;&#10;                            android:layout_height=&quot;wrap_content&quot;&#10;                            android:text=&quot;Fitness Profile&quot;&#10;                            android:textSize=&quot;18sp&quot;&#10;                            android:textStyle=&quot;bold&quot;&#10;                            android:textColor=&quot;#333333&quot;&#10;                            android:layout_marginBottom=&quot;16dp&quot; /&gt;&#10;&#10;                        &lt;!-- Fitness Level --&gt;&#10;                        &lt;LinearLayout&#10;                            android:id=&quot;@+id/layout_fitness_level&quot;&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;60dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_fitness&quot;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#10;&#10;                            &lt;LinearLayout&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Fitness Level&quot;&#10;                                    android:textSize=&quot;12sp&quot;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:id=&quot;@+id/tv_fitness_level&quot;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Not set&quot;&#10;                                    android:textSize=&quot;16sp&quot;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#10;&#10;                            &lt;/LinearLayout&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;20dp&quot;&#10;                                android:layout_height=&quot;20dp&quot;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                        &lt;!-- Divider --&gt;&#10;                        &lt;View&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;1dp&quot;&#10;                            android:background=&quot;#F0F0F0&quot;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#10;&#10;                        &lt;!-- Fitness Goal --&gt;&#10;                        &lt;LinearLayout&#10;                            android:id=&quot;@+id/layout_fitness_goal&quot;&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;60dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_target&quot;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#10;&#10;                            &lt;LinearLayout&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Fitness Goal&quot;&#10;                                    android:textSize=&quot;12sp&quot;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:id=&quot;@+id/tv_fitness_goal&quot;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Not set&quot;&#10;                                    android:textSize=&quot;16sp&quot;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#10;&#10;                            &lt;/LinearLayout&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;20dp&quot;&#10;                                android:layout_height=&quot;20dp&quot;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                        &lt;!-- Divider --&gt;&#10;                        &lt;View&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;1dp&quot;&#10;                            android:background=&quot;#F0F0F0&quot;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#10;&#10;                        &lt;!-- Workout Frequency --&gt;&#10;                        &lt;LinearLayout&#10;                            android:id=&quot;@+id/layout_workout_frequency&quot;&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;60dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_frequency&quot;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#10;&#10;                            &lt;LinearLayout&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Workout Frequency&quot;&#10;                                    android:textSize=&quot;12sp&quot;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:id=&quot;@+id/tv_workout_frequency&quot;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Not set&quot;&#10;                                    android:textSize=&quot;16sp&quot;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#10;&#10;                            &lt;/LinearLayout&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;20dp&quot;&#10;                                android:layout_height=&quot;20dp&quot;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;&#10;                        &lt;!-- Divider --&gt;&#10;                        &lt;View&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;1dp&quot;&#10;                            android:background=&quot;#F0F0F0&quot;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#10;&#10;                        &lt;!-- Age --&gt;&#10;                        &lt;LinearLayout&#10;                            android:id=&quot;@+id/layout_age&quot;&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;60dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_calendar&quot;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#10;&#10;                            &lt;LinearLayout&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Age&quot;&#10;                                    android:textSize=&quot;12sp&quot;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:id=&quot;@+id/tv_age&quot;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Not set&quot;&#10;                                    android:textSize=&quot;16sp&quot;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#10;&#10;                            &lt;/LinearLayout&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;20dp&quot;&#10;                                android:layout_height=&quot;20dp&quot;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                        &lt;!-- Divider --&gt;&#10;                        &lt;View&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;1dp&quot;&#10;                            android:background=&quot;#F0F0F0&quot;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#10;&#10;                        &lt;!-- Weight --&gt;&#10;                        &lt;LinearLayout&#10;                            android:id=&quot;@+id/layout_weight&quot;&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;60dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_weight&quot;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#10;&#10;                            &lt;LinearLayout&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Weight&quot;&#10;                                    android:textSize=&quot;12sp&quot;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:id=&quot;@+id/tv_weight&quot;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Not set&quot;&#10;                                    android:textSize=&quot;16sp&quot;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#10;&#10;                            &lt;/LinearLayout&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;20dp&quot;&#10;                                android:layout_height=&quot;20dp&quot;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                        &lt;!-- Divider --&gt;&#10;                        &lt;View&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;1dp&quot;&#10;                            android:background=&quot;#F0F0F0&quot;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#10;&#10;                        &lt;!-- Height --&gt;&#10;                        &lt;LinearLayout&#10;                            android:id=&quot;@+id/layout_height&quot;&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;60dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_height&quot;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#10;&#10;                            &lt;LinearLayout&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Height&quot;&#10;                                    android:textSize=&quot;12sp&quot;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:id=&quot;@+id/tv_height&quot;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Not set&quot;&#10;                                    android:textSize=&quot;16sp&quot;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#10;&#10;                            &lt;/LinearLayout&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;20dp&quot;&#10;                                android:layout_height=&quot;20dp&quot;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                        &lt;!-- Divider --&gt;&#10;                        &lt;View&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;1dp&quot;&#10;                            android:background=&quot;#F0F0F0&quot;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#10;&#10;                        &lt;!-- Health Issues --&gt;&#10;                        &lt;LinearLayout&#10;                            android:id=&quot;@+id/layout_health_issues&quot;&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;wrap_content&quot;&#10;                            android:minHeight=&quot;60dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&#10;                            android:paddingVertical=&quot;8dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_health&quot;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#10;                                android:layout_gravity=&quot;top&quot;&#10;                                android:layout_marginTop=&quot;4dp&quot;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#10;&#10;                            &lt;LinearLayout&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Health Issues&quot;&#10;                                    android:textSize=&quot;12sp&quot;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:id=&quot;@+id/tv_health_issues&quot;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;None&quot;&#10;                                    android:textSize=&quot;16sp&quot;&#10;                                    android:textColor=&quot;#333333&quot;&#10;                                    android:maxLines=&quot;3&quot;&#10;                                    android:ellipsize=&quot;end&quot; /&gt;&#10;&#10;                            &lt;/LinearLayout&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;20dp&quot;&#10;                                android:layout_height=&quot;20dp&quot;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#10;                                android:layout_gravity=&quot;top&quot;&#10;                                android:layout_marginTop=&quot;4dp&quot;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                        &lt;!-- Body Focus --&gt;&#10;                        &lt;View&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;1dp&quot;&#10;                            android:background=&quot;#EEEEEE&quot;&#10;                            android:layout_marginVertical=&quot;8dp&quot; /&gt;&#10;&#10;                        &lt;LinearLayout&#10;                            android:id=&quot;@+id/layout_body_focus&quot;&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;wrap_content&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:minHeight=&quot;56dp&quot;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#10;                            android:paddingVertical=&quot;8dp&quot;&#10;                            android:paddingHorizontal=&quot;8dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_fitness&quot;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#10;                                android:layout_gravity=&quot;top&quot;&#10;                                android:layout_marginTop=&quot;4dp&quot;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#10;&#10;                            &lt;LinearLayout&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Body Focus&quot;&#10;                                    android:textSize=&quot;12sp&quot;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:id=&quot;@+id/tv_body_focus&quot;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Not set&quot;&#10;                                    android:textSize=&quot;16sp&quot;&#10;                                    android:textColor=&quot;#333333&quot;&#10;                                    android:maxLines=&quot;3&quot;&#10;                                    android:ellipsize=&quot;end&quot; /&gt;&#10;&#10;                            &lt;/LinearLayout&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;20dp&quot;&#10;                                android:layout_height=&quot;20dp&quot;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#10;                                android:layout_gravity=&quot;top&quot;&#10;                                android:layout_marginTop=&quot;4dp&quot;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                        &lt;!-- Divider --&gt;&#10;                        &lt;View&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;1dp&quot;&#10;                            android:background=&quot;#F0F0F0&quot;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#10;&#10;                        &lt;!-- Preferred Workout Days --&gt;&#10;                        &lt;LinearLayout&#10;                            android:id=&quot;@+id/layout_preferred_days&quot;&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;60dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_calendar&quot;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#10;&#10;                            &lt;LinearLayout&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Preferred Workout Days&quot;&#10;                                    android:textSize=&quot;12sp&quot;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#10;&#10;                                &lt;TextView&#10;                                    android:id=&quot;@+id/tv_preferred_days&quot;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#10;                                    android:text=&quot;Not set&quot;&#10;                                    android:textSize=&quot;16sp&quot;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#10;                            &lt;/LinearLayout&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;20dp&quot;&#10;                                android:layout_height=&quot;20dp&quot;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;&#10;                    &lt;/LinearLayout&gt;&#10;&#10;&#10;                &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;                &lt;!-- Security Card --&gt;&#10;                &lt;androidx.cardview.widget.CardView&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_marginBottom=&quot;20dp&quot;&#10;                    android:backgroundTint=&quot;#FFFFFF&quot;&#10;                    app:cardCornerRadius=&quot;24dp&quot;&#10;                    app:cardElevation=&quot;4dp&quot;&gt;&#10;&#10;                    &lt;LinearLayout&#10;                        android:layout_width=&quot;match_parent&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:orientation=&quot;vertical&quot;&#10;                        android:padding=&quot;20dp&quot;&gt;&#10;&#10;                        &lt;TextView&#10;                            android:layout_width=&quot;wrap_content&quot;&#10;                            android:layout_height=&quot;wrap_content&quot;&#10;                            android:text=&quot;Security&quot;&#10;                            android:textSize=&quot;18sp&quot;&#10;                            android:textStyle=&quot;bold&quot;&#10;                            android:textColor=&quot;#333333&quot;&#10;                            android:layout_marginBottom=&quot;16dp&quot; /&gt;&#10;&#10;                        &lt;!-- Change Password --&gt;&#10;                        &lt;LinearLayout&#10;                            android:id=&quot;@+id/layout_change_password&quot;&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;56dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#10;                            android:paddingHorizontal=&quot;8dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_security&quot;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#10;&#10;                            &lt;TextView&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:text=&quot;Change Password&quot;&#10;                                android:textSize=&quot;16sp&quot;&#10;                                android:textColor=&quot;#333333&quot; /&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;20dp&quot;&#10;                                android:layout_height=&quot;20dp&quot;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                    &lt;/LinearLayout&gt;&#10;&#10;                &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;                &lt;!-- Support Card --&gt;&#10;                &lt;androidx.cardview.widget.CardView&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_marginBottom=&quot;20dp&quot;&#10;                    android:backgroundTint=&quot;#FFFFFF&quot;&#10;                    app:cardCornerRadius=&quot;24dp&quot;&#10;                    app:cardElevation=&quot;4dp&quot;&gt;&#10;&#10;                    &lt;LinearLayout&#10;                        android:layout_width=&quot;match_parent&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:orientation=&quot;vertical&quot;&#10;                        android:padding=&quot;20dp&quot;&gt;&#10;&#10;                        &lt;TextView&#10;                            android:layout_width=&quot;wrap_content&quot;&#10;                            android:layout_height=&quot;wrap_content&quot;&#10;                            android:text=&quot;Support&quot;&#10;                            android:textSize=&quot;18sp&quot;&#10;                            android:textStyle=&quot;bold&quot;&#10;                            android:textColor=&quot;#333333&quot;&#10;                            android:layout_marginBottom=&quot;16dp&quot; /&gt;&#10;&#10;                        &lt;!-- Payment History --&gt;&#10;                        &lt;LinearLayout&#10;                            android:id=&quot;@+id/layout_payment_history&quot;&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;56dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#10;                            android:paddingHorizontal=&quot;8dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_paymenthistory&quot;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#10;&#10;                            &lt;TextView&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:text=&quot;Payment History&quot;&#10;                                android:textSize=&quot;16sp&quot;&#10;                                android:textColor=&quot;#333333&quot; /&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;20dp&quot;&#10;                                android:layout_height=&quot;20dp&quot;&#10;                                android:src=&quot;@drawable/ic_chevron_right&quot;&#10;                                app:tint=&quot;#999999&quot;&#10;                                android:contentDescription=&quot;View payment history&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                        &lt;!-- Feedback --&gt;&#10;                        &lt;LinearLayout&#10;                            android:id=&quot;@+id/layout_feedback&quot;&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;56dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#10;                            android:paddingHorizontal=&quot;8dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_feedback&quot;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#10;&#10;                            &lt;TextView&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:text=&quot;Send Feedback&quot;&#10;                                android:textSize=&quot;16sp&quot;&#10;                                android:textColor=&quot;#333333&quot; /&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;20dp&quot;&#10;                                android:layout_height=&quot;20dp&quot;&#10;                                android:src=&quot;@drawable/ic_chevron_right&quot;&#10;                                app:tint=&quot;#999999&quot;&#10;                                android:contentDescription=&quot;Send feedback&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                        &lt;!-- About Us --&gt;&#10;                        &lt;LinearLayout&#10;                            android:id=&quot;@+id/layout_contact&quot;&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;56dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center_vertical&quot;&#10;                            android:clickable=&quot;true&quot;&#10;                            android:focusable=&quot;true&quot;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#10;                            android:paddingHorizontal=&quot;8dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_phone&quot;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#10;&#10;                            &lt;TextView&#10;                                android:layout_width=&quot;0dp&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:layout_weight=&quot;1&quot;&#10;                                android:text=&quot;About Us&quot;&#10;                                android:textSize=&quot;16sp&quot;&#10;                                android:textColor=&quot;#333333&quot; /&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;20dp&quot;&#10;                                android:layout_height=&quot;20dp&quot;&#10;                                android:src=&quot;@drawable/ic_chevron_right&quot;&#10;                                app:tint=&quot;#999999&quot;&#10;                                android:contentDescription=&quot;About us&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                    &lt;/LinearLayout&gt;&#10;&#10;                &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;&#10;                &lt;!-- Logout Button --&gt;&#10;                &lt;LinearLayout&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:gravity=&quot;center&quot;&#10;                    android:layout_marginBottom=&quot;20dp&quot;&gt;&#10;&#10;                    &lt;!-- TEMPORARY: Food Seeder Button (remove after seeding) --&gt;&#10;                    &lt;androidx.cardview.widget.CardView&#10;                        android:id=&quot;@+id/btn_seed_foods&quot;&#10;                        android:layout_width=&quot;200dp&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:backgroundTint=&quot;#4CAF50&quot;&#10;                        app:cardCornerRadius=&quot;24dp&quot;&#10;                        app:cardElevation=&quot;4dp&quot;&#10;                        android:clickable=&quot;true&quot;&#10;                        android:focusable=&quot;true&quot;&#10;                        android:foreground=&quot;?attr/selectableItemBackground&quot;&#10;                        android:layout_marginBottom=&quot;16dp&quot;&gt;&#10;&#10;                        &lt;LinearLayout&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;56dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center&quot;&#10;                            android:paddingHorizontal=&quot;28dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_star&quot;&#10;                                android:layout_marginEnd=&quot;12dp&quot;&#10;                                app:tint=&quot;#FFFFFF&quot; /&gt;&#10;&#10;                            &lt;TextView&#10;                                android:layout_width=&quot;wrap_content&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:text=&quot;Seed Foods DB&quot;&#10;                                android:textSize=&quot;16sp&quot;&#10;                                android:textColor=&quot;#FFFFFF&quot;&#10;                                android:textStyle=&quot;bold&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                    &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;                    &lt;androidx.cardview.widget.CardView&#10;                        android:id=&quot;@+id/btn_logout&quot;&#10;                        android:layout_width=&quot;200dp&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:backgroundTint=&quot;#FFFFFF&quot;&#10;                        app:cardCornerRadius=&quot;24dp&quot;&#10;                        app:cardElevation=&quot;4dp&quot;&#10;                        android:clickable=&quot;true&quot;&#10;                        android:focusable=&quot;true&quot;&#10;                        android:foreground=&quot;?attr/selectableItemBackground&quot;&gt;&#10;&#10;                        &lt;LinearLayout&#10;                            android:layout_width=&quot;match_parent&quot;&#10;                            android:layout_height=&quot;56dp&quot;&#10;                            android:orientation=&quot;horizontal&quot;&#10;                            android:gravity=&quot;center&quot;&#10;                            android:paddingHorizontal=&quot;28dp&quot;&gt;&#10;&#10;                            &lt;ImageView&#10;                                android:layout_width=&quot;24dp&quot;&#10;                                android:layout_height=&quot;24dp&quot;&#10;                                android:src=&quot;@drawable/ic_logout&quot;&#10;                                android:layout_marginEnd=&quot;12dp&quot;&#10;                                app:tint=&quot;#FF5722&quot; /&gt;&#10;&#10;                            &lt;TextView&#10;                                android:layout_width=&quot;wrap_content&quot;&#10;                                android:layout_height=&quot;wrap_content&quot;&#10;                                android:text=&quot;Log Out&quot;&#10;                                android:textSize=&quot;16sp&quot;&#10;                                android:textColor=&quot;#FF5722&quot;&#10;                                android:textStyle=&quot;bold&quot; /&gt;&#10;&#10;                        &lt;/LinearLayout&gt;&#10;&#10;                    &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;                &lt;/LinearLayout&gt;&#10;&#10;            &lt;/LinearLayout&gt;&#10;&#10;        &lt;/ScrollView&gt;&#10;&#10;    &lt;/LinearLayout&gt;&#10;&#10;    &lt;!-- Bottom Navigation (Simple version without FAB) --&gt;&#10;    &lt;com.google.android.material.bottomnavigation.BottomNavigationView&#10;        android:id=&quot;@+id/bottomNavigation&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_gravity=&quot;bottom&quot;&#10;        android:background=&quot;@color/white&quot;&#10;        android:elevation=&quot;8dp&quot;&#10;        app:labelVisibilityMode=&quot;labeled&quot;&#10;        app:menu=&quot;@menu/bottom_nav_menu_simple&quot; /&gt;&#10;&#10;&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;" />
              <option name="updatedContent" value="&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#13;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#13;&#10;    android:id=&quot;@+id/main&quot;&#13;&#10;    android:layout_width=&quot;match_parent&quot;&#13;&#10;    android:layout_height=&quot;match_parent&quot;&#13;&#10;    android:background=&quot;@drawable/yellowbackg&quot;&gt;&#13;&#10;&#13;&#10;    &lt;!-- Main Content --&gt;&#13;&#10;    &lt;LinearLayout&#13;&#10;        android:layout_width=&quot;match_parent&quot;&#13;&#10;        android:layout_height=&quot;match_parent&quot;&#13;&#10;        android:orientation=&quot;vertical&quot;&#13;&#10;        android:layout_marginBottom=&quot;104dp&quot;&gt;&#13;&#10;&#13;&#10;        &lt;!-- Header Section --&gt;&#13;&#10;        &lt;LinearLayout&#13;&#10;            android:id=&quot;@+id/header_section&quot;&#13;&#10;            android:layout_width=&quot;match_parent&quot;&#13;&#10;            android:layout_height=&quot;wrap_content&quot;&#13;&#10;            android:layout_marginTop=&quot;35dp&quot;&#13;&#10;            android:orientation=&quot;vertical&quot;&#13;&#10;            android:padding=&quot;20dp&quot;&gt;&#13;&#10;&#13;&#10;            &lt;TextView&#13;&#10;                android:layout_width=&quot;match_parent&quot;&#13;&#10;                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                android:text=&quot;Profile&quot;&#13;&#10;                android:textColor=&quot;@android:color/black&quot;&#13;&#10;                android:textSize=&quot;30sp&quot;&#13;&#10;                android:textStyle=&quot;bold&quot;&#13;&#10;                android:gravity=&quot;center&quot;&#13;&#10;                android:layout_marginBottom=&quot;20dp&quot; /&gt;&#13;&#10;&#13;&#10;        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;        &lt;!-- Scrollable Content --&gt;&#13;&#10;        &lt;ScrollView&#13;&#10;            android:id=&quot;@+id/profile_scroll&quot;&#13;&#10;            android:layout_width=&quot;match_parent&quot;&#13;&#10;            android:layout_height=&quot;match_parent&quot;&#13;&#10;            android:fillViewport=&quot;true&quot;&#13;&#10;            android:scrollbars=&quot;none&quot;&gt;&#13;&#10;&#13;&#10;            &lt;LinearLayout&#13;&#10;                android:layout_width=&quot;match_parent&quot;&#13;&#10;                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                android:orientation=&quot;vertical&quot;&#13;&#10;                android:paddingStart=&quot;20dp&quot;&#13;&#10;                android:paddingEnd=&quot;20dp&quot;&#13;&#10;                android:paddingBottom=&quot;16dp&quot;&gt;&#13;&#10;&#13;&#10;                &lt;!-- Profile Section (Centered and Improved) --&gt;&#13;&#10;                &lt;LinearLayout&#13;&#10;                    android:layout_width=&quot;match_parent&quot;&#13;&#10;                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                    android:orientation=&quot;vertical&quot;&#13;&#10;                    android:layout_marginBottom=&quot;20dp&quot;&#13;&#10;                    android:padding=&quot;20dp&quot;&#13;&#10;                    android:gravity=&quot;center&quot;&gt;&#13;&#10;&#13;&#10;                    &lt;!-- Profile Picture with Edit Button - Better Centered --&gt;&#13;&#10;                    &lt;FrameLayout&#13;&#10;                        android:layout_width=&quot;wrap_content&quot;&#13;&#10;                        android:layout_height=&quot;wrap_content&quot;&#13;&#10;                        android:layout_marginBottom=&quot;16dp&quot;&#13;&#10;                        android:layout_gravity=&quot;center&quot;&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Profile Picture Container --&gt;&#13;&#10;                        &lt;androidx.cardview.widget.CardView&#13;&#10;                            android:layout_width=&quot;120dp&quot;&#13;&#10;                            android:layout_height=&quot;120dp&quot;&#13;&#10;                            android:layout_gravity=&quot;center&quot;&#13;&#10;                            app:cardCornerRadius=&quot;60dp&quot;&#13;&#10;                            app:cardElevation=&quot;4dp&quot;&#13;&#10;                            android:layout_margin=&quot;8dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:id=&quot;@+id/iv_profile_picture&quot;&#13;&#10;                                android:layout_width=&quot;match_parent&quot;&#13;&#10;                                android:layout_height=&quot;match_parent&quot;&#13;&#10;                                android:scaleType=&quot;centerCrop&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_profile&quot;&#13;&#10;                                android:clickable=&quot;true&quot;&#13;&#10;                                android:focusable=&quot;true&quot;&#13;&#10;                                android:background=&quot;?attr/selectableItemBackgroundBorderless&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/androidx.cardview.widget.CardView&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Edit Button - Positioned at bottom right --&gt;&#13;&#10;                        &lt;androidx.cardview.widget.CardView&#13;&#10;                            android:id=&quot;@+id/cv_edit_button&quot;&#13;&#10;                            android:layout_width=&quot;25dp&quot;&#13;&#10;                            android:layout_height=&quot;25dp&quot;&#13;&#10;                            android:layout_gravity=&quot;bottom|end&quot;&#13;&#10;                            android:layout_marginEnd=&quot;4dp&quot;&#13;&#10;                            android:layout_marginBottom=&quot;4dp&quot;&#13;&#10;                            app:cardCornerRadius=&quot;20dp&quot;&#13;&#10;                            app:cardElevation=&quot;6dp&quot;&#13;&#10;                            android:backgroundTint=&quot;@android:color/white&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:foreground=&quot;?attr/selectableItemBackgroundBorderless&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:id=&quot;@+id/iv_edit_profile&quot;&#13;&#10;                                android:layout_width=&quot;12dp&quot;&#13;&#10;                                android:layout_height=&quot;12dp&quot;&#13;&#10;                                android:layout_gravity=&quot;center&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#13;&#10;                                android:scaleType=&quot;centerCrop&quot;&#13;&#10;                                app:tint=&quot;@color/black&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/androidx.cardview.widget.CardView&gt;&#13;&#10;&#13;&#10;                    &lt;/FrameLayout&gt;&#13;&#10;&#13;&#10;                    &lt;!-- Name and Member ID - Perfectly Centered --&gt;&#13;&#10;                    &lt;LinearLayout&#13;&#10;                        android:layout_width=&quot;wrap_content&quot;&#13;&#10;                        android:layout_height=&quot;wrap_content&quot;&#13;&#10;                        android:orientation=&quot;vertical&quot;&#13;&#10;                        android:gravity=&quot;center&quot;&#13;&#10;                        android:layout_marginBottom=&quot;12dp&quot;&gt;&#13;&#10;&#13;&#10;                        &lt;TextView&#13;&#10;                            android:id=&quot;@+id/profileName&quot;&#13;&#10;                            android:layout_width=&quot;wrap_content&quot;&#13;&#10;                            android:layout_height=&quot;wrap_content&quot;&#13;&#10;                            android:text=&quot;Loading...&quot;&#13;&#10;                            android:textSize=&quot;26sp&quot;&#13;&#10;                            android:textStyle=&quot;bold&quot;&#13;&#10;                            android:textColor=&quot;@android:color/black&quot;&#13;&#10;                            android:gravity=&quot;center&quot;&#13;&#10;                            android:layout_marginBottom=&quot;4dp&quot; /&gt;&#13;&#10;&#13;&#10;&#13;&#10;                    &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                    &lt;!-- Status Badge - Centered --&gt;&#13;&#10;                    &lt;androidx.cardview.widget.CardView&#13;&#10;                        android:layout_width=&quot;wrap_content&quot;&#13;&#10;                        android:layout_height=&quot;wrap_content&quot;&#13;&#10;                        android:backgroundTint=&quot;#E8F5E8&quot;&#13;&#10;                        app:cardCornerRadius=&quot;20dp&quot;&#13;&#10;                        app:cardElevation=&quot;2dp&quot;&#13;&#10;                        android:layout_gravity=&quot;center&quot;&gt;&#13;&#10;&#13;&#10;                        &lt;TextView&#13;&#10;                            android:id=&quot;@+id/tv_status&quot;&#13;&#10;                            android:layout_width=&quot;wrap_content&quot;&#13;&#10;                            android:layout_height=&quot;wrap_content&quot;&#13;&#10;                            android:text=&quot;ACTIVE MEMBER&quot;&#13;&#10;                            android:textSize=&quot;12sp&quot;&#13;&#10;                            android:textStyle=&quot;bold&quot;&#13;&#10;                            android:textColor=&quot;#4CAF50&quot;&#13;&#10;                            android:paddingHorizontal=&quot;20dp&quot;&#13;&#10;                            android:paddingVertical=&quot;8dp&quot;&#13;&#10;                            android:gravity=&quot;center&quot; /&gt;&#13;&#10;&#13;&#10;                    &lt;/androidx.cardview.widget.CardView&gt;&#13;&#10;&#13;&#10;                &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                &lt;!-- Profile Information Card --&gt;&#13;&#10;                &lt;androidx.cardview.widget.CardView&#13;&#10;                    android:layout_width=&quot;match_parent&quot;&#13;&#10;                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                    android:layout_marginBottom=&quot;20dp&quot;&#13;&#10;                    android:backgroundTint=&quot;#FFFFFF&quot;&#13;&#10;                    app:cardCornerRadius=&quot;24dp&quot;&#13;&#10;                    app:cardElevation=&quot;4dp&quot;&gt;&#13;&#10;&#13;&#10;                    &lt;LinearLayout&#13;&#10;                        android:layout_width=&quot;match_parent&quot;&#13;&#10;                        android:layout_height=&quot;wrap_content&quot;&#13;&#10;                        android:orientation=&quot;vertical&quot;&#13;&#10;                        android:padding=&quot;20dp&quot;&gt;&#13;&#10;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;wrap_content&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:layout_marginBottom=&quot;16dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;TextView&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:text=&quot;Personal Information&quot;&#13;&#10;                                android:textSize=&quot;18sp&quot;&#13;&#10;                                android:textStyle=&quot;bold&quot;&#13;&#10;                                android:textColor=&quot;#333333&quot; /&gt;&#13;&#10;&#13;&#10;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Email --&gt;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:id=&quot;@+id/layout_email&quot;&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;60dp&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#13;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_email&quot;&#13;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#13;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;LinearLayout&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Email&quot;&#13;&#10;                                    android:textSize=&quot;12sp&quot;&#13;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:id=&quot;@+id/profileEmail&quot;&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Loading...&quot;&#13;&#10;                                    android:textSize=&quot;16sp&quot;&#13;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;20dp&quot;&#13;&#10;                                android:layout_height=&quot;20dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#13;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Divider --&gt;&#13;&#10;                        &lt;View&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;1dp&quot;&#13;&#10;                            android:background=&quot;#F0F0F0&quot;&#13;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Phone --&gt;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:id=&quot;@+id/layout_phone&quot;&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;60dp&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#13;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_phone&quot;&#13;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#13;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;LinearLayout&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Phone Number&quot;&#13;&#10;                                    android:textSize=&quot;12sp&quot;&#13;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:id=&quot;@+id/tv_phone&quot;&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;+1 (555) 123-4567&quot;&#13;&#10;                                    android:textSize=&quot;16sp&quot;&#13;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;20dp&quot;&#13;&#10;                                android:layout_height=&quot;20dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#13;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Divider --&gt;&#13;&#10;                        &lt;View&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;1dp&quot;&#13;&#10;                            android:background=&quot;#F0F0F0&quot;&#13;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Date of Birth --&gt;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:id=&quot;@+id/layout_dob&quot;&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;60dp&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#13;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_calendar&quot;&#13;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#13;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;LinearLayout&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Date of Birth&quot;&#13;&#10;                                    android:textSize=&quot;12sp&quot;&#13;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:id=&quot;@+id/tv_dob&quot;&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;January 15, 1990&quot;&#13;&#10;                                    android:textSize=&quot;16sp&quot;&#13;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;20dp&quot;&#13;&#10;                                android:layout_height=&quot;20dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#13;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                    &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                &lt;/androidx.cardview.widget.CardView&gt;&#13;&#10;&#13;&#10;                &lt;!-- Fitness Information Card --&gt;&#13;&#10;                &lt;androidx.cardview.widget.CardView&#13;&#10;                    android:layout_width=&quot;match_parent&quot;&#13;&#10;                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                    android:layout_marginBottom=&quot;20dp&quot;&#13;&#10;                    android:backgroundTint=&quot;#FFFFFF&quot;&#13;&#10;                    app:cardCornerRadius=&quot;24dp&quot;&#13;&#10;                    app:cardElevation=&quot;4dp&quot;&gt;&#13;&#10;&#13;&#10;                    &lt;LinearLayout&#13;&#10;                        android:layout_width=&quot;match_parent&quot;&#13;&#10;                        android:layout_height=&quot;wrap_content&quot;&#13;&#10;                        android:orientation=&quot;vertical&quot;&#13;&#10;                        android:padding=&quot;20dp&quot;&gt;&#13;&#10;&#13;&#10;                        &lt;TextView&#13;&#10;                            android:layout_width=&quot;wrap_content&quot;&#13;&#10;                            android:layout_height=&quot;wrap_content&quot;&#13;&#10;                            android:text=&quot;Fitness Profile&quot;&#13;&#10;                            android:textSize=&quot;18sp&quot;&#13;&#10;                            android:textStyle=&quot;bold&quot;&#13;&#10;                            android:textColor=&quot;#333333&quot;&#13;&#10;                            android:layout_marginBottom=&quot;16dp&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Fitness Level --&gt;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:id=&quot;@+id/layout_fitness_level&quot;&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;60dp&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#13;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_fitness&quot;&#13;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#13;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;LinearLayout&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Fitness Level&quot;&#13;&#10;                                    android:textSize=&quot;12sp&quot;&#13;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:id=&quot;@+id/tv_fitness_level&quot;&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Not set&quot;&#13;&#10;                                    android:textSize=&quot;16sp&quot;&#13;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;20dp&quot;&#13;&#10;                                android:layout_height=&quot;20dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#13;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Divider --&gt;&#13;&#10;                        &lt;View&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;1dp&quot;&#13;&#10;                            android:background=&quot;#F0F0F0&quot;&#13;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Fitness Goal --&gt;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:id=&quot;@+id/layout_fitness_goal&quot;&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;60dp&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#13;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_target&quot;&#13;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#13;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;LinearLayout&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Fitness Goal&quot;&#13;&#10;                                    android:textSize=&quot;12sp&quot;&#13;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:id=&quot;@+id/tv_fitness_goal&quot;&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Not set&quot;&#13;&#10;                                    android:textSize=&quot;16sp&quot;&#13;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;20dp&quot;&#13;&#10;                                android:layout_height=&quot;20dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#13;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Divider --&gt;&#13;&#10;                        &lt;View&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;1dp&quot;&#13;&#10;                            android:background=&quot;#F0F0F0&quot;&#13;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Workout Frequency --&gt;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:id=&quot;@+id/layout_workout_frequency&quot;&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;60dp&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#13;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_frequency&quot;&#13;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#13;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;LinearLayout&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Workout Frequency&quot;&#13;&#10;                                    android:textSize=&quot;12sp&quot;&#13;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:id=&quot;@+id/tv_workout_frequency&quot;&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Not set&quot;&#13;&#10;                                    android:textSize=&quot;16sp&quot;&#13;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;20dp&quot;&#13;&#10;                                android:layout_height=&quot;20dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#13;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;&#13;&#10;                        &lt;!-- Divider --&gt;&#13;&#10;                        &lt;View&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;1dp&quot;&#13;&#10;                            android:background=&quot;#F0F0F0&quot;&#13;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Age --&gt;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:id=&quot;@+id/layout_age&quot;&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;60dp&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#13;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_calendar&quot;&#13;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#13;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;LinearLayout&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Age&quot;&#13;&#10;                                    android:textSize=&quot;12sp&quot;&#13;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:id=&quot;@+id/tv_age&quot;&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Not set&quot;&#13;&#10;                                    android:textSize=&quot;16sp&quot;&#13;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;20dp&quot;&#13;&#10;                                android:layout_height=&quot;20dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#13;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Divider --&gt;&#13;&#10;                        &lt;View&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;1dp&quot;&#13;&#10;                            android:background=&quot;#F0F0F0&quot;&#13;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Weight --&gt;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:id=&quot;@+id/layout_weight&quot;&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;60dp&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#13;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_weight&quot;&#13;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#13;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;LinearLayout&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Weight&quot;&#13;&#10;                                    android:textSize=&quot;12sp&quot;&#13;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:id=&quot;@+id/tv_weight&quot;&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Not set&quot;&#13;&#10;                                    android:textSize=&quot;16sp&quot;&#13;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;20dp&quot;&#13;&#10;                                android:layout_height=&quot;20dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#13;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Divider --&gt;&#13;&#10;                        &lt;View&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;1dp&quot;&#13;&#10;                            android:background=&quot;#F0F0F0&quot;&#13;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Height --&gt;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:id=&quot;@+id/layout_height&quot;&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;60dp&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#13;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_height&quot;&#13;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#13;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;LinearLayout&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Height&quot;&#13;&#10;                                    android:textSize=&quot;12sp&quot;&#13;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:id=&quot;@+id/tv_height&quot;&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Not set&quot;&#13;&#10;                                    android:textSize=&quot;16sp&quot;&#13;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;20dp&quot;&#13;&#10;                                android:layout_height=&quot;20dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#13;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Divider --&gt;&#13;&#10;                        &lt;View&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;1dp&quot;&#13;&#10;                            android:background=&quot;#F0F0F0&quot;&#13;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Health Issues --&gt;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:id=&quot;@+id/layout_health_issues&quot;&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;wrap_content&quot;&#13;&#10;                            android:minHeight=&quot;60dp&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#13;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&#13;&#10;                            android:paddingVertical=&quot;8dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_health&quot;&#13;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#13;&#10;                                android:layout_gravity=&quot;top&quot;&#13;&#10;                                android:layout_marginTop=&quot;4dp&quot;&#13;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;LinearLayout&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Health Issues&quot;&#13;&#10;                                    android:textSize=&quot;12sp&quot;&#13;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:id=&quot;@+id/tv_health_issues&quot;&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;None&quot;&#13;&#10;                                    android:textSize=&quot;16sp&quot;&#13;&#10;                                    android:textColor=&quot;#333333&quot;&#13;&#10;                                    android:maxLines=&quot;3&quot;&#13;&#10;                                    android:ellipsize=&quot;end&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;20dp&quot;&#13;&#10;                                android:layout_height=&quot;20dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#13;&#10;                                android:layout_gravity=&quot;top&quot;&#13;&#10;                                android:layout_marginTop=&quot;4dp&quot;&#13;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Body Focus --&gt;&#13;&#10;                        &lt;View&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;1dp&quot;&#13;&#10;                            android:background=&quot;#EEEEEE&quot;&#13;&#10;                            android:layout_marginVertical=&quot;8dp&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:id=&quot;@+id/layout_body_focus&quot;&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;wrap_content&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:minHeight=&quot;56dp&quot;&#13;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#13;&#10;                            android:paddingVertical=&quot;8dp&quot;&#13;&#10;                            android:paddingHorizontal=&quot;8dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_fitness&quot;&#13;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#13;&#10;                                android:layout_gravity=&quot;top&quot;&#13;&#10;                                android:layout_marginTop=&quot;4dp&quot;&#13;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;LinearLayout&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Body Focus&quot;&#13;&#10;                                    android:textSize=&quot;12sp&quot;&#13;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:id=&quot;@+id/tv_body_focus&quot;&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Not set&quot;&#13;&#10;                                    android:textSize=&quot;16sp&quot;&#13;&#10;                                    android:textColor=&quot;#333333&quot;&#13;&#10;                                    android:maxLines=&quot;3&quot;&#13;&#10;                                    android:ellipsize=&quot;end&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;20dp&quot;&#13;&#10;                                android:layout_height=&quot;20dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#13;&#10;                                android:layout_gravity=&quot;top&quot;&#13;&#10;                                android:layout_marginTop=&quot;4dp&quot;&#13;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Divider --&gt;&#13;&#10;                        &lt;View&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;1dp&quot;&#13;&#10;                            android:background=&quot;#F0F0F0&quot;&#13;&#10;                            android:layout_marginVertical=&quot;4dp&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Preferred Workout Days --&gt;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:id=&quot;@+id/layout_preferred_days&quot;&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;60dp&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#13;&#10;                            android:paddingHorizontal=&quot;12dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_calendar&quot;&#13;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#13;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;LinearLayout&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:orientation=&quot;vertical&quot;&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Preferred Workout Days&quot;&#13;&#10;                                    android:textSize=&quot;12sp&quot;&#13;&#10;                                    android:textColor=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                                &lt;TextView&#13;&#10;                                    android:id=&quot;@+id/tv_preferred_days&quot;&#13;&#10;                                    android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                    android:text=&quot;Not set&quot;&#13;&#10;                                    android:textSize=&quot;16sp&quot;&#13;&#10;                                    android:textColor=&quot;#333333&quot; /&gt;&#13;&#10;                            &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;20dp&quot;&#13;&#10;                                android:layout_height=&quot;20dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#13;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;&#13;&#10;                    &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;&#13;&#10;                &lt;/androidx.cardview.widget.CardView&gt;&#13;&#10;&#13;&#10;                &lt;!-- Security Card --&gt;&#13;&#10;                &lt;androidx.cardview.widget.CardView&#13;&#10;                    android:layout_width=&quot;match_parent&quot;&#13;&#10;                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                    android:layout_marginBottom=&quot;20dp&quot;&#13;&#10;                    android:backgroundTint=&quot;#FFFFFF&quot;&#13;&#10;                    app:cardCornerRadius=&quot;24dp&quot;&#13;&#10;                    app:cardElevation=&quot;4dp&quot;&gt;&#13;&#10;&#13;&#10;                    &lt;LinearLayout&#13;&#10;                        android:layout_width=&quot;match_parent&quot;&#13;&#10;                        android:layout_height=&quot;wrap_content&quot;&#13;&#10;                        android:orientation=&quot;vertical&quot;&#13;&#10;                        android:padding=&quot;20dp&quot;&gt;&#13;&#10;&#13;&#10;                        &lt;TextView&#13;&#10;                            android:layout_width=&quot;wrap_content&quot;&#13;&#10;                            android:layout_height=&quot;wrap_content&quot;&#13;&#10;                            android:text=&quot;Security&quot;&#13;&#10;                            android:textSize=&quot;18sp&quot;&#13;&#10;                            android:textStyle=&quot;bold&quot;&#13;&#10;                            android:textColor=&quot;#333333&quot;&#13;&#10;                            android:layout_marginBottom=&quot;16dp&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Change Password --&gt;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:id=&quot;@+id/layout_change_password&quot;&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;56dp&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#13;&#10;                            android:paddingHorizontal=&quot;8dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_security&quot;&#13;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#13;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;TextView&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:text=&quot;Change Password&quot;&#13;&#10;                                android:textSize=&quot;16sp&quot;&#13;&#10;                                android:textColor=&quot;#333333&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;20dp&quot;&#13;&#10;                                android:layout_height=&quot;20dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_edit&quot;&#13;&#10;                                app:tint=&quot;#CCCCCC&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                    &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                &lt;/androidx.cardview.widget.CardView&gt;&#13;&#10;&#13;&#10;                &lt;!-- Support Card --&gt;&#13;&#10;                &lt;androidx.cardview.widget.CardView&#13;&#10;                    android:layout_width=&quot;match_parent&quot;&#13;&#10;                    android:layout_height=&quot;wrap_content&quot;&#13;&#10;                    android:layout_marginBottom=&quot;20dp&quot;&#13;&#10;                    android:backgroundTint=&quot;#FFFFFF&quot;&#13;&#10;                    app:cardCornerRadius=&quot;24dp&quot;&#13;&#10;                    app:cardElevation=&quot;4dp&quot;&gt;&#13;&#10;&#13;&#10;                    &lt;LinearLayout&#13;&#10;                        android:layout_width=&quot;match_parent&quot;&#13;&#10;                        android:layout_height=&quot;wrap_content&quot;&#13;&#10;                        android:orientation=&quot;vertical&quot;&#13;&#10;                        android:padding=&quot;20dp&quot;&gt;&#13;&#10;&#13;&#10;                        &lt;TextView&#13;&#10;                            android:layout_width=&quot;wrap_content&quot;&#13;&#10;                            android:layout_height=&quot;wrap_content&quot;&#13;&#10;                            android:text=&quot;Support&quot;&#13;&#10;                            android:textSize=&quot;18sp&quot;&#13;&#10;                            android:textStyle=&quot;bold&quot;&#13;&#10;                            android:textColor=&quot;#333333&quot;&#13;&#10;                            android:layout_marginBottom=&quot;16dp&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Payment History --&gt;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:id=&quot;@+id/layout_payment_history&quot;&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;56dp&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#13;&#10;                            android:paddingHorizontal=&quot;8dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_paymenthistory&quot;&#13;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#13;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;TextView&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:text=&quot;Payment History&quot;&#13;&#10;                                android:textSize=&quot;16sp&quot;&#13;&#10;                                android:textColor=&quot;#333333&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;20dp&quot;&#13;&#10;                                android:layout_height=&quot;20dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_chevron_right&quot;&#13;&#10;                                app:tint=&quot;#999999&quot;&#13;&#10;                                android:contentDescription=&quot;View payment history&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                        &lt;!-- Feedback --&gt;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:id=&quot;@+id/layout_feedback&quot;&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;56dp&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#13;&#10;                            android:paddingHorizontal=&quot;8dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_feedback&quot;&#13;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#13;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;TextView&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:text=&quot;Send Feedback&quot;&#13;&#10;                                android:textSize=&quot;16sp&quot;&#13;&#10;                                android:textColor=&quot;#333333&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;20dp&quot;&#13;&#10;                                android:layout_height=&quot;20dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_chevron_right&quot;&#13;&#10;                                app:tint=&quot;#999999&quot;&#13;&#10;                                android:contentDescription=&quot;Send feedback&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                        &lt;!-- About Us --&gt;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:id=&quot;@+id/layout_contact&quot;&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;56dp&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center_vertical&quot;&#13;&#10;                            android:clickable=&quot;true&quot;&#13;&#10;                            android:focusable=&quot;true&quot;&#13;&#10;                            android:background=&quot;?attr/selectableItemBackground&quot;&#13;&#10;                            android:paddingHorizontal=&quot;8dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_phone&quot;&#13;&#10;                                android:layout_marginEnd=&quot;16dp&quot;&#13;&#10;                                app:tint=&quot;#666666&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;TextView&#13;&#10;                                android:layout_width=&quot;0dp&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:layout_weight=&quot;1&quot;&#13;&#10;                                android:text=&quot;About Us&quot;&#13;&#10;                                android:textSize=&quot;16sp&quot;&#13;&#10;                                android:textColor=&quot;#333333&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;20dp&quot;&#13;&#10;                                android:layout_height=&quot;20dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_chevron_right&quot;&#13;&#10;                                app:tint=&quot;#999999&quot;&#13;&#10;                                android:contentDescription=&quot;About us&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                    &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                &lt;/androidx.cardview.widget.CardView&gt;&#13;&#10;&#13;&#10;&#13;&#10;                &lt;!-- Logout Button --&gt;&#13;&#10;                &lt;LinearLayout&#13;&#10;                    android:layout_width=&quot;match_parent&quot;&#13;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:gravity=&quot;center&quot;&#10;                    android:layout_marginBottom=&quot;20dp&quot;&gt;&#10;&#10;                    &lt;androidx.cardview.widget.CardView&#13;&#10;                        android:id=&quot;@+id/btn_logout&quot;&#13;&#10;                        android:layout_width=&quot;200dp&quot;&#13;&#10;                        android:layout_height=&quot;wrap_content&quot;&#13;&#10;                        android:backgroundTint=&quot;#FFFFFF&quot;&#13;&#10;                        app:cardCornerRadius=&quot;24dp&quot;&#13;&#10;                        app:cardElevation=&quot;4dp&quot;&#13;&#10;                        android:clickable=&quot;true&quot;&#13;&#10;                        android:focusable=&quot;true&quot;&#13;&#10;                        android:foreground=&quot;?attr/selectableItemBackground&quot;&gt;&#13;&#10;&#13;&#10;                        &lt;LinearLayout&#13;&#10;                            android:layout_width=&quot;match_parent&quot;&#13;&#10;                            android:layout_height=&quot;56dp&quot;&#13;&#10;                            android:orientation=&quot;horizontal&quot;&#13;&#10;                            android:gravity=&quot;center&quot;&#13;&#10;                            android:paddingHorizontal=&quot;28dp&quot;&gt;&#13;&#10;&#13;&#10;                            &lt;ImageView&#13;&#10;                                android:layout_width=&quot;24dp&quot;&#13;&#10;                                android:layout_height=&quot;24dp&quot;&#13;&#10;                                android:src=&quot;@drawable/ic_logout&quot;&#13;&#10;                                android:layout_marginEnd=&quot;12dp&quot;&#13;&#10;                                app:tint=&quot;#FF5722&quot; /&gt;&#13;&#10;&#13;&#10;                            &lt;TextView&#13;&#10;                                android:layout_width=&quot;wrap_content&quot;&#13;&#10;                                android:layout_height=&quot;wrap_content&quot;&#13;&#10;                                android:text=&quot;Log Out&quot;&#13;&#10;                                android:textSize=&quot;16sp&quot;&#13;&#10;                                android:textColor=&quot;#FF5722&quot;&#13;&#10;                                android:textStyle=&quot;bold&quot; /&gt;&#13;&#10;&#13;&#10;                        &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;                    &lt;/androidx.cardview.widget.CardView&gt;&#13;&#10;&#13;&#10;                &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;            &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;        &lt;/ScrollView&gt;&#13;&#10;&#13;&#10;    &lt;/LinearLayout&gt;&#13;&#10;&#13;&#10;    &lt;!-- Bottom Navigation (Simple version without FAB) --&gt;&#13;&#10;    &lt;com.google.android.material.bottomnavigation.BottomNavigationView&#13;&#10;        android:id=&quot;@+id/bottomNavigation&quot;&#13;&#10;        android:layout_width=&quot;match_parent&quot;&#13;&#10;        android:layout_height=&quot;wrap_content&quot;&#13;&#10;        android:layout_gravity=&quot;bottom&quot;&#13;&#10;        android:background=&quot;@color/white&quot;&#13;&#10;        android:elevation=&quot;8dp&quot;&#13;&#10;        app:labelVisibilityMode=&quot;labeled&quot;&#13;&#10;        app:menu=&quot;@menu/bottom_nav_menu_simple&quot; /&gt;&#13;&#10;&#13;&#10;&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>